var Ak=Object.defineProperty;var Sk=(n,e,t)=>e in n?Ak(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ti=(n,e,t)=>(Sk(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Q0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var WP={exports:{}},Z0={},XP={exports:{}},Bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf=Symbol.for("react.element"),wk=Symbol.for("react.portal"),Mk=Symbol.for("react.fragment"),bk=Symbol.for("react.strict_mode"),Ek=Symbol.for("react.profiler"),Ck=Symbol.for("react.provider"),Tk=Symbol.for("react.context"),Rk=Symbol.for("react.forward_ref"),Pk=Symbol.for("react.suspense"),Lk=Symbol.for("react.memo"),Bk=Symbol.for("react.lazy"),BE=Symbol.iterator;function Ik(n){return n===null||typeof n!="object"?null:(n=BE&&n[BE]||n["@@iterator"],typeof n=="function"?n:null)}var JP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qP=Object.assign,YP={};function fd(n,e,t){this.props=n,this.context=e,this.refs=YP,this.updater=t||JP}fd.prototype.isReactComponent={};fd.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};fd.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function KP(){}KP.prototype=fd.prototype;function wS(n,e,t){this.props=n,this.context=e,this.refs=YP,this.updater=t||JP}var MS=wS.prototype=new KP;MS.constructor=wS;qP(MS,fd.prototype);MS.isPureReactComponent=!0;var IE=Array.isArray,QP=Object.prototype.hasOwnProperty,bS={current:null},ZP={key:!0,ref:!0,__self:!0,__source:!0};function $P(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)QP.call(e,i)&&!ZP.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Bf,type:n,key:s,ref:o,props:r,_owner:bS.current}}function Dk(n,e){return{$$typeof:Bf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function ES(n){return typeof n=="object"&&n!==null&&n.$$typeof===Bf}function Nk(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var DE=/\/+/g;function ux(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Nk(""+n.key):e.toString(36)}function Tg(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Bf:case wk:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+ux(o,0):i,IE(r)?(t="",n!=null&&(t=n.replace(DE,"$&/")+"/"),Tg(r,e,t,"",function(c){return c})):r!=null&&(ES(r)&&(r=Dk(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(DE,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",IE(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+ux(s,a);o+=Tg(s,e,t,l,r)}else if(l=Ik(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+ux(s,a++),o+=Tg(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rm(n,e,t){if(n==null)return n;var i=[],r=0;return Tg(n,i,"","",function(s){return e.call(t,s,r++)}),i}function Fk(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ji={current:null},Rg={transition:null},Ok={ReactCurrentDispatcher:Ji,ReactCurrentBatchConfig:Rg,ReactCurrentOwner:bS};Bt.Children={map:rm,forEach:function(n,e,t){rm(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return rm(n,function(){e++}),e},toArray:function(n){return rm(n,function(e){return e})||[]},only:function(n){if(!ES(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Bt.Component=fd;Bt.Fragment=Mk;Bt.Profiler=Ek;Bt.PureComponent=wS;Bt.StrictMode=bk;Bt.Suspense=Pk;Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ok;Bt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=qP({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=bS.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)QP.call(e,l)&&!ZP.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Bf,type:n.type,key:r,ref:s,props:i,_owner:o}};Bt.createContext=function(n){return n={$$typeof:Tk,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Ck,_context:n},n.Consumer=n};Bt.createElement=$P;Bt.createFactory=function(n){var e=$P.bind(null,n);return e.type=n,e};Bt.createRef=function(){return{current:null}};Bt.forwardRef=function(n){return{$$typeof:Rk,render:n}};Bt.isValidElement=ES;Bt.lazy=function(n){return{$$typeof:Bk,_payload:{_status:-1,_result:n},_init:Fk}};Bt.memo=function(n,e){return{$$typeof:Lk,type:n,compare:e===void 0?null:e}};Bt.startTransition=function(n){var e=Rg.transition;Rg.transition={};try{n()}finally{Rg.transition=e}};Bt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Bt.useCallback=function(n,e){return Ji.current.useCallback(n,e)};Bt.useContext=function(n){return Ji.current.useContext(n)};Bt.useDebugValue=function(){};Bt.useDeferredValue=function(n){return Ji.current.useDeferredValue(n)};Bt.useEffect=function(n,e){return Ji.current.useEffect(n,e)};Bt.useId=function(){return Ji.current.useId()};Bt.useImperativeHandle=function(n,e,t){return Ji.current.useImperativeHandle(n,e,t)};Bt.useInsertionEffect=function(n,e){return Ji.current.useInsertionEffect(n,e)};Bt.useLayoutEffect=function(n,e){return Ji.current.useLayoutEffect(n,e)};Bt.useMemo=function(n,e){return Ji.current.useMemo(n,e)};Bt.useReducer=function(n,e,t){return Ji.current.useReducer(n,e,t)};Bt.useRef=function(n){return Ji.current.useRef(n)};Bt.useState=function(n){return Ji.current.useState(n)};Bt.useSyncExternalStore=function(n,e,t){return Ji.current.useSyncExternalStore(n,e,t)};Bt.useTransition=function(){return Ji.current.useTransition()};Bt.version="18.2.0";XP.exports=Bt;var ae=XP.exports;const hn=Q0(ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kk=ae,Uk=Symbol.for("react.element"),zk=Symbol.for("react.fragment"),Hk=Object.prototype.hasOwnProperty,Gk=kk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vk={key:!0,ref:!0,__self:!0,__source:!0};function e3(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Hk.call(e,i)&&!Vk.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Uk,type:n,key:s,ref:o,props:r,_owner:Gk.current}}Z0.Fragment=zk;Z0.jsx=e3;Z0.jsxs=e3;WP.exports=Z0;var C=WP.exports,d1={},t3={exports:{}},Rr={},n3={exports:{}},i3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,V){var j=N.length;N.push(V);e:for(;0<j;){var K=j-1>>>1,ie=N[K];if(0<r(ie,V))N[K]=V,N[j]=ie,j=K;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var V=N[0],j=N.pop();if(j!==V){N[0]=j;e:for(var K=0,ie=N.length,re=ie>>>1;K<re;){var fe=2*(K+1)-1,we=N[fe],Ce=fe+1,Le=N[Ce];if(0>r(we,j))Ce<ie&&0>r(Le,we)?(N[K]=Le,N[Ce]=j,K=Ce):(N[K]=we,N[fe]=j,K=fe);else if(Ce<ie&&0>r(Le,j))N[K]=Le,N[Ce]=j,K=Ce;else break e}}return V}function r(N,V){var j=N.sortIndex-V.sortIndex;return j!==0?j:N.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,m=!1,v=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(N){for(var V=t(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=N)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(c)}}function M(N){if(x=!1,S(N),!v)if(t(l)!==null)v=!0,Z(T);else{var V=t(c);V!==null&&ce(M,V.startTime-N)}}function T(N,V){v=!1,x&&(x=!1,g(D),D=-1),m=!0;var j=p;try{for(S(V),f=t(l);f!==null&&(!(f.expirationTime>V)||N&&!H());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var ie=K(f.expirationTime<=V);V=n.unstable_now(),typeof ie=="function"?f.callback=ie:f===t(l)&&i(l),S(V)}else i(l);f=t(l)}if(f!==null)var re=!0;else{var fe=t(c);fe!==null&&ce(M,fe.startTime-V),re=!1}return re}finally{f=null,p=j,m=!1}}var P=!1,B=null,D=-1,L=5,I=-1;function H(){return!(n.unstable_now()-I<L)}function W(){if(B!==null){var N=n.unstable_now();I=N;var V=!0;try{V=B(!0,N)}finally{V?ee():(P=!1,B=null)}}else P=!1}var ee;if(typeof _=="function")ee=function(){_(W)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=W,ee=function(){Q.postMessage(null)}}else ee=function(){A(W,0)};function Z(N){B=N,P||(P=!0,ee())}function ce(N,V){D=A(function(){N(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,Z(T))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var j=p;p=V;try{return N()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=p;p=N;try{return V()}finally{p=j}},n.unstable_scheduleCallback=function(N,V,j){var K=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?K+j:K):j=K,N){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=j+ie,N={id:d++,callback:V,priorityLevel:N,startTime:j,expirationTime:ie,sortIndex:-1},j>K?(N.sortIndex=j,e(c,N),t(l)===null&&N===t(c)&&(x?(g(D),D=-1):x=!0,ce(M,j-K))):(N.sortIndex=ie,e(l,N),v||m||(v=!0,Z(T))),N},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(N){var V=p;return function(){var j=p;p=V;try{return N.apply(this,arguments)}finally{p=j}}}})(i3);n3.exports=i3;var jk=n3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r3=ae,br=jk;function Pe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s3=new Set,jh={};function hc(n,e){Wu(n,e),Wu(n+"Capture",e)}function Wu(n,e){for(jh[n]=e,n=0;n<e.length;n++)s3.add(e[n])}var Ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h1=Object.prototype.hasOwnProperty,Wk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NE={},FE={};function Xk(n){return h1.call(FE,n)?!0:h1.call(NE,n)?!1:Wk.test(n)?FE[n]=!0:(NE[n]=!0,!1)}function Jk(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function qk(n,e,t,i){if(e===null||typeof e>"u"||Jk(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qi(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){gi[n]=new qi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];gi[e]=new qi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){gi[n]=new qi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){gi[n]=new qi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){gi[n]=new qi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){gi[n]=new qi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){gi[n]=new qi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){gi[n]=new qi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){gi[n]=new qi(n,5,!1,n.toLowerCase(),null,!1,!1)});var CS=/[\-:]([a-z])/g;function TS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(CS,TS);gi[e]=new qi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(CS,TS);gi[e]=new qi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(CS,TS);gi[e]=new qi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){gi[n]=new qi(n,1,!1,n.toLowerCase(),null,!1,!1)});gi.xlinkHref=new qi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){gi[n]=new qi(n,1,!1,n.toLowerCase(),null,!0,!0)});function RS(n,e,t,i){var r=gi.hasOwnProperty(e)?gi[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qk(e,t,r,i)&&(t=null),i||r===null?Xk(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var qo=r3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sm=Symbol.for("react.element"),fu=Symbol.for("react.portal"),pu=Symbol.for("react.fragment"),PS=Symbol.for("react.strict_mode"),f1=Symbol.for("react.profiler"),o3=Symbol.for("react.provider"),a3=Symbol.for("react.context"),LS=Symbol.for("react.forward_ref"),p1=Symbol.for("react.suspense"),m1=Symbol.for("react.suspense_list"),BS=Symbol.for("react.memo"),ga=Symbol.for("react.lazy"),l3=Symbol.for("react.offscreen"),OE=Symbol.iterator;function Gd(n){return n===null||typeof n!="object"?null:(n=OE&&n[OE]||n["@@iterator"],typeof n=="function"?n:null)}var xn=Object.assign,dx;function mh(n){if(dx===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);dx=e&&e[1]||""}return`
`+dx+n}var hx=!1;function fx(n,e){if(!n||hx)return"";hx=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{hx=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?mh(n):""}function Yk(n){switch(n.tag){case 5:return mh(n.type);case 16:return mh("Lazy");case 13:return mh("Suspense");case 19:return mh("SuspenseList");case 0:case 2:case 15:return n=fx(n.type,!1),n;case 11:return n=fx(n.type.render,!1),n;case 1:return n=fx(n.type,!0),n;default:return""}}function g1(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case pu:return"Fragment";case fu:return"Portal";case f1:return"Profiler";case PS:return"StrictMode";case p1:return"Suspense";case m1:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case a3:return(n.displayName||"Context")+".Consumer";case o3:return(n._context.displayName||"Context")+".Provider";case LS:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case BS:return e=n.displayName||null,e!==null?e:g1(n.type)||"Memo";case ga:e=n._payload,n=n._init;try{return g1(n(e))}catch{}}return null}function Kk(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return g1(e);case 8:return e===PS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function za(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function c3(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qk(n){var e=c3(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function om(n){n._valueTracker||(n._valueTracker=Qk(n))}function u3(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=c3(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function t0(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function v1(n,e){var t=e.checked;return xn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function kE(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=za(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function d3(n,e){e=e.checked,e!=null&&RS(n,"checked",e,!1)}function y1(n,e){d3(n,e);var t=za(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?x1(n,e.type,t):e.hasOwnProperty("defaultValue")&&x1(n,e.type,za(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function UE(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function x1(n,e,t){(e!=="number"||t0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var gh=Array.isArray;function Fu(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+za(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function _1(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return xn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function zE(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Pe(92));if(gh(t)){if(1<t.length)throw Error(Pe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:za(t)}}function h3(n,e){var t=za(e.value),i=za(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function HE(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function f3(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A1(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?f3(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var am,p3=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(am=am||document.createElement("div"),am.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=am.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Wh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Sh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zk=["Webkit","ms","Moz","O"];Object.keys(Sh).forEach(function(n){Zk.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Sh[e]=Sh[n]})});function m3(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Sh.hasOwnProperty(n)&&Sh[n]?(""+e).trim():e+"px"}function g3(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=m3(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var $k=xn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function S1(n,e){if(e){if($k[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pe(62))}}function w1(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M1=null;function IS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var b1=null,Ou=null,ku=null;function GE(n){if(n=Nf(n)){if(typeof b1!="function")throw Error(Pe(280));var e=n.stateNode;e&&(e=iv(e),b1(n.stateNode,n.type,e))}}function v3(n){Ou?ku?ku.push(n):ku=[n]:Ou=n}function y3(){if(Ou){var n=Ou,e=ku;if(ku=Ou=null,GE(n),e)for(n=0;n<e.length;n++)GE(e[n])}}function x3(n,e){return n(e)}function _3(){}var px=!1;function A3(n,e,t){if(px)return n(e,t);px=!0;try{return x3(n,e,t)}finally{px=!1,(Ou!==null||ku!==null)&&(_3(),y3())}}function Xh(n,e){var t=n.stateNode;if(t===null)return null;var i=iv(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Pe(231,e,typeof t));return t}var E1=!1;if(Ho)try{var Vd={};Object.defineProperty(Vd,"passive",{get:function(){E1=!0}}),window.addEventListener("test",Vd,Vd),window.removeEventListener("test",Vd,Vd)}catch{E1=!1}function eU(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var wh=!1,n0=null,i0=!1,C1=null,tU={onError:function(n){wh=!0,n0=n}};function nU(n,e,t,i,r,s,o,a,l){wh=!1,n0=null,eU.apply(tU,arguments)}function iU(n,e,t,i,r,s,o,a,l){if(nU.apply(this,arguments),wh){if(wh){var c=n0;wh=!1,n0=null}else throw Error(Pe(198));i0||(i0=!0,C1=c)}}function fc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function S3(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function VE(n){if(fc(n)!==n)throw Error(Pe(188))}function rU(n){var e=n.alternate;if(!e){if(e=fc(n),e===null)throw Error(Pe(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return VE(r),n;if(s===i)return VE(r),e;s=s.sibling}throw Error(Pe(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Pe(189))}}if(t.alternate!==i)throw Error(Pe(190))}if(t.tag!==3)throw Error(Pe(188));return t.stateNode.current===t?n:e}function w3(n){return n=rU(n),n!==null?M3(n):null}function M3(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=M3(n);if(e!==null)return e;n=n.sibling}return null}var b3=br.unstable_scheduleCallback,jE=br.unstable_cancelCallback,sU=br.unstable_shouldYield,oU=br.unstable_requestPaint,Bn=br.unstable_now,aU=br.unstable_getCurrentPriorityLevel,DS=br.unstable_ImmediatePriority,E3=br.unstable_UserBlockingPriority,r0=br.unstable_NormalPriority,lU=br.unstable_LowPriority,C3=br.unstable_IdlePriority,$0=null,Js=null;function cU(n){if(Js&&typeof Js.onCommitFiberRoot=="function")try{Js.onCommitFiberRoot($0,n,void 0,(n.current.flags&128)===128)}catch{}}var As=Math.clz32?Math.clz32:hU,uU=Math.log,dU=Math.LN2;function hU(n){return n>>>=0,n===0?32:31-(uU(n)/dU|0)|0}var lm=64,cm=4194304;function vh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function s0(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=vh(a):(s&=o,s!==0&&(i=vh(s)))}else o=t&~r,o!==0?i=vh(o):s!==0&&(i=vh(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-As(e),r=1<<t,i|=n[t],e&=~r;return i}function fU(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pU(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-As(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=fU(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function T1(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function T3(){var n=lm;return lm<<=1,!(lm&4194240)&&(lm=64),n}function mx(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function If(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-As(e),n[e]=t}function mU(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-As(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function NS(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-As(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Jt=0;function R3(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var P3,FS,L3,B3,I3,R1=!1,um=[],Ea=null,Ca=null,Ta=null,Jh=new Map,qh=new Map,_a=[],gU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WE(n,e){switch(n){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":Jh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qh.delete(e.pointerId)}}function jd(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Nf(e),e!==null&&FS(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function vU(n,e,t,i,r){switch(e){case"focusin":return Ea=jd(Ea,n,e,t,i,r),!0;case"dragenter":return Ca=jd(Ca,n,e,t,i,r),!0;case"mouseover":return Ta=jd(Ta,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Jh.set(s,jd(Jh.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,qh.set(s,jd(qh.get(s)||null,n,e,t,i,r)),!0}return!1}function D3(n){var e=Nl(n.target);if(e!==null){var t=fc(e);if(t!==null){if(e=t.tag,e===13){if(e=S3(t),e!==null){n.blockedOn=e,I3(n.priority,function(){L3(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Pg(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=P1(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);M1=i,t.target.dispatchEvent(i),M1=null}else return e=Nf(t),e!==null&&FS(e),n.blockedOn=t,!1;e.shift()}return!0}function XE(n,e,t){Pg(n)&&t.delete(e)}function yU(){R1=!1,Ea!==null&&Pg(Ea)&&(Ea=null),Ca!==null&&Pg(Ca)&&(Ca=null),Ta!==null&&Pg(Ta)&&(Ta=null),Jh.forEach(XE),qh.forEach(XE)}function Wd(n,e){n.blockedOn===e&&(n.blockedOn=null,R1||(R1=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,yU)))}function Yh(n){function e(r){return Wd(r,n)}if(0<um.length){Wd(um[0],n);for(var t=1;t<um.length;t++){var i=um[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Ea!==null&&Wd(Ea,n),Ca!==null&&Wd(Ca,n),Ta!==null&&Wd(Ta,n),Jh.forEach(e),qh.forEach(e),t=0;t<_a.length;t++)i=_a[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<_a.length&&(t=_a[0],t.blockedOn===null);)D3(t),t.blockedOn===null&&_a.shift()}var Uu=qo.ReactCurrentBatchConfig,o0=!0;function xU(n,e,t,i){var r=Jt,s=Uu.transition;Uu.transition=null;try{Jt=1,OS(n,e,t,i)}finally{Jt=r,Uu.transition=s}}function _U(n,e,t,i){var r=Jt,s=Uu.transition;Uu.transition=null;try{Jt=4,OS(n,e,t,i)}finally{Jt=r,Uu.transition=s}}function OS(n,e,t,i){if(o0){var r=P1(n,e,t,i);if(r===null)bx(n,e,i,a0,t),WE(n,i);else if(vU(r,n,e,t,i))i.stopPropagation();else if(WE(n,i),e&4&&-1<gU.indexOf(n)){for(;r!==null;){var s=Nf(r);if(s!==null&&P3(s),s=P1(n,e,t,i),s===null&&bx(n,e,i,a0,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else bx(n,e,i,null,t)}}var a0=null;function P1(n,e,t,i){if(a0=null,n=IS(i),n=Nl(n),n!==null)if(e=fc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=S3(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return a0=n,null}function N3(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aU()){case DS:return 1;case E3:return 4;case r0:case lU:return 16;case C3:return 536870912;default:return 16}default:return 16}}var wa=null,kS=null,Lg=null;function F3(){if(Lg)return Lg;var n,e=kS,t=e.length,i,r="value"in wa?wa.value:wa.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Lg=r.slice(n,1<i?1-i:void 0)}function Bg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function dm(){return!0}function JE(){return!1}function Pr(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dm:JE,this.isPropagationStopped=JE,this}return xn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=dm)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=dm)},persist:function(){},isPersistent:dm}),e}var pd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},US=Pr(pd),Df=xn({},pd,{view:0,detail:0}),AU=Pr(Df),gx,vx,Xd,ev=xn({},Df,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zS,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Xd&&(Xd&&n.type==="mousemove"?(gx=n.screenX-Xd.screenX,vx=n.screenY-Xd.screenY):vx=gx=0,Xd=n),gx)},movementY:function(n){return"movementY"in n?n.movementY:vx}}),qE=Pr(ev),SU=xn({},ev,{dataTransfer:0}),wU=Pr(SU),MU=xn({},Df,{relatedTarget:0}),yx=Pr(MU),bU=xn({},pd,{animationName:0,elapsedTime:0,pseudoElement:0}),EU=Pr(bU),CU=xn({},pd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),TU=Pr(CU),RU=xn({},pd,{data:0}),YE=Pr(RU),PU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IU(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=BU[n])?!!e[n]:!1}function zS(){return IU}var DU=xn({},Df,{key:function(n){if(n.key){var e=PU[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Bg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?LU[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zS,charCode:function(n){return n.type==="keypress"?Bg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Bg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),NU=Pr(DU),FU=xn({},ev,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KE=Pr(FU),OU=xn({},Df,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zS}),kU=Pr(OU),UU=xn({},pd,{propertyName:0,elapsedTime:0,pseudoElement:0}),zU=Pr(UU),HU=xn({},ev,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),GU=Pr(HU),VU=[9,13,27,32],HS=Ho&&"CompositionEvent"in window,Mh=null;Ho&&"documentMode"in document&&(Mh=document.documentMode);var jU=Ho&&"TextEvent"in window&&!Mh,O3=Ho&&(!HS||Mh&&8<Mh&&11>=Mh),QE=" ",ZE=!1;function k3(n,e){switch(n){case"keyup":return VU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U3(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var mu=!1;function WU(n,e){switch(n){case"compositionend":return U3(e);case"keypress":return e.which!==32?null:(ZE=!0,QE);case"textInput":return n=e.data,n===QE&&ZE?null:n;default:return null}}function XU(n,e){if(mu)return n==="compositionend"||!HS&&k3(n,e)?(n=F3(),Lg=kS=wa=null,mu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O3&&e.locale!=="ko"?null:e.data;default:return null}}var JU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $E(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!JU[n.type]:e==="textarea"}function z3(n,e,t,i){v3(i),e=l0(e,"onChange"),0<e.length&&(t=new US("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var bh=null,Kh=null;function qU(n){Q3(n,0)}function tv(n){var e=yu(n);if(u3(e))return n}function YU(n,e){if(n==="change")return e}var H3=!1;if(Ho){var xx;if(Ho){var _x="oninput"in document;if(!_x){var eC=document.createElement("div");eC.setAttribute("oninput","return;"),_x=typeof eC.oninput=="function"}xx=_x}else xx=!1;H3=xx&&(!document.documentMode||9<document.documentMode)}function tC(){bh&&(bh.detachEvent("onpropertychange",G3),Kh=bh=null)}function G3(n){if(n.propertyName==="value"&&tv(Kh)){var e=[];z3(e,Kh,n,IS(n)),A3(qU,e)}}function KU(n,e,t){n==="focusin"?(tC(),bh=e,Kh=t,bh.attachEvent("onpropertychange",G3)):n==="focusout"&&tC()}function QU(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tv(Kh)}function ZU(n,e){if(n==="click")return tv(e)}function $U(n,e){if(n==="input"||n==="change")return tv(e)}function e4(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ms=typeof Object.is=="function"?Object.is:e4;function Qh(n,e){if(Ms(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!h1.call(e,r)||!Ms(n[r],e[r]))return!1}return!0}function nC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function iC(n,e){var t=nC(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=nC(t)}}function V3(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?V3(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function j3(){for(var n=window,e=t0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=t0(n.document)}return e}function GS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function t4(n){var e=j3(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&V3(t.ownerDocument.documentElement,t)){if(i!==null&&GS(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=iC(t,s);var o=iC(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var n4=Ho&&"documentMode"in document&&11>=document.documentMode,gu=null,L1=null,Eh=null,B1=!1;function rC(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;B1||gu==null||gu!==t0(i)||(i=gu,"selectionStart"in i&&GS(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Eh&&Qh(Eh,i)||(Eh=i,i=l0(L1,"onSelect"),0<i.length&&(e=new US("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=gu)))}function hm(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var vu={animationend:hm("Animation","AnimationEnd"),animationiteration:hm("Animation","AnimationIteration"),animationstart:hm("Animation","AnimationStart"),transitionend:hm("Transition","TransitionEnd")},Ax={},W3={};Ho&&(W3=document.createElement("div").style,"AnimationEvent"in window||(delete vu.animationend.animation,delete vu.animationiteration.animation,delete vu.animationstart.animation),"TransitionEvent"in window||delete vu.transitionend.transition);function nv(n){if(Ax[n])return Ax[n];if(!vu[n])return n;var e=vu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in W3)return Ax[n]=e[t];return n}var X3=nv("animationend"),J3=nv("animationiteration"),q3=nv("animationstart"),Y3=nv("transitionend"),K3=new Map,sC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(n,e){K3.set(n,e),hc(e,[n])}for(var Sx=0;Sx<sC.length;Sx++){var wx=sC[Sx],i4=wx.toLowerCase(),r4=wx[0].toUpperCase()+wx.slice(1);Ka(i4,"on"+r4)}Ka(X3,"onAnimationEnd");Ka(J3,"onAnimationIteration");Ka(q3,"onAnimationStart");Ka("dblclick","onDoubleClick");Ka("focusin","onFocus");Ka("focusout","onBlur");Ka(Y3,"onTransitionEnd");Wu("onMouseEnter",["mouseout","mouseover"]);Wu("onMouseLeave",["mouseout","mouseover"]);Wu("onPointerEnter",["pointerout","pointerover"]);Wu("onPointerLeave",["pointerout","pointerover"]);hc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hc("onBeforeInput",["compositionend","keypress","textInput","paste"]);hc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s4=new Set("cancel close invalid load scroll toggle".split(" ").concat(yh));function oC(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,iU(i,e,void 0,n),n.currentTarget=null}function Q3(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;oC(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;oC(r,a,c),s=l}}}if(i0)throw n=C1,i0=!1,C1=null,n}function $t(n,e){var t=e[O1];t===void 0&&(t=e[O1]=new Set);var i=n+"__bubble";t.has(i)||(Z3(e,n,2,!1),t.add(i))}function Mx(n,e,t){var i=0;e&&(i|=4),Z3(t,n,i,e)}var fm="_reactListening"+Math.random().toString(36).slice(2);function Zh(n){if(!n[fm]){n[fm]=!0,s3.forEach(function(t){t!=="selectionchange"&&(s4.has(t)||Mx(t,!1,n),Mx(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[fm]||(e[fm]=!0,Mx("selectionchange",!1,e))}}function Z3(n,e,t,i){switch(N3(e)){case 1:var r=xU;break;case 4:r=_U;break;default:r=OS}t=r.bind(null,e,t,n),r=void 0,!E1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function bx(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Nl(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}A3(function(){var c=s,d=IS(t),f=[];e:{var p=K3.get(n);if(p!==void 0){var m=US,v=n;switch(n){case"keypress":if(Bg(t)===0)break e;case"keydown":case"keyup":m=NU;break;case"focusin":v="focus",m=yx;break;case"focusout":v="blur",m=yx;break;case"beforeblur":case"afterblur":m=yx;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=qE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=wU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kU;break;case X3:case J3:case q3:m=EU;break;case Y3:m=zU;break;case"scroll":m=AU;break;case"wheel":m=GU;break;case"copy":case"cut":case"paste":m=TU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=KE}var x=(e&4)!==0,A=!x&&n==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var _=c,S;_!==null;){S=_;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,g!==null&&(M=Xh(_,g),M!=null&&x.push($h(_,M,S)))),A)break;_=_.return}0<x.length&&(p=new m(p,v,null,t,d),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==M1&&(v=t.relatedTarget||t.fromElement)&&(Nl(v)||v[Go]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?Nl(v):null,v!==null&&(A=fc(v),v!==A||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(x=qE,M="onMouseLeave",g="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(x=KE,M="onPointerLeave",g="onPointerEnter",_="pointer"),A=m==null?p:yu(m),S=v==null?p:yu(v),p=new x(M,_+"leave",m,t,d),p.target=A,p.relatedTarget=S,M=null,Nl(d)===c&&(x=new x(g,_+"enter",v,t,d),x.target=S,x.relatedTarget=A,M=x),A=M,m&&v)t:{for(x=m,g=v,_=0,S=x;S;S=kc(S))_++;for(S=0,M=g;M;M=kc(M))S++;for(;0<_-S;)x=kc(x),_--;for(;0<S-_;)g=kc(g),S--;for(;_--;){if(x===g||g!==null&&x===g.alternate)break t;x=kc(x),g=kc(g)}x=null}else x=null;m!==null&&aC(f,p,m,x,!1),v!==null&&A!==null&&aC(f,A,v,x,!0)}}e:{if(p=c?yu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=YU;else if($E(p))if(H3)T=$U;else{T=QU;var P=KU}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=ZU);if(T&&(T=T(n,c))){z3(f,T,t,d);break e}P&&P(n,p,c),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&x1(p,"number",p.value)}switch(P=c?yu(c):window,n){case"focusin":($E(P)||P.contentEditable==="true")&&(gu=P,L1=c,Eh=null);break;case"focusout":Eh=L1=gu=null;break;case"mousedown":B1=!0;break;case"contextmenu":case"mouseup":case"dragend":B1=!1,rC(f,t,d);break;case"selectionchange":if(n4)break;case"keydown":case"keyup":rC(f,t,d)}var B;if(HS)e:{switch(n){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else mu?k3(n,t)&&(D="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(D="onCompositionStart");D&&(O3&&t.locale!=="ko"&&(mu||D!=="onCompositionStart"?D==="onCompositionEnd"&&mu&&(B=F3()):(wa=d,kS="value"in wa?wa.value:wa.textContent,mu=!0)),P=l0(c,D),0<P.length&&(D=new YE(D,n,null,t,d),f.push({event:D,listeners:P}),B?D.data=B:(B=U3(t),B!==null&&(D.data=B)))),(B=jU?WU(n,t):XU(n,t))&&(c=l0(c,"onBeforeInput"),0<c.length&&(d=new YE("onBeforeInput","beforeinput",null,t,d),f.push({event:d,listeners:c}),d.data=B))}Q3(f,e)})}function $h(n,e,t){return{instance:n,listener:e,currentTarget:t}}function l0(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Xh(n,t),s!=null&&i.unshift($h(n,s,r)),s=Xh(n,e),s!=null&&i.push($h(n,s,r))),n=n.return}return i}function kc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function aC(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Xh(t,s),l!=null&&o.unshift($h(t,l,a))):r||(l=Xh(t,s),l!=null&&o.push($h(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var o4=/\r\n?/g,a4=/\u0000|\uFFFD/g;function lC(n){return(typeof n=="string"?n:""+n).replace(o4,`
`).replace(a4,"")}function pm(n,e,t){if(e=lC(e),lC(n)!==e&&t)throw Error(Pe(425))}function c0(){}var I1=null,D1=null;function N1(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var F1=typeof setTimeout=="function"?setTimeout:void 0,l4=typeof clearTimeout=="function"?clearTimeout:void 0,cC=typeof Promise=="function"?Promise:void 0,c4=typeof queueMicrotask=="function"?queueMicrotask:typeof cC<"u"?function(n){return cC.resolve(null).then(n).catch(u4)}:F1;function u4(n){setTimeout(function(){throw n})}function Ex(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Yh(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Yh(e)}function Ra(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function uC(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var md=Math.random().toString(36).slice(2),Vs="__reactFiber$"+md,ef="__reactProps$"+md,Go="__reactContainer$"+md,O1="__reactEvents$"+md,d4="__reactListeners$"+md,h4="__reactHandles$"+md;function Nl(n){var e=n[Vs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Go]||t[Vs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=uC(n);n!==null;){if(t=n[Vs])return t;n=uC(n)}return e}n=t,t=n.parentNode}return null}function Nf(n){return n=n[Vs]||n[Go],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function yu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Pe(33))}function iv(n){return n[ef]||null}var k1=[],xu=-1;function Qa(n){return{current:n}}function tn(n){0>xu||(n.current=k1[xu],k1[xu]=null,xu--)}function Qt(n,e){xu++,k1[xu]=n.current,n.current=e}var Ha={},Li=Qa(Ha),sr=Qa(!1),tc=Ha;function Xu(n,e){var t=n.type.contextTypes;if(!t)return Ha;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function or(n){return n=n.childContextTypes,n!=null}function u0(){tn(sr),tn(Li)}function dC(n,e,t){if(Li.current!==Ha)throw Error(Pe(168));Qt(Li,e),Qt(sr,t)}function $3(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Pe(108,Kk(n)||"Unknown",r));return xn({},t,i)}function d0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ha,tc=Li.current,Qt(Li,n),Qt(sr,sr.current),!0}function hC(n,e,t){var i=n.stateNode;if(!i)throw Error(Pe(169));t?(n=$3(n,e,tc),i.__reactInternalMemoizedMergedChildContext=n,tn(sr),tn(Li),Qt(Li,n)):tn(sr),Qt(sr,t)}var bo=null,rv=!1,Cx=!1;function eL(n){bo===null?bo=[n]:bo.push(n)}function f4(n){rv=!0,eL(n)}function Za(){if(!Cx&&bo!==null){Cx=!0;var n=0,e=Jt;try{var t=bo;for(Jt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}bo=null,rv=!1}catch(r){throw bo!==null&&(bo=bo.slice(n+1)),b3(DS,Za),r}finally{Jt=e,Cx=!1}}return null}var _u=[],Au=0,h0=null,f0=0,qr=[],Yr=0,nc=null,Ro=1,Po="";function El(n,e){_u[Au++]=f0,_u[Au++]=h0,h0=n,f0=e}function tL(n,e,t){qr[Yr++]=Ro,qr[Yr++]=Po,qr[Yr++]=nc,nc=n;var i=Ro;n=Po;var r=32-As(i)-1;i&=~(1<<r),t+=1;var s=32-As(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ro=1<<32-As(e)+r|t<<r|i,Po=s+n}else Ro=1<<s|t<<r|i,Po=n}function VS(n){n.return!==null&&(El(n,1),tL(n,1,0))}function jS(n){for(;n===h0;)h0=_u[--Au],_u[Au]=null,f0=_u[--Au],_u[Au]=null;for(;n===nc;)nc=qr[--Yr],qr[Yr]=null,Po=qr[--Yr],qr[Yr]=null,Ro=qr[--Yr],qr[Yr]=null}var Sr=null,_r=null,ln=!1,fs=null;function nL(n,e){var t=Kr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function fC(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Sr=n,_r=Ra(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Sr=n,_r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=nc!==null?{id:Ro,overflow:Po}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Kr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Sr=n,_r=null,!0):!1;default:return!1}}function U1(n){return(n.mode&1)!==0&&(n.flags&128)===0}function z1(n){if(ln){var e=_r;if(e){var t=e;if(!fC(n,e)){if(U1(n))throw Error(Pe(418));e=Ra(t.nextSibling);var i=Sr;e&&fC(n,e)?nL(i,t):(n.flags=n.flags&-4097|2,ln=!1,Sr=n)}}else{if(U1(n))throw Error(Pe(418));n.flags=n.flags&-4097|2,ln=!1,Sr=n}}}function pC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Sr=n}function mm(n){if(n!==Sr)return!1;if(!ln)return pC(n),ln=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!N1(n.type,n.memoizedProps)),e&&(e=_r)){if(U1(n))throw iL(),Error(Pe(418));for(;e;)nL(n,e),e=Ra(e.nextSibling)}if(pC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Pe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){_r=Ra(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}_r=null}}else _r=Sr?Ra(n.stateNode.nextSibling):null;return!0}function iL(){for(var n=_r;n;)n=Ra(n.nextSibling)}function Ju(){_r=Sr=null,ln=!1}function WS(n){fs===null?fs=[n]:fs.push(n)}var p4=qo.ReactCurrentBatchConfig;function us(n,e){if(n&&n.defaultProps){e=xn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var p0=Qa(null),m0=null,Su=null,XS=null;function JS(){XS=Su=m0=null}function qS(n){var e=p0.current;tn(p0),n._currentValue=e}function H1(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function zu(n,e){m0=n,XS=Su=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ir=!0),n.firstContext=null)}function $r(n){var e=n._currentValue;if(XS!==n)if(n={context:n,memoizedValue:e,next:null},Su===null){if(m0===null)throw Error(Pe(308));Su=n,m0.dependencies={lanes:0,firstContext:n}}else Su=Su.next=n;return e}var Fl=null;function YS(n){Fl===null?Fl=[n]:Fl.push(n)}function rL(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,YS(e)):(t.next=r.next,r.next=t),e.interleaved=t,Vo(n,i)}function Vo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var va=!1;function KS(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sL(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function No(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Pa(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,zt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Vo(n,t)}return r=i.interleaved,r===null?(e.next=e,YS(i)):(e.next=r.next,r.next=e),i.interleaved=e,Vo(n,t)}function Ig(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,NS(n,t)}}function mC(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function g0(n,e,t,i){var r=n.updateQueue;va=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,x=a;switch(p=e,m=t,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=xn({},f,p);break e;case 2:va=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(d===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);rc|=o,n.lanes=o,n.memoizedState=f}}function gC(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Pe(191,r));r.call(i)}}}var oL=new r3.Component().refs;function G1(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:xn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var sv={isMounted:function(n){return(n=n._reactInternals)?fc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=ji(),r=Ba(n),s=No(i,r);s.payload=e,t!=null&&(s.callback=t),e=Pa(n,s,r),e!==null&&(Ss(e,n,r,i),Ig(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=ji(),r=Ba(n),s=No(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Pa(n,s,r),e!==null&&(Ss(e,n,r,i),Ig(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ji(),i=Ba(n),r=No(t,i);r.tag=2,e!=null&&(r.callback=e),e=Pa(n,r,i),e!==null&&(Ss(e,n,i,t),Ig(e,n,i))}};function vC(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Qh(t,i)||!Qh(r,s):!0}function aL(n,e,t){var i=!1,r=Ha,s=e.contextType;return typeof s=="object"&&s!==null?s=$r(s):(r=or(e)?tc:Li.current,i=e.contextTypes,s=(i=i!=null)?Xu(n,r):Ha),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sv,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function yC(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&sv.enqueueReplaceState(e,e.state,null)}function V1(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=oL,KS(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=$r(s):(s=or(e)?tc:Li.current,r.context=Xu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(G1(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&sv.enqueueReplaceState(r,r.state,null),g0(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Jd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Pe(309));var i=t.stateNode}if(!i)throw Error(Pe(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===oL&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Pe(284));if(!t._owner)throw Error(Pe(290,n))}return n}function gm(n,e){throw n=Object.prototype.toString.call(e),Error(Pe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function xC(n){var e=n._init;return e(n._payload)}function lL(n){function e(g,_){if(n){var S=g.deletions;S===null?(g.deletions=[_],g.flags|=16):S.push(_)}}function t(g,_){if(!n)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function i(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function r(g,_){return g=Ia(g,_),g.index=0,g.sibling=null,g}function s(g,_,S){return g.index=S,n?(S=g.alternate,S!==null?(S=S.index,S<_?(g.flags|=2,_):S):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,_,S,M){return _===null||_.tag!==6?(_=Dx(S,g.mode,M),_.return=g,_):(_=r(_,S),_.return=g,_)}function l(g,_,S,M){var T=S.type;return T===pu?d(g,_,S.props.children,M,S.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ga&&xC(T)===_.type)?(M=r(_,S.props),M.ref=Jd(g,_,S),M.return=g,M):(M=Ug(S.type,S.key,S.props,null,g.mode,M),M.ref=Jd(g,_,S),M.return=g,M)}function c(g,_,S,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Nx(S,g.mode,M),_.return=g,_):(_=r(_,S.children||[]),_.return=g,_)}function d(g,_,S,M,T){return _===null||_.tag!==7?(_=ql(S,g.mode,M,T),_.return=g,_):(_=r(_,S),_.return=g,_)}function f(g,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Dx(""+_,g.mode,S),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sm:return S=Ug(_.type,_.key,_.props,null,g.mode,S),S.ref=Jd(g,null,_),S.return=g,S;case fu:return _=Nx(_,g.mode,S),_.return=g,_;case ga:var M=_._init;return f(g,M(_._payload),S)}if(gh(_)||Gd(_))return _=ql(_,g.mode,S,null),_.return=g,_;gm(g,_)}return null}function p(g,_,S,M){var T=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:a(g,_,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sm:return S.key===T?l(g,_,S,M):null;case fu:return S.key===T?c(g,_,S,M):null;case ga:return T=S._init,p(g,_,T(S._payload),M)}if(gh(S)||Gd(S))return T!==null?null:d(g,_,S,M,null);gm(g,S)}return null}function m(g,_,S,M,T){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(S)||null,a(_,g,""+M,T);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case sm:return g=g.get(M.key===null?S:M.key)||null,l(_,g,M,T);case fu:return g=g.get(M.key===null?S:M.key)||null,c(_,g,M,T);case ga:var P=M._init;return m(g,_,S,P(M._payload),T)}if(gh(M)||Gd(M))return g=g.get(S)||null,d(_,g,M,T,null);gm(_,M)}return null}function v(g,_,S,M){for(var T=null,P=null,B=_,D=_=0,L=null;B!==null&&D<S.length;D++){B.index>D?(L=B,B=null):L=B.sibling;var I=p(g,B,S[D],M);if(I===null){B===null&&(B=L);break}n&&B&&I.alternate===null&&e(g,B),_=s(I,_,D),P===null?T=I:P.sibling=I,P=I,B=L}if(D===S.length)return t(g,B),ln&&El(g,D),T;if(B===null){for(;D<S.length;D++)B=f(g,S[D],M),B!==null&&(_=s(B,_,D),P===null?T=B:P.sibling=B,P=B);return ln&&El(g,D),T}for(B=i(g,B);D<S.length;D++)L=m(B,g,D,S[D],M),L!==null&&(n&&L.alternate!==null&&B.delete(L.key===null?D:L.key),_=s(L,_,D),P===null?T=L:P.sibling=L,P=L);return n&&B.forEach(function(H){return e(g,H)}),ln&&El(g,D),T}function x(g,_,S,M){var T=Gd(S);if(typeof T!="function")throw Error(Pe(150));if(S=T.call(S),S==null)throw Error(Pe(151));for(var P=T=null,B=_,D=_=0,L=null,I=S.next();B!==null&&!I.done;D++,I=S.next()){B.index>D?(L=B,B=null):L=B.sibling;var H=p(g,B,I.value,M);if(H===null){B===null&&(B=L);break}n&&B&&H.alternate===null&&e(g,B),_=s(H,_,D),P===null?T=H:P.sibling=H,P=H,B=L}if(I.done)return t(g,B),ln&&El(g,D),T;if(B===null){for(;!I.done;D++,I=S.next())I=f(g,I.value,M),I!==null&&(_=s(I,_,D),P===null?T=I:P.sibling=I,P=I);return ln&&El(g,D),T}for(B=i(g,B);!I.done;D++,I=S.next())I=m(B,g,D,I.value,M),I!==null&&(n&&I.alternate!==null&&B.delete(I.key===null?D:I.key),_=s(I,_,D),P===null?T=I:P.sibling=I,P=I);return n&&B.forEach(function(W){return e(g,W)}),ln&&El(g,D),T}function A(g,_,S,M){if(typeof S=="object"&&S!==null&&S.type===pu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case sm:e:{for(var T=S.key,P=_;P!==null;){if(P.key===T){if(T=S.type,T===pu){if(P.tag===7){t(g,P.sibling),_=r(P,S.props.children),_.return=g,g=_;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ga&&xC(T)===P.type){t(g,P.sibling),_=r(P,S.props),_.ref=Jd(g,P,S),_.return=g,g=_;break e}t(g,P);break}else e(g,P);P=P.sibling}S.type===pu?(_=ql(S.props.children,g.mode,M,S.key),_.return=g,g=_):(M=Ug(S.type,S.key,S.props,null,g.mode,M),M.ref=Jd(g,_,S),M.return=g,g=M)}return o(g);case fu:e:{for(P=S.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){t(g,_.sibling),_=r(_,S.children||[]),_.return=g,g=_;break e}else{t(g,_);break}else e(g,_);_=_.sibling}_=Nx(S,g.mode,M),_.return=g,g=_}return o(g);case ga:return P=S._init,A(g,_,P(S._payload),M)}if(gh(S))return v(g,_,S,M);if(Gd(S))return x(g,_,S,M);gm(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(t(g,_.sibling),_=r(_,S),_.return=g,g=_):(t(g,_),_=Dx(S,g.mode,M),_.return=g,g=_),o(g)):t(g,_)}return A}var qu=lL(!0),cL=lL(!1),Ff={},qs=Qa(Ff),tf=Qa(Ff),nf=Qa(Ff);function Ol(n){if(n===Ff)throw Error(Pe(174));return n}function QS(n,e){switch(Qt(nf,e),Qt(tf,n),Qt(qs,Ff),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:A1(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=A1(e,n)}tn(qs),Qt(qs,e)}function Yu(){tn(qs),tn(tf),tn(nf)}function uL(n){Ol(nf.current);var e=Ol(qs.current),t=A1(e,n.type);e!==t&&(Qt(tf,n),Qt(qs,t))}function ZS(n){tf.current===n&&(tn(qs),tn(tf))}var fn=Qa(0);function v0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tx=[];function $S(){for(var n=0;n<Tx.length;n++)Tx[n]._workInProgressVersionPrimary=null;Tx.length=0}var Dg=qo.ReactCurrentDispatcher,Rx=qo.ReactCurrentBatchConfig,ic=0,yn=null,jn=null,ii=null,y0=!1,Ch=!1,rf=0,m4=0;function Si(){throw Error(Pe(321))}function ew(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ms(n[t],e[t]))return!1;return!0}function tw(n,e,t,i,r,s){if(ic=s,yn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dg.current=n===null||n.memoizedState===null?x4:_4,n=t(i,r),Ch){s=0;do{if(Ch=!1,rf=0,25<=s)throw Error(Pe(301));s+=1,ii=jn=null,e.updateQueue=null,Dg.current=A4,n=t(i,r)}while(Ch)}if(Dg.current=x0,e=jn!==null&&jn.next!==null,ic=0,ii=jn=yn=null,y0=!1,e)throw Error(Pe(300));return n}function nw(){var n=rf!==0;return rf=0,n}function Gs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?yn.memoizedState=ii=n:ii=ii.next=n,ii}function es(){if(jn===null){var n=yn.alternate;n=n!==null?n.memoizedState:null}else n=jn.next;var e=ii===null?yn.memoizedState:ii.next;if(e!==null)ii=e,jn=n;else{if(n===null)throw Error(Pe(310));jn=n,n={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},ii===null?yn.memoizedState=ii=n:ii=ii.next=n}return ii}function sf(n,e){return typeof e=="function"?e(n):e}function Px(n){var e=es(),t=e.queue;if(t===null)throw Error(Pe(311));t.lastRenderedReducer=n;var i=jn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((ic&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,yn.lanes|=d,rc|=d}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Ms(i,e.memoizedState)||(ir=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,yn.lanes|=s,rc|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Lx(n){var e=es(),t=e.queue;if(t===null)throw Error(Pe(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Ms(s,e.memoizedState)||(ir=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function dL(){}function hL(n,e){var t=yn,i=es(),r=e(),s=!Ms(i.memoizedState,r);if(s&&(i.memoizedState=r,ir=!0),i=i.queue,iw(mL.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||ii!==null&&ii.memoizedState.tag&1){if(t.flags|=2048,of(9,pL.bind(null,t,i,r,e),void 0,null),ri===null)throw Error(Pe(349));ic&30||fL(t,e,r)}return r}function fL(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=yn.updateQueue,e===null?(e={lastEffect:null,stores:null},yn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function pL(n,e,t,i){e.value=t,e.getSnapshot=i,gL(e)&&vL(n)}function mL(n,e,t){return t(function(){gL(e)&&vL(n)})}function gL(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ms(n,t)}catch{return!0}}function vL(n){var e=Vo(n,1);e!==null&&Ss(e,n,1,-1)}function _C(n){var e=Gs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sf,lastRenderedState:n},e.queue=n,n=n.dispatch=y4.bind(null,yn,n),[e.memoizedState,n]}function of(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=yn.updateQueue,e===null?(e={lastEffect:null,stores:null},yn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function yL(){return es().memoizedState}function Ng(n,e,t,i){var r=Gs();yn.flags|=n,r.memoizedState=of(1|e,t,void 0,i===void 0?null:i)}function ov(n,e,t,i){var r=es();i=i===void 0?null:i;var s=void 0;if(jn!==null){var o=jn.memoizedState;if(s=o.destroy,i!==null&&ew(i,o.deps)){r.memoizedState=of(e,t,s,i);return}}yn.flags|=n,r.memoizedState=of(1|e,t,s,i)}function AC(n,e){return Ng(8390656,8,n,e)}function iw(n,e){return ov(2048,8,n,e)}function xL(n,e){return ov(4,2,n,e)}function _L(n,e){return ov(4,4,n,e)}function AL(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function SL(n,e,t){return t=t!=null?t.concat([n]):null,ov(4,4,AL.bind(null,e,n),t)}function rw(){}function wL(n,e){var t=es();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&ew(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function ML(n,e){var t=es();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&ew(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function bL(n,e,t){return ic&21?(Ms(t,e)||(t=T3(),yn.lanes|=t,rc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ir=!0),n.memoizedState=t)}function g4(n,e){var t=Jt;Jt=t!==0&&4>t?t:4,n(!0);var i=Rx.transition;Rx.transition={};try{n(!1),e()}finally{Jt=t,Rx.transition=i}}function EL(){return es().memoizedState}function v4(n,e,t){var i=Ba(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},CL(n))TL(e,t);else if(t=rL(n,e,t,i),t!==null){var r=ji();Ss(t,n,i,r),RL(t,e,i)}}function y4(n,e,t){var i=Ba(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(CL(n))TL(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Ms(a,o)){var l=e.interleaved;l===null?(r.next=r,YS(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=rL(n,e,r,i),t!==null&&(r=ji(),Ss(t,n,i,r),RL(t,e,i))}}function CL(n){var e=n.alternate;return n===yn||e!==null&&e===yn}function TL(n,e){Ch=y0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function RL(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,NS(n,t)}}var x0={readContext:$r,useCallback:Si,useContext:Si,useEffect:Si,useImperativeHandle:Si,useInsertionEffect:Si,useLayoutEffect:Si,useMemo:Si,useReducer:Si,useRef:Si,useState:Si,useDebugValue:Si,useDeferredValue:Si,useTransition:Si,useMutableSource:Si,useSyncExternalStore:Si,useId:Si,unstable_isNewReconciler:!1},x4={readContext:$r,useCallback:function(n,e){return Gs().memoizedState=[n,e===void 0?null:e],n},useContext:$r,useEffect:AC,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Ng(4194308,4,AL.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Ng(4194308,4,n,e)},useInsertionEffect:function(n,e){return Ng(4,2,n,e)},useMemo:function(n,e){var t=Gs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Gs();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=v4.bind(null,yn,n),[i.memoizedState,n]},useRef:function(n){var e=Gs();return n={current:n},e.memoizedState=n},useState:_C,useDebugValue:rw,useDeferredValue:function(n){return Gs().memoizedState=n},useTransition:function(){var n=_C(!1),e=n[0];return n=g4.bind(null,n[1]),Gs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=yn,r=Gs();if(ln){if(t===void 0)throw Error(Pe(407));t=t()}else{if(t=e(),ri===null)throw Error(Pe(349));ic&30||fL(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,AC(mL.bind(null,i,s,n),[n]),i.flags|=2048,of(9,pL.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Gs(),e=ri.identifierPrefix;if(ln){var t=Po,i=Ro;t=(i&~(1<<32-As(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=rf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=m4++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},_4={readContext:$r,useCallback:wL,useContext:$r,useEffect:iw,useImperativeHandle:SL,useInsertionEffect:xL,useLayoutEffect:_L,useMemo:ML,useReducer:Px,useRef:yL,useState:function(){return Px(sf)},useDebugValue:rw,useDeferredValue:function(n){var e=es();return bL(e,jn.memoizedState,n)},useTransition:function(){var n=Px(sf)[0],e=es().memoizedState;return[n,e]},useMutableSource:dL,useSyncExternalStore:hL,useId:EL,unstable_isNewReconciler:!1},A4={readContext:$r,useCallback:wL,useContext:$r,useEffect:iw,useImperativeHandle:SL,useInsertionEffect:xL,useLayoutEffect:_L,useMemo:ML,useReducer:Lx,useRef:yL,useState:function(){return Lx(sf)},useDebugValue:rw,useDeferredValue:function(n){var e=es();return jn===null?e.memoizedState=n:bL(e,jn.memoizedState,n)},useTransition:function(){var n=Lx(sf)[0],e=es().memoizedState;return[n,e]},useMutableSource:dL,useSyncExternalStore:hL,useId:EL,unstable_isNewReconciler:!1};function Ku(n,e){try{var t="",i=e;do t+=Yk(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Bx(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function j1(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var S4=typeof WeakMap=="function"?WeakMap:Map;function PL(n,e,t){t=No(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){A0||(A0=!0,eA=i),j1(n,e)},t}function LL(n,e,t){t=No(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){j1(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){j1(n,e),typeof i!="function"&&(La===null?La=new Set([this]):La.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function SC(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new S4;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=F4.bind(null,n,e,t),e.then(n,n))}function wC(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function MC(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=No(-1,1),e.tag=2,Pa(t,e,1))),t.lanes|=1),n)}var w4=qo.ReactCurrentOwner,ir=!1;function zi(n,e,t,i){e.child=n===null?cL(e,null,t,i):qu(e,n.child,t,i)}function bC(n,e,t,i,r){t=t.render;var s=e.ref;return zu(e,r),i=tw(n,e,t,i,s,r),t=nw(),n!==null&&!ir?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,jo(n,e,r)):(ln&&t&&VS(e),e.flags|=1,zi(n,e,i,r),e.child)}function EC(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!hw(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,BL(n,e,s,i,r)):(n=Ug(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Qh,t(o,i)&&n.ref===e.ref)return jo(n,e,r)}return e.flags|=1,n=Ia(s,i),n.ref=e.ref,n.return=e,e.child=n}function BL(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Qh(s,i)&&n.ref===e.ref)if(ir=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(ir=!0);else return e.lanes=n.lanes,jo(n,e,r)}return W1(n,e,t,i,r)}function IL(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(Mu,vr),vr|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Qt(Mu,vr),vr|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Qt(Mu,vr),vr|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Qt(Mu,vr),vr|=i;return zi(n,e,r,t),e.child}function DL(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function W1(n,e,t,i,r){var s=or(t)?tc:Li.current;return s=Xu(e,s),zu(e,r),t=tw(n,e,t,i,s,r),i=nw(),n!==null&&!ir?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,jo(n,e,r)):(ln&&i&&VS(e),e.flags|=1,zi(n,e,t,r),e.child)}function CC(n,e,t,i,r){if(or(t)){var s=!0;d0(e)}else s=!1;if(zu(e,r),e.stateNode===null)Fg(n,e),aL(e,t,i),V1(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=$r(c):(c=or(t)?tc:Li.current,c=Xu(e,c));var d=t.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&yC(e,o,i,c),va=!1;var p=e.memoizedState;o.state=p,g0(e,i,o,r),l=e.memoizedState,a!==i||p!==l||sr.current||va?(typeof d=="function"&&(G1(e,t,d,i),l=e.memoizedState),(a=va||vC(e,t,a,i,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,sL(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:us(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=$r(l):(l=or(t)?tc:Li.current,l=Xu(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&yC(e,o,i,l),va=!1,p=e.memoizedState,o.state=p,g0(e,i,o,r);var v=e.memoizedState;a!==f||p!==v||sr.current||va?(typeof m=="function"&&(G1(e,t,m,i),v=e.memoizedState),(c=va||vC(e,t,c,i,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return X1(n,e,t,i,s,r)}function X1(n,e,t,i,r,s){DL(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&hC(e,t,!1),jo(n,e,s);i=e.stateNode,w4.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=qu(e,n.child,null,s),e.child=qu(e,null,a,s)):zi(n,e,a,s),e.memoizedState=i.state,r&&hC(e,t,!0),e.child}function NL(n){var e=n.stateNode;e.pendingContext?dC(n,e.pendingContext,e.pendingContext!==e.context):e.context&&dC(n,e.context,!1),QS(n,e.containerInfo)}function TC(n,e,t,i,r){return Ju(),WS(r),e.flags|=256,zi(n,e,t,i),e.child}var J1={dehydrated:null,treeContext:null,retryLane:0};function q1(n){return{baseLanes:n,cachePool:null,transitions:null}}function FL(n,e,t){var i=e.pendingProps,r=fn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Qt(fn,r&1),n===null)return z1(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=cv(o,i,0,null),n=ql(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=q1(t),e.memoizedState=J1,n):sw(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return M4(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ia(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ia(a,s):(s=ql(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?q1(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=J1,i}return s=n.child,n=s.sibling,i=Ia(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function sw(n,e){return e=cv({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function vm(n,e,t,i){return i!==null&&WS(i),qu(e,n.child,null,t),n=sw(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function M4(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Bx(Error(Pe(422))),vm(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=cv({mode:"visible",children:i.children},r,0,null),s=ql(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&qu(e,n.child,null,o),e.child.memoizedState=q1(o),e.memoizedState=J1,s);if(!(e.mode&1))return vm(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Pe(419)),i=Bx(s,i,void 0),vm(n,e,o,i)}if(a=(o&n.childLanes)!==0,ir||a){if(i=ri,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Vo(n,r),Ss(i,n,r,-1))}return dw(),i=Bx(Error(Pe(421))),vm(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=O4.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,_r=Ra(r.nextSibling),Sr=e,ln=!0,fs=null,n!==null&&(qr[Yr++]=Ro,qr[Yr++]=Po,qr[Yr++]=nc,Ro=n.id,Po=n.overflow,nc=e),e=sw(e,i.children),e.flags|=4096,e)}function RC(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),H1(n.return,e,t)}function Ix(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function OL(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(zi(n,e,i.children,t),i=fn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&RC(n,t,e);else if(n.tag===19)RC(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Qt(fn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&v0(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Ix(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&v0(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Ix(e,!0,t,null,s);break;case"together":Ix(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function jo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),rc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Pe(153));if(e.child!==null){for(n=e.child,t=Ia(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ia(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function b4(n,e,t){switch(e.tag){case 3:NL(e),Ju();break;case 5:uL(e);break;case 1:or(e.type)&&d0(e);break;case 4:QS(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Qt(p0,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Qt(fn,fn.current&1),e.flags|=128,null):t&e.child.childLanes?FL(n,e,t):(Qt(fn,fn.current&1),n=jo(n,e,t),n!==null?n.sibling:null);Qt(fn,fn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return OL(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Qt(fn,fn.current),i)break;return null;case 22:case 23:return e.lanes=0,IL(n,e,t)}return jo(n,e,t)}var kL,Y1,UL,zL;kL=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Y1=function(){};UL=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Ol(qs.current);var s=null;switch(t){case"input":r=v1(n,r),i=v1(n,i),s=[];break;case"select":r=xn({},r,{value:void 0}),i=xn({},i,{value:void 0}),s=[];break;case"textarea":r=_1(n,r),i=_1(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=c0)}S1(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$t("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};zL=function(n,e,t,i){t!==i&&(e.flags|=4)};function qd(n,e){if(!ln)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function wi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function E4(n,e,t){var i=e.pendingProps;switch(jS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(e),null;case 1:return or(e.type)&&u0(),wi(e),null;case 3:return i=e.stateNode,Yu(),tn(sr),tn(Li),$S(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(mm(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fs!==null&&(iA(fs),fs=null))),Y1(n,e),wi(e),null;case 5:ZS(e);var r=Ol(nf.current);if(t=e.type,n!==null&&e.stateNode!=null)UL(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Pe(166));return wi(e),null}if(n=Ol(qs.current),mm(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Vs]=e,i[ef]=s,n=(e.mode&1)!==0,t){case"dialog":$t("cancel",i),$t("close",i);break;case"iframe":case"object":case"embed":$t("load",i);break;case"video":case"audio":for(r=0;r<yh.length;r++)$t(yh[r],i);break;case"source":$t("error",i);break;case"img":case"image":case"link":$t("error",i),$t("load",i);break;case"details":$t("toggle",i);break;case"input":kE(i,s),$t("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},$t("invalid",i);break;case"textarea":zE(i,s),$t("invalid",i)}S1(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&pm(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pm(i.textContent,a,n),r=["children",""+a]):jh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$t("scroll",i)}switch(t){case"input":om(i),UE(i,s,!0);break;case"textarea":om(i),HE(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=c0)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=f3(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Vs]=e,n[ef]=i,kL(n,e,!1,!1),e.stateNode=n;e:{switch(o=w1(t,i),t){case"dialog":$t("cancel",n),$t("close",n),r=i;break;case"iframe":case"object":case"embed":$t("load",n),r=i;break;case"video":case"audio":for(r=0;r<yh.length;r++)$t(yh[r],n);r=i;break;case"source":$t("error",n),r=i;break;case"img":case"image":case"link":$t("error",n),$t("load",n),r=i;break;case"details":$t("toggle",n),r=i;break;case"input":kE(n,i),r=v1(n,i),$t("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=xn({},i,{value:void 0}),$t("invalid",n);break;case"textarea":zE(n,i),r=_1(n,i),$t("invalid",n);break;default:r=i}S1(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?g3(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&p3(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Wh(n,l):typeof l=="number"&&Wh(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&$t("scroll",n):l!=null&&RS(n,s,l,o))}switch(t){case"input":om(n),UE(n,i,!1);break;case"textarea":om(n),HE(n);break;case"option":i.value!=null&&n.setAttribute("value",""+za(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Fu(n,!!i.multiple,s,!1):i.defaultValue!=null&&Fu(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=c0)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wi(e),null;case 6:if(n&&e.stateNode!=null)zL(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Pe(166));if(t=Ol(nf.current),Ol(qs.current),mm(e)){if(i=e.stateNode,t=e.memoizedProps,i[Vs]=e,(s=i.nodeValue!==t)&&(n=Sr,n!==null))switch(n.tag){case 3:pm(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&pm(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Vs]=e,e.stateNode=i}return wi(e),null;case 13:if(tn(fn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ln&&_r!==null&&e.mode&1&&!(e.flags&128))iL(),Ju(),e.flags|=98560,s=!1;else if(s=mm(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Pe(317));s[Vs]=e}else Ju(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wi(e),s=!1}else fs!==null&&(iA(fs),fs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||fn.current&1?Xn===0&&(Xn=3):dw())),e.updateQueue!==null&&(e.flags|=4),wi(e),null);case 4:return Yu(),Y1(n,e),n===null&&Zh(e.stateNode.containerInfo),wi(e),null;case 10:return qS(e.type._context),wi(e),null;case 17:return or(e.type)&&u0(),wi(e),null;case 19:if(tn(fn),s=e.memoizedState,s===null)return wi(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)qd(s,!1);else{if(Xn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=v0(n),o!==null){for(e.flags|=128,qd(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Qt(fn,fn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Bn()>Qu&&(e.flags|=128,i=!0,qd(s,!1),e.lanes=4194304)}else{if(!i)if(n=v0(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),qd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ln)return wi(e),null}else 2*Bn()-s.renderingStartTime>Qu&&t!==1073741824&&(e.flags|=128,i=!0,qd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Bn(),e.sibling=null,t=fn.current,Qt(fn,i?t&1|2:t&1),e):(wi(e),null);case 22:case 23:return uw(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?vr&1073741824&&(wi(e),e.subtreeFlags&6&&(e.flags|=8192)):wi(e),null;case 24:return null;case 25:return null}throw Error(Pe(156,e.tag))}function C4(n,e){switch(jS(e),e.tag){case 1:return or(e.type)&&u0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Yu(),tn(sr),tn(Li),$S(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return ZS(e),null;case 13:if(tn(fn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Pe(340));Ju()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return tn(fn),null;case 4:return Yu(),null;case 10:return qS(e.type._context),null;case 22:case 23:return uw(),null;case 24:return null;default:return null}}var ym=!1,Ti=!1,T4=typeof WeakSet=="function"?WeakSet:Set,Je=null;function wu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Mn(n,e,i)}else t.current=null}function K1(n,e,t){try{t()}catch(i){Mn(n,e,i)}}var PC=!1;function R4(n,e){if(I1=o0,n=j3(),GS(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=n,p=null;t:for(;;){for(var m;f!==t||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++d===i&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(D1={focusedElem:n,selectionRange:t},o0=!1,Je=e;Je!==null;)if(e=Je,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Je=n;else for(;Je!==null;){e=Je;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,A=v.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:us(e.type,x),A);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(M){Mn(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,Je=n;break}Je=e.return}return v=PC,PC=!1,v}function Th(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&K1(e,t,s)}r=r.next}while(r!==i)}}function av(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Q1(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function HL(n){var e=n.alternate;e!==null&&(n.alternate=null,HL(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Vs],delete e[ef],delete e[O1],delete e[d4],delete e[h4])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function GL(n){return n.tag===5||n.tag===3||n.tag===4}function LC(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||GL(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Z1(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=c0));else if(i!==4&&(n=n.child,n!==null))for(Z1(n,e,t),n=n.sibling;n!==null;)Z1(n,e,t),n=n.sibling}function $1(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for($1(n,e,t),n=n.sibling;n!==null;)$1(n,e,t),n=n.sibling}var hi=null,hs=!1;function ra(n,e,t){for(t=t.child;t!==null;)VL(n,e,t),t=t.sibling}function VL(n,e,t){if(Js&&typeof Js.onCommitFiberUnmount=="function")try{Js.onCommitFiberUnmount($0,t)}catch{}switch(t.tag){case 5:Ti||wu(t,e);case 6:var i=hi,r=hs;hi=null,ra(n,e,t),hi=i,hs=r,hi!==null&&(hs?(n=hi,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):hi.removeChild(t.stateNode));break;case 18:hi!==null&&(hs?(n=hi,t=t.stateNode,n.nodeType===8?Ex(n.parentNode,t):n.nodeType===1&&Ex(n,t),Yh(n)):Ex(hi,t.stateNode));break;case 4:i=hi,r=hs,hi=t.stateNode.containerInfo,hs=!0,ra(n,e,t),hi=i,hs=r;break;case 0:case 11:case 14:case 15:if(!Ti&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&K1(t,e,o),r=r.next}while(r!==i)}ra(n,e,t);break;case 1:if(!Ti&&(wu(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Mn(t,e,a)}ra(n,e,t);break;case 21:ra(n,e,t);break;case 22:t.mode&1?(Ti=(i=Ti)||t.memoizedState!==null,ra(n,e,t),Ti=i):ra(n,e,t);break;default:ra(n,e,t)}}function BC(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new T4),e.forEach(function(i){var r=k4.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function rs(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:hi=a.stateNode,hs=!1;break e;case 3:hi=a.stateNode.containerInfo,hs=!0;break e;case 4:hi=a.stateNode.containerInfo,hs=!0;break e}a=a.return}if(hi===null)throw Error(Pe(160));VL(s,o,r),hi=null,hs=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Mn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jL(e,n),e=e.sibling}function jL(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(rs(e,n),Hs(n),i&4){try{Th(3,n,n.return),av(3,n)}catch(x){Mn(n,n.return,x)}try{Th(5,n,n.return)}catch(x){Mn(n,n.return,x)}}break;case 1:rs(e,n),Hs(n),i&512&&t!==null&&wu(t,t.return);break;case 5:if(rs(e,n),Hs(n),i&512&&t!==null&&wu(t,t.return),n.flags&32){var r=n.stateNode;try{Wh(r,"")}catch(x){Mn(n,n.return,x)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&d3(r,s),w1(a,o);var c=w1(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?g3(r,f):d==="dangerouslySetInnerHTML"?p3(r,f):d==="children"?Wh(r,f):RS(r,d,f,c)}switch(a){case"input":y1(r,s);break;case"textarea":h3(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Fu(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Fu(r,!!s.multiple,s.defaultValue,!0):Fu(r,!!s.multiple,s.multiple?[]:"",!1))}r[ef]=s}catch(x){Mn(n,n.return,x)}}break;case 6:if(rs(e,n),Hs(n),i&4){if(n.stateNode===null)throw Error(Pe(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(x){Mn(n,n.return,x)}}break;case 3:if(rs(e,n),Hs(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Yh(e.containerInfo)}catch(x){Mn(n,n.return,x)}break;case 4:rs(e,n),Hs(n);break;case 13:rs(e,n),Hs(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(lw=Bn())),i&4&&BC(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Ti=(c=Ti)||d,rs(e,n),Ti=c):rs(e,n),Hs(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(Je=n,d=n.child;d!==null;){for(f=Je=d;Je!==null;){switch(p=Je,m=p.child,p.tag){case 0:case 11:case 14:case 15:Th(4,p,p.return);break;case 1:wu(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){Mn(i,t,x)}}break;case 5:wu(p,p.return);break;case 22:if(p.memoizedState!==null){DC(f);continue}}m!==null?(m.return=p,Je=m):DC(f)}d=d.sibling}e:for(d=null,f=n;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=m3("display",o))}catch(x){Mn(n,n.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Mn(n,n.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rs(e,n),Hs(n),i&4&&BC(n);break;case 21:break;default:rs(e,n),Hs(n)}}function Hs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(GL(t)){var i=t;break e}t=t.return}throw Error(Pe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Wh(r,""),i.flags&=-33);var s=LC(n);$1(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=LC(n);Z1(n,a,o);break;default:throw Error(Pe(161))}}catch(l){Mn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function P4(n,e,t){Je=n,WL(n)}function WL(n,e,t){for(var i=(n.mode&1)!==0;Je!==null;){var r=Je,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||ym;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Ti;a=ym;var c=Ti;if(ym=o,(Ti=l)&&!c)for(Je=r;Je!==null;)o=Je,l=o.child,o.tag===22&&o.memoizedState!==null?NC(r):l!==null?(l.return=o,Je=l):NC(r);for(;s!==null;)Je=s,WL(s),s=s.sibling;Je=r,ym=a,Ti=c}IC(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Je=s):IC(n)}}function IC(n){for(;Je!==null;){var e=Je;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ti||av(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ti)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:us(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gC(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}gC(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Yh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}Ti||e.flags&512&&Q1(e)}catch(p){Mn(e,e.return,p)}}if(e===n){Je=null;break}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}}function DC(n){for(;Je!==null;){var e=Je;if(e===n){Je=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Je=t;break}Je=e.return}}function NC(n){for(;Je!==null;){var e=Je;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{av(4,e)}catch(l){Mn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Mn(e,r,l)}}var s=e.return;try{Q1(e)}catch(l){Mn(e,s,l)}break;case 5:var o=e.return;try{Q1(e)}catch(l){Mn(e,o,l)}}}catch(l){Mn(e,e.return,l)}if(e===n){Je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Je=a;break}Je=e.return}}var L4=Math.ceil,_0=qo.ReactCurrentDispatcher,ow=qo.ReactCurrentOwner,Qr=qo.ReactCurrentBatchConfig,zt=0,ri=null,Un=null,pi=0,vr=0,Mu=Qa(0),Xn=0,af=null,rc=0,lv=0,aw=0,Rh=null,er=null,lw=0,Qu=1/0,Mo=null,A0=!1,eA=null,La=null,xm=!1,Ma=null,S0=0,Ph=0,tA=null,Og=-1,kg=0;function ji(){return zt&6?Bn():Og!==-1?Og:Og=Bn()}function Ba(n){return n.mode&1?zt&2&&pi!==0?pi&-pi:p4.transition!==null?(kg===0&&(kg=T3()),kg):(n=Jt,n!==0||(n=window.event,n=n===void 0?16:N3(n.type)),n):1}function Ss(n,e,t,i){if(50<Ph)throw Ph=0,tA=null,Error(Pe(185));If(n,t,i),(!(zt&2)||n!==ri)&&(n===ri&&(!(zt&2)&&(lv|=t),Xn===4&&Aa(n,pi)),ar(n,i),t===1&&zt===0&&!(e.mode&1)&&(Qu=Bn()+500,rv&&Za()))}function ar(n,e){var t=n.callbackNode;pU(n,e);var i=s0(n,n===ri?pi:0);if(i===0)t!==null&&jE(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&jE(t),e===1)n.tag===0?f4(FC.bind(null,n)):eL(FC.bind(null,n)),c4(function(){!(zt&6)&&Za()}),t=null;else{switch(R3(i)){case 1:t=DS;break;case 4:t=E3;break;case 16:t=r0;break;case 536870912:t=C3;break;default:t=r0}t=$L(t,XL.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function XL(n,e){if(Og=-1,kg=0,zt&6)throw Error(Pe(327));var t=n.callbackNode;if(Hu()&&n.callbackNode!==t)return null;var i=s0(n,n===ri?pi:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=w0(n,i);else{e=i;var r=zt;zt|=2;var s=qL();(ri!==n||pi!==e)&&(Mo=null,Qu=Bn()+500,Jl(n,e));do try{D4();break}catch(a){JL(n,a)}while(!0);JS(),_0.current=s,zt=r,Un!==null?e=0:(ri=null,pi=0,e=Xn)}if(e!==0){if(e===2&&(r=T1(n),r!==0&&(i=r,e=nA(n,r))),e===1)throw t=af,Jl(n,0),Aa(n,i),ar(n,Bn()),t;if(e===6)Aa(n,i);else{if(r=n.current.alternate,!(i&30)&&!B4(r)&&(e=w0(n,i),e===2&&(s=T1(n),s!==0&&(i=s,e=nA(n,s))),e===1))throw t=af,Jl(n,0),Aa(n,i),ar(n,Bn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Pe(345));case 2:Cl(n,er,Mo);break;case 3:if(Aa(n,i),(i&130023424)===i&&(e=lw+500-Bn(),10<e)){if(s0(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){ji(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=F1(Cl.bind(null,n,er,Mo),e);break}Cl(n,er,Mo);break;case 4:if(Aa(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-As(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Bn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*L4(i/1960))-i,10<i){n.timeoutHandle=F1(Cl.bind(null,n,er,Mo),i);break}Cl(n,er,Mo);break;case 5:Cl(n,er,Mo);break;default:throw Error(Pe(329))}}}return ar(n,Bn()),n.callbackNode===t?XL.bind(null,n):null}function nA(n,e){var t=Rh;return n.current.memoizedState.isDehydrated&&(Jl(n,e).flags|=256),n=w0(n,e),n!==2&&(e=er,er=t,e!==null&&iA(e)),n}function iA(n){er===null?er=n:er.push.apply(er,n)}function B4(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Ms(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Aa(n,e){for(e&=~aw,e&=~lv,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-As(e),i=1<<t;n[t]=-1,e&=~i}}function FC(n){if(zt&6)throw Error(Pe(327));Hu();var e=s0(n,0);if(!(e&1))return ar(n,Bn()),null;var t=w0(n,e);if(n.tag!==0&&t===2){var i=T1(n);i!==0&&(e=i,t=nA(n,i))}if(t===1)throw t=af,Jl(n,0),Aa(n,e),ar(n,Bn()),t;if(t===6)throw Error(Pe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Cl(n,er,Mo),ar(n,Bn()),null}function cw(n,e){var t=zt;zt|=1;try{return n(e)}finally{zt=t,zt===0&&(Qu=Bn()+500,rv&&Za())}}function sc(n){Ma!==null&&Ma.tag===0&&!(zt&6)&&Hu();var e=zt;zt|=1;var t=Qr.transition,i=Jt;try{if(Qr.transition=null,Jt=1,n)return n()}finally{Jt=i,Qr.transition=t,zt=e,!(zt&6)&&Za()}}function uw(){vr=Mu.current,tn(Mu)}function Jl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,l4(t)),Un!==null)for(t=Un.return;t!==null;){var i=t;switch(jS(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&u0();break;case 3:Yu(),tn(sr),tn(Li),$S();break;case 5:ZS(i);break;case 4:Yu();break;case 13:tn(fn);break;case 19:tn(fn);break;case 10:qS(i.type._context);break;case 22:case 23:uw()}t=t.return}if(ri=n,Un=n=Ia(n.current,null),pi=vr=e,Xn=0,af=null,aw=lv=rc=0,er=Rh=null,Fl!==null){for(e=0;e<Fl.length;e++)if(t=Fl[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Fl=null}return n}function JL(n,e){do{var t=Un;try{if(JS(),Dg.current=x0,y0){for(var i=yn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}y0=!1}if(ic=0,ii=jn=yn=null,Ch=!1,rf=0,ow.current=null,t===null||t.return===null){Xn=1,af=e,Un=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=pi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=wC(o);if(m!==null){m.flags&=-257,MC(m,o,a,s,e),m.mode&1&&SC(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){SC(s,c,e),dw();break e}l=Error(Pe(426))}}else if(ln&&a.mode&1){var A=wC(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),MC(A,o,a,s,e),WS(Ku(l,a));break e}}s=l=Ku(l,a),Xn!==4&&(Xn=2),Rh===null?Rh=[s]:Rh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=PL(s,l,e);mC(s,g);break e;case 1:a=l;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(La===null||!La.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=LL(s,a,e);mC(s,M);break e}}s=s.return}while(s!==null)}KL(t)}catch(T){e=T,Un===t&&t!==null&&(Un=t=t.return);continue}break}while(!0)}function qL(){var n=_0.current;return _0.current=x0,n===null?x0:n}function dw(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),ri===null||!(rc&268435455)&&!(lv&268435455)||Aa(ri,pi)}function w0(n,e){var t=zt;zt|=2;var i=qL();(ri!==n||pi!==e)&&(Mo=null,Jl(n,e));do try{I4();break}catch(r){JL(n,r)}while(!0);if(JS(),zt=t,_0.current=i,Un!==null)throw Error(Pe(261));return ri=null,pi=0,Xn}function I4(){for(;Un!==null;)YL(Un)}function D4(){for(;Un!==null&&!sU();)YL(Un)}function YL(n){var e=ZL(n.alternate,n,vr);n.memoizedProps=n.pendingProps,e===null?KL(n):Un=e,ow.current=null}function KL(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=C4(t,e),t!==null){t.flags&=32767,Un=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Xn=6,Un=null;return}}else if(t=E4(t,e,vr),t!==null){Un=t;return}if(e=e.sibling,e!==null){Un=e;return}Un=e=n}while(e!==null);Xn===0&&(Xn=5)}function Cl(n,e,t){var i=Jt,r=Qr.transition;try{Qr.transition=null,Jt=1,N4(n,e,t,i)}finally{Qr.transition=r,Jt=i}return null}function N4(n,e,t,i){do Hu();while(Ma!==null);if(zt&6)throw Error(Pe(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Pe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(mU(n,s),n===ri&&(Un=ri=null,pi=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||xm||(xm=!0,$L(r0,function(){return Hu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Qr.transition,Qr.transition=null;var o=Jt;Jt=1;var a=zt;zt|=4,ow.current=null,R4(n,t),jL(t,n),t4(D1),o0=!!I1,D1=I1=null,n.current=t,P4(t),oU(),zt=a,Jt=o,Qr.transition=s}else n.current=t;if(xm&&(xm=!1,Ma=n,S0=r),s=n.pendingLanes,s===0&&(La=null),cU(t.stateNode),ar(n,Bn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(A0)throw A0=!1,n=eA,eA=null,n;return S0&1&&n.tag!==0&&Hu(),s=n.pendingLanes,s&1?n===tA?Ph++:(Ph=0,tA=n):Ph=0,Za(),null}function Hu(){if(Ma!==null){var n=R3(S0),e=Qr.transition,t=Jt;try{if(Qr.transition=null,Jt=16>n?16:n,Ma===null)var i=!1;else{if(n=Ma,Ma=null,S0=0,zt&6)throw Error(Pe(331));var r=zt;for(zt|=4,Je=n.current;Je!==null;){var s=Je,o=s.child;if(Je.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Je=c;Je!==null;){var d=Je;switch(d.tag){case 0:case 11:case 15:Th(8,d,s)}var f=d.child;if(f!==null)f.return=d,Je=f;else for(;Je!==null;){d=Je;var p=d.sibling,m=d.return;if(HL(d),d===c){Je=null;break}if(p!==null){p.return=m,Je=p;break}Je=m}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var A=x.sibling;x.sibling=null,x=A}while(x!==null)}}Je=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Je=o;else e:for(;Je!==null;){if(s=Je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Th(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Je=g;break e}Je=s.return}}var _=n.current;for(Je=_;Je!==null;){o=Je;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Je=S;else e:for(o=_;Je!==null;){if(a=Je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:av(9,a)}}catch(T){Mn(a,a.return,T)}if(a===o){Je=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Je=M;break e}Je=a.return}}if(zt=r,Za(),Js&&typeof Js.onPostCommitFiberRoot=="function")try{Js.onPostCommitFiberRoot($0,n)}catch{}i=!0}return i}finally{Jt=t,Qr.transition=e}}return!1}function OC(n,e,t){e=Ku(t,e),e=PL(n,e,1),n=Pa(n,e,1),e=ji(),n!==null&&(If(n,1,e),ar(n,e))}function Mn(n,e,t){if(n.tag===3)OC(n,n,t);else for(;e!==null;){if(e.tag===3){OC(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(La===null||!La.has(i))){n=Ku(t,n),n=LL(e,n,1),e=Pa(e,n,1),n=ji(),e!==null&&(If(e,1,n),ar(e,n));break}}e=e.return}}function F4(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=ji(),n.pingedLanes|=n.suspendedLanes&t,ri===n&&(pi&t)===t&&(Xn===4||Xn===3&&(pi&130023424)===pi&&500>Bn()-lw?Jl(n,0):aw|=t),ar(n,e)}function QL(n,e){e===0&&(n.mode&1?(e=cm,cm<<=1,!(cm&130023424)&&(cm=4194304)):e=1);var t=ji();n=Vo(n,e),n!==null&&(If(n,e,t),ar(n,t))}function O4(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),QL(n,t)}function k4(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Pe(314))}i!==null&&i.delete(e),QL(n,t)}var ZL;ZL=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||sr.current)ir=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ir=!1,b4(n,e,t);ir=!!(n.flags&131072)}else ir=!1,ln&&e.flags&1048576&&tL(e,f0,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Fg(n,e),n=e.pendingProps;var r=Xu(e,Li.current);zu(e,t),r=tw(null,e,i,n,r,t);var s=nw();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,or(i)?(s=!0,d0(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,KS(e),r.updater=sv,e.stateNode=r,r._reactInternals=e,V1(e,i,n,t),e=X1(null,e,i,!0,s,t)):(e.tag=0,ln&&s&&VS(e),zi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Fg(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=z4(i),n=us(i,n),r){case 0:e=W1(null,e,i,n,t);break e;case 1:e=CC(null,e,i,n,t);break e;case 11:e=bC(null,e,i,n,t);break e;case 14:e=EC(null,e,i,us(i.type,n),t);break e}throw Error(Pe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:us(i,r),W1(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:us(i,r),CC(n,e,i,r,t);case 3:e:{if(NL(e),n===null)throw Error(Pe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,sL(n,e),g0(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Ku(Error(Pe(423)),e),e=TC(n,e,i,t,r);break e}else if(i!==r){r=Ku(Error(Pe(424)),e),e=TC(n,e,i,t,r);break e}else for(_r=Ra(e.stateNode.containerInfo.firstChild),Sr=e,ln=!0,fs=null,t=cL(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ju(),i===r){e=jo(n,e,t);break e}zi(n,e,i,t)}e=e.child}return e;case 5:return uL(e),n===null&&z1(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,N1(i,r)?o=null:s!==null&&N1(i,s)&&(e.flags|=32),DL(n,e),zi(n,e,o,t),e.child;case 6:return n===null&&z1(e),null;case 13:return FL(n,e,t);case 4:return QS(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=qu(e,null,i,t):zi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:us(i,r),bC(n,e,i,r,t);case 7:return zi(n,e,e.pendingProps,t),e.child;case 8:return zi(n,e,e.pendingProps.children,t),e.child;case 12:return zi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Qt(p0,i._currentValue),i._currentValue=o,s!==null)if(Ms(s.value,o)){if(s.children===r.children&&!sr.current){e=jo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=No(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),H1(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Pe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),H1(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,zu(e,t),r=$r(r),i=i(r),e.flags|=1,zi(n,e,i,t),e.child;case 14:return i=e.type,r=us(i,e.pendingProps),r=us(i.type,r),EC(n,e,i,r,t);case 15:return BL(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:us(i,r),Fg(n,e),e.tag=1,or(i)?(n=!0,d0(e)):n=!1,zu(e,t),aL(e,i,r),V1(e,i,r,t),X1(null,e,i,!0,n,t);case 19:return OL(n,e,t);case 22:return IL(n,e,t)}throw Error(Pe(156,e.tag))};function $L(n,e){return b3(n,e)}function U4(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(n,e,t,i){return new U4(n,e,t,i)}function hw(n){return n=n.prototype,!(!n||!n.isReactComponent)}function z4(n){if(typeof n=="function")return hw(n)?1:0;if(n!=null){if(n=n.$$typeof,n===LS)return 11;if(n===BS)return 14}return 2}function Ia(n,e){var t=n.alternate;return t===null?(t=Kr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Ug(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")hw(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case pu:return ql(t.children,r,s,e);case PS:o=8,r|=8;break;case f1:return n=Kr(12,t,e,r|2),n.elementType=f1,n.lanes=s,n;case p1:return n=Kr(13,t,e,r),n.elementType=p1,n.lanes=s,n;case m1:return n=Kr(19,t,e,r),n.elementType=m1,n.lanes=s,n;case l3:return cv(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case o3:o=10;break e;case a3:o=9;break e;case LS:o=11;break e;case BS:o=14;break e;case ga:o=16,i=null;break e}throw Error(Pe(130,n==null?n:typeof n,""))}return e=Kr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function ql(n,e,t,i){return n=Kr(7,n,i,e),n.lanes=t,n}function cv(n,e,t,i){return n=Kr(22,n,i,e),n.elementType=l3,n.lanes=t,n.stateNode={isHidden:!1},n}function Dx(n,e,t){return n=Kr(6,n,null,e),n.lanes=t,n}function Nx(n,e,t){return e=Kr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function H4(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mx(0),this.expirationTimes=mx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mx(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function fw(n,e,t,i,r,s,o,a,l){return n=new H4(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},KS(s),n}function G4(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fu,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function eB(n){if(!n)return Ha;n=n._reactInternals;e:{if(fc(n)!==n||n.tag!==1)throw Error(Pe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Pe(171))}if(n.tag===1){var t=n.type;if(or(t))return $3(n,t,e)}return e}function tB(n,e,t,i,r,s,o,a,l){return n=fw(t,i,!0,n,r,s,o,a,l),n.context=eB(null),t=n.current,i=ji(),r=Ba(t),s=No(i,r),s.callback=e??null,Pa(t,s,r),n.current.lanes=r,If(n,r,i),ar(n,i),n}function uv(n,e,t,i){var r=e.current,s=ji(),o=Ba(r);return t=eB(t),e.context===null?e.context=t:e.pendingContext=t,e=No(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Pa(r,e,o),n!==null&&(Ss(n,r,o,s),Ig(n,r,o)),o}function M0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function kC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function pw(n,e){kC(n,e),(n=n.alternate)&&kC(n,e)}function V4(){return null}var nB=typeof reportError=="function"?reportError:function(n){console.error(n)};function mw(n){this._internalRoot=n}dv.prototype.render=mw.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Pe(409));uv(n,e,null,null)};dv.prototype.unmount=mw.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;sc(function(){uv(null,n,null,null)}),e[Go]=null}};function dv(n){this._internalRoot=n}dv.prototype.unstable_scheduleHydration=function(n){if(n){var e=B3();n={blockedOn:null,target:n,priority:e};for(var t=0;t<_a.length&&e!==0&&e<_a[t].priority;t++);_a.splice(t,0,n),t===0&&D3(n)}};function gw(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function hv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function UC(){}function j4(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=M0(o);s.call(c)}}var o=tB(e,i,n,0,null,!1,!1,"",UC);return n._reactRootContainer=o,n[Go]=o.current,Zh(n.nodeType===8?n.parentNode:n),sc(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=M0(l);a.call(c)}}var l=fw(n,0,!1,null,null,!1,!1,"",UC);return n._reactRootContainer=l,n[Go]=l.current,Zh(n.nodeType===8?n.parentNode:n),sc(function(){uv(e,l,t,i)}),l}function fv(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=M0(o);a.call(l)}}uv(e,o,n,r)}else o=j4(t,e,n,r,i);return M0(o)}P3=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=vh(e.pendingLanes);t!==0&&(NS(e,t|1),ar(e,Bn()),!(zt&6)&&(Qu=Bn()+500,Za()))}break;case 13:sc(function(){var i=Vo(n,1);if(i!==null){var r=ji();Ss(i,n,1,r)}}),pw(n,1)}};FS=function(n){if(n.tag===13){var e=Vo(n,134217728);if(e!==null){var t=ji();Ss(e,n,134217728,t)}pw(n,134217728)}};L3=function(n){if(n.tag===13){var e=Ba(n),t=Vo(n,e);if(t!==null){var i=ji();Ss(t,n,e,i)}pw(n,e)}};B3=function(){return Jt};I3=function(n,e){var t=Jt;try{return Jt=n,e()}finally{Jt=t}};b1=function(n,e,t){switch(e){case"input":if(y1(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=iv(i);if(!r)throw Error(Pe(90));u3(i),y1(i,r)}}}break;case"textarea":h3(n,t);break;case"select":e=t.value,e!=null&&Fu(n,!!t.multiple,e,!1)}};x3=cw;_3=sc;var W4={usingClientEntryPoint:!1,Events:[Nf,yu,iv,v3,y3,cw]},Yd={findFiberByHostInstance:Nl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},X4={bundleType:Yd.bundleType,version:Yd.version,rendererPackageName:Yd.rendererPackageName,rendererConfig:Yd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=w3(n),n===null?null:n.stateNode},findFiberByHostInstance:Yd.findFiberByHostInstance||V4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_m.isDisabled&&_m.supportsFiber)try{$0=_m.inject(X4),Js=_m}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W4;Rr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gw(e))throw Error(Pe(200));return G4(n,e,null,t)};Rr.createRoot=function(n,e){if(!gw(n))throw Error(Pe(299));var t=!1,i="",r=nB;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=fw(n,1,!1,null,null,t,!1,i,r),n[Go]=e.current,Zh(n.nodeType===8?n.parentNode:n),new mw(e)};Rr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Pe(188)):(n=Object.keys(n).join(","),Error(Pe(268,n)));return n=w3(e),n=n===null?null:n.stateNode,n};Rr.flushSync=function(n){return sc(n)};Rr.hydrate=function(n,e,t){if(!hv(e))throw Error(Pe(200));return fv(null,n,e,!0,t)};Rr.hydrateRoot=function(n,e,t){if(!gw(n))throw Error(Pe(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=nB;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=tB(e,null,n,1,t??null,r,!1,s,o),n[Go]=e.current,Zh(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new dv(e)};Rr.render=function(n,e,t){if(!hv(e))throw Error(Pe(200));return fv(null,n,e,!1,t)};Rr.unmountComponentAtNode=function(n){if(!hv(n))throw Error(Pe(40));return n._reactRootContainer?(sc(function(){fv(null,null,n,!1,function(){n._reactRootContainer=null,n[Go]=null})}),!0):!1};Rr.unstable_batchedUpdates=cw;Rr.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!hv(t))throw Error(Pe(200));if(n==null||n._reactInternals===void 0)throw Error(Pe(38));return fv(n,e,t,!1,i)};Rr.version="18.2.0-next-9e3b772b8-20220608";function iB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iB)}catch(n){console.error(n)}}iB(),t3.exports=Rr;var J4=t3.exports,zC=J4;d1.createRoot=zC.createRoot,d1.hydrateRoot=zC.hydrateRoot;var q4=4,Y4=.001,K4=1e-7,Q4=10,xh=11,Am=1/(xh-1),Z4=typeof Float32Array=="function";function rB(n,e){return 1-3*e+3*n}function sB(n,e){return 3*e-6*n}function oB(n){return 3*n}function b0(n,e,t){return((rB(e,t)*n+sB(e,t))*n+oB(e))*n}function aB(n,e,t){return 3*rB(e,t)*n*n+2*sB(e,t)*n+oB(e)}function $4(n,e,t,i,r){var s,o,a=0;do o=e+(t-e)/2,s=b0(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>K4&&++a<Q4);return o}function ez(n,e,t,i){for(var r=0;r<q4;++r){var s=aB(e,t,i);if(s===0)return e;var o=b0(e,t,i)-n;e-=o/s}return e}function tz(n){return n}var nz=function(e,t,i,r){if(!(0<=e&&e<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&i===r)return tz;for(var s=Z4?new Float32Array(xh):new Array(xh),o=0;o<xh;++o)s[o]=b0(o*Am,e,i);function a(l){for(var c=0,d=1,f=xh-1;d!==f&&s[d]<=l;++d)c+=Am;--d;var p=(l-s[d])/(s[d+1]-s[d]),m=c+p*Am,v=aB(m,e,i);return v>=Y4?ez(l,m,e,i):v===0?m:$4(l,c,c+Am,e,i)}return function(c){return c===0?0:c===1?1:b0(a(c),t,r)}};const HC=Q0(nz);var vw=function(e){this.startX=e.startX,this.startY=e.startY,this.endX=e.endX,this.endY=e.endY,this.totalX=this.endX-this.startX,this.totalY=this.endY-this.startY,this.startMultiplierX=e.startMultiplierX||1,this.endMultiplierX=e.endMultiplierX||1,this.startMultiplierY=e.startMultiplierY||1,this.endMultiplierY=e.endMultiplierY||1};function Da(){return Da=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Da.apply(this,arguments)}var E0;(function(n){n.speed="speed",n.translateX="translateX",n.translateY="translateY",n.rotate="rotate",n.rotateX="rotateX",n.rotateY="rotateY",n.rotateZ="rotateZ",n.scale="scale",n.scaleX="scaleX",n.scaleY="scaleY",n.scaleZ="scaleZ",n.opacity="opacity"})(E0||(E0={}));var kl;(function(n){n.px="px",n["%"]="%",n.vh="vh",n.vw="vw"})(kl||(kl={}));var Lh;(function(n){n.deg="deg",n.turn="turn",n.rad="rad"})(Lh||(Lh={}));var rA;(function(n){n[""]=""})(rA||(rA={}));var bs;(function(n){n.vertical="vertical",n.horizontal="horizontal"})(bs||(bs={}));var GC;(function(n){n.ease="ease",n.easeIn="easeIn",n.easeOut="easeOut",n.easeInOut="easeInOut",n.easeInQuad="easeInQuad",n.easeInCubic="easeInCubic",n.easeInQuart="easeInQuart",n.easeInQuint="easeInQuint",n.easeInSine="easeInSine",n.easeInExpo="easeInExpo",n.easeInCirc="easeInCirc",n.easeOutQuad="easeOutQuad",n.easeOutCubic="easeOutCubic",n.easeOutQuart="easeOutQuart",n.easeOutQuint="easeOutQuint",n.easeOutSine="easeOutSine",n.easeOutExpo="easeOutExpo",n.easeOutCirc="easeOutCirc",n.easeInOutQuad="easeInOutQuad",n.easeInOutCubic="easeInOutCubic",n.easeInOutQuart="easeInOutQuart",n.easeInOutQuint="easeInOutQuint",n.easeInOutSine="easeInOutSine",n.easeInOutExpo="easeInOutExpo",n.easeInOutCirc="easeInOutCirc",n.easeInBack="easeInBack",n.easeOutBack="easeOutBack",n.easeInOutBack="easeInOutBack"})(GC||(GC={}));var VC=0;function iz(){return++VC,VC}var rz=function(){function n(t){var i=t.el.getBoundingClientRect();if(t.view.scrollContainer){var r=t.view.scrollContainer.getBoundingClientRect();i=Da({},i,{top:i.top-r.top,right:i.right-r.left,bottom:i.bottom-r.top,left:i.left-r.left})}this.height=t.el.offsetHeight,this.width=t.el.offsetWidth,this.left=i.left,this.right=i.right,this.top=i.top,this.bottom=i.bottom,t.rootMargin&&this._setRectWithRootMargin(t.rootMargin)}var e=n.prototype;return e._setRectWithRootMargin=function(i){var r=i.top+i.bottom,s=i.left+i.right;this.top-=i.top,this.right+=i.right,this.bottom+=i.bottom,this.left-=i.left,this.height+=r,this.width+=s},n}(),sz=[rA[""],kl.px,kl["%"],kl.vh,kl.vw,Lh.deg,Lh.turn,Lh.rad];function Sm(n,e){e===void 0&&(e=kl["%"]);var t={value:0,unit:e};if(typeof n>"u")return t;var i=typeof n=="number"||typeof n=="string";if(!i)throw new Error("Invalid value provided. Must provide a value as a string or number");n=String(n),t.value=parseFloat(n),t.unit=n.match(/[\d.\-+]*\s*(.*)/)[1]||e;var r=sz.includes(t.unit);if(!r)throw new Error("Invalid unit provided.");return t}var jC={ease:[.25,.1,.25,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1],easeInQuad:[.55,.085,.68,.53],easeInCubic:[.55,.055,.675,.19],easeInQuart:[.895,.03,.685,.22],easeInQuint:[.755,.05,.855,.06],easeInSine:[.47,0,.745,.715],easeInExpo:[.95,.05,.795,.035],easeInCirc:[.6,.04,.98,.335],easeOutQuad:[.25,.46,.45,.94],easeOutCubic:[.215,.61,.355,1],easeOutQuart:[.165,.84,.44,1],easeOutQuint:[.23,1,.32,1],easeOutSine:[.39,.575,.565,1],easeOutExpo:[.19,1,.22,1],easeOutCirc:[.075,.82,.165,1],easeInOutQuad:[.455,.03,.515,.955],easeInOutCubic:[.645,.045,.355,1],easeInOutQuart:[.77,0,.175,1],easeInOutQuint:[.86,0,.07,1],easeInOutSine:[.445,.05,.55,.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function lB(n){if(Array.isArray(n))return HC(n[0],n[1],n[2],n[3]);if(typeof n=="string"&&typeof jC[n]<"u"){var e=jC[n];return HC(e[0],e[1],e[2],e[3])}}var oz=Object.values(E0),az={speed:"px",translateX:"%",translateY:"%",rotate:"deg",rotateX:"deg",rotateY:"deg",rotateZ:"deg",scale:"",scaleX:"",scaleY:"",scaleZ:"",opacity:""};function WC(n,e){var t={};return oz.forEach(function(i){var r=az[i];if(typeof(n==null?void 0:n[i])=="number"){var s=n==null?void 0:n[i],o=(s||0)*10+"px",a=(s||0)*-10+"px",l=Sm(o),c=Sm(a),d={start:l.value,end:c.value,unit:l.unit};e===bs.vertical&&(t.translateY=d),e===bs.horizontal&&(t.translateX=d)}if(Array.isArray(n==null?void 0:n[i])){var f=n==null?void 0:n[i];if(typeof f[0]<"u"&&typeof f[1]<"u"){var p=Sm(f==null?void 0:f[0],r),m=Sm(f==null?void 0:f[1],r),v=lB(f==null?void 0:f[2]);if(t[i]={start:p.value,end:m.value,unit:p.unit,easing:v},p.unit!==m.unit)throw new Error("Must provide matching units for the min and max offset values of each axis.")}}}),t}function XC(n,e,t,i){var r=t-n,s=r/e;return i&&(s=i(s)),s}function lz(n,e,t){var i=t>=n&&t<=e;return i}function cz(n,e,t,i,r){return(t-e)*(n-i)/(r-i)+e}function cB(n,e){var t=cz(typeof n.easing=="function"?n.easing(e):e,(n==null?void 0:n.start)||0,(n==null?void 0:n.end)||0,0,1);return{value:t,unit:n==null?void 0:n.unit}}var uz=Object.values(E0).filter(function(n){return n!=="opacity"});function dz(n,e){var t=Object.keys(e),i=t.includes("opacity"),r="transform"+(i?",opacity":"");n.style.willChange=r}function hz(n,e,t){if(t){var i=pz(n,e),r=fz(n,e);t.style.transform=i,t.style.opacity=r}}function fz(n,e){var t=n.opacity&&cB(n.opacity,e);if(typeof t>"u"||typeof t.value>"u"||typeof t.unit>"u")return"";var i=""+t.value;return i}function pz(n,e){var t=uz.reduce(function(i,r){var s=n[r]&&cB(n[r],e);if(typeof s>"u"||typeof s.value>"u"||typeof s.unit>"u")return i;var o=r+"("+s.value+s.unit+")";return i+o},"");return t}function zg(n){var e=n.el;e&&(e.style.transform="",e.style.opacity="")}function mz(n,e,t,i){var r=n.top-e.height,s=n.left-e.width,o=n.bottom,a=n.right;s+=t.x,a+=t.x,r+=t.y,o+=t.y,i&&(t.y+n.top<e.height&&(r=0),t.x+n.left<e.width&&(s=0),o>e.scrollHeight-e.height&&(o=e.scrollHeight-e.height),a>e.scrollWidth-e.width&&(a=e.scrollWidth-e.width));var l=new vw({startX:s,startY:r,endX:a,endY:o});return l}function Uc(n,e,t){var i=e>n,r=(Math.abs(n)+Math.abs(e))*(i?-1:1),s=t+r,o=Math.max(t/s,1);return o}function JC(n,e){var t=n.start,i=n.end,r=n.unit;if(r==="%"){var s=e/100;t=t*s,i=i*s}if(r==="vw"){var o=t/100,a=i/100;t=window.innerWidth*o,i=window.innerWidth*a}if(r==="vh"){var l=t/100,c=i/100;t=window.innerHeight*l,i=window.innerHeight*c}return{start:t,end:i}}var qC={start:0,end:0,unit:""};function gz(n,e,t,i,r,s){var o=t.translateX||qC,a=t.translateY||qC,l=JC(o,n.width),c=l.start,d=l.end,f=JC(a,n.height),p=f.start,m=f.end,v=n.top-e.height,x=n.left-e.width,A=n.bottom,g=n.right,_=1,S=1;r===bs.vertical&&(_=Uc(p,m,e.height+n.height),S=_);var M=1,T=1;if(r===bs.horizontal&&(M=Uc(c,d,e.width+n.width),T=M),p<0&&(v=v+p*_),m>0&&(A=A+m*S),c<0&&(x=x+c*M),d>0&&(g=g+d*T),x+=i.x,g+=i.x,v+=i.y,A+=i.y,s){var P=i.y+n.top<e.height,B=i.x+n.left<e.width,D=i.y+n.bottom>e.scrollHeight-e.height,L=i.x+n.right>e.scrollWidth-e.height;if(P&&D&&(_=1,S=1,v=0,A=e.scrollHeight-e.height),B&&L&&(M=1,T=1,x=0,g=e.scrollWidth-e.width),!P&&D){v=n.top-e.height+i.y,A=e.scrollHeight-e.height;var I=A-v;_=Uc(p,m,I),S=1,p<0&&(v=v+p*_)}if(!B&&L){x=n.left-e.width+i.x,g=e.scrollWidth-e.width;var H=g-x;M=Uc(c,d,H),T=1,c<0&&(x=x+c*M)}if(P&&!D){v=0,A=n.bottom+i.y;var W=A-v;_=1,S=Uc(p,m,W),m>0&&(A=A+m*S)}if(B&&!L){x=0,g=n.right+i.x;var ee=g-x;M=1,T=Uc(c,d,ee),d>0&&(g=g+d*T)}}var z=new vw({startX:x,startY:v,endX:g,endY:A,startMultiplierX:M,endMultiplierX:T,startMultiplierY:_,endMultiplierY:S});return z}function vz(n,e){var t=Da({},n);return t.translateX&&(t.translateX=Da({},n.translateX,{start:t.translateX.start*e.startMultiplierX,end:t.translateX.end*e.endMultiplierX})),t.translateY&&(t.translateY=Da({},n.translateY,{start:t.translateY.start*e.startMultiplierY,end:t.translateY.end*e.endMultiplierY})),t}function yz(n,e,t){return n.rootMargin||n.targetElement||n.shouldDisableScalingTranslations?!1:!!(e.translateX&&t===bs.horizontal||e.translateY&&t===bs.vertical)}var YC=function(e,t,i){return Math.min(Math.max(e,t),i)},xz=function(){function n(t){this.el=t.el,this.props=t.props,this.scrollAxis=t.scrollAxis,this.disabledParallaxController=t.disabledParallaxController||!1,this.id=iz(),this.effects=WC(this.props,this.scrollAxis),this.isInView=null,this.progress=0,this._setElementEasing(t.props.easing),dz(t.el,this.effects)}var e=n.prototype;return e.updateProps=function(i){return this.props=Da({},this.props,i),this.effects=WC(i,this.scrollAxis),this._setElementEasing(i.easing),this},e.setCachedAttributes=function(i,r){zg(this),this.rect=new rz({el:this.props.targetElement||this.el,rootMargin:this.props.rootMargin,view:i});var s=yz(this.props,this.effects,this.scrollAxis);return typeof this.props.startScroll=="number"&&typeof this.props.endScroll=="number"?(this.limits=new vw({startX:this.props.startScroll,startY:this.props.startScroll,endX:this.props.endScroll,endY:this.props.endScroll}),this._setElementStyles(),this):(s?(this.limits=gz(this.rect,i,this.effects,r,this.scrollAxis,this.props.shouldAlwaysCompleteAnimation),this.scaledEffects=vz(this.effects,this.limits)):this.limits=mz(this.rect,i,r,this.props.shouldAlwaysCompleteAnimation),this._setElementStyles(),this)},e._updateElementIsInView=function(i){var r=this.isInView===null;i!==this.isInView&&(i?this.props.onEnter&&this.props.onEnter(this):r||(this._setFinalProgress(),this._setElementStyles(),this.props.onExit&&this.props.onExit(this))),this.isInView=i},e._setFinalProgress=function(){var i=YC(Math.round(this.progress),0,1);this._updateElementProgress(i)},e._setElementStyles=function(){if(!(this.props.disabled||this.disabledParallaxController)){var i=this.scaledEffects||this.effects;hz(i,this.progress,this.el)}},e._updateElementProgress=function(i){this.progress=i,this.props.onProgressChange&&this.props.onProgressChange(this.progress),this.props.onChange&&this.props.onChange(this)},e._setElementEasing=function(i){this.easing=lB(i)},e.updateElementOptions=function(i){this.scrollAxis=i.scrollAxis,this.disabledParallaxController=i.disabledParallaxController||!1},e.updatePosition=function(i){if(!this.limits)return this;var r=this.scrollAxis===bs.vertical,s=this.isInView===null,o=r?this.limits.startY:this.limits.startX,a=r?this.limits.endY:this.limits.endX,l=r?this.limits.totalY:this.limits.totalX,c=r?i.y:i.x,d=lz(o,a,c);if(this._updateElementIsInView(d),d){var f=XC(o,l,c,this.easing);this._updateElementProgress(f),this._setElementStyles()}else s&&(this.progress=YC(Math.round(XC(o,l,c,this.easing)),0,1),this._setElementStyles());return this},n}(),KC=function(){function n(t){this.scrollContainer=t.scrollContainer,this.width=t.width,this.height=t.height,this.scrollHeight=t.scrollHeight,this.scrollWidth=t.scrollWidth}var e=n.prototype;return e.hasChanged=function(i){return i.width!==this.width||i.height!==this.height||i.scrollWidth!==this.scrollWidth||i.scrollHeight!==this.scrollHeight},e.setSize=function(i){return this.width=i.width,this.height=i.height,this.scrollHeight=i.scrollHeight,this.scrollWidth=i.scrollWidth,this},n}(),_z=function(){function n(t,i){this.x=t,this.y=i,this.dx=0,this.dy=0}var e=n.prototype;return e.setScroll=function(i,r){return this.dx=i-this.x,this.dy=r-this.y,this.x=i,this.y=r,this},n}();function Az(){var n=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return n=!0,!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n}var Sz=function(){function n(t){var i=t.scrollAxis,r=i===void 0?bs.vertical:i,s=t.scrollContainer,o=t.disabled,a=o===void 0?!1:o;this.disabled=a,this.scrollAxis=r,this.elements=[],this._hasScrollContainer=!!s,this.viewEl=s??window;var l=this._getScrollPosition(),c=l[0],d=l[1];this.scroll=new _z(c,d),this.view=new KC({width:0,height:0,scrollWidth:0,scrollHeight:0,scrollContainer:this._hasScrollContainer?s:void 0}),this._ticking=!1,this._supportsPassive=Az(),this._bindAllMethods(),!this.disabled&&(this._addListeners(this.viewEl),this._addResizeObserver(),this._setViewSize())}n.init=function(i){var r=typeof window<"u";if(!r)throw new Error("Looks like ParallaxController.init() was called on the server. This method must be called on the client.");return new n(i)};var e=n.prototype;return e._bindAllMethods=function(){var i=this;["_addListeners","_removeListeners","_getScrollPosition","_handleScroll","_handleUpdateCache","_updateAllElements","_updateElementPosition","_setViewSize","_addResizeObserver","_checkIfViewHasChanged","_getViewParams","getElements","createElement","removeElementById","resetElementStyles","updateElementPropsById","update","updateScrollContainer","destroy"].forEach(function(r){i[r]=i[r].bind(i)})},e._addListeners=function(i){i.addEventListener("scroll",this._handleScroll,this._supportsPassive?{passive:!0}:!1),window.addEventListener("resize",this._handleUpdateCache,!1),window.addEventListener("blur",this._handleUpdateCache,!1),window.addEventListener("focus",this._handleUpdateCache,!1),window.addEventListener("load",this._handleUpdateCache,!1)},e._removeListeners=function(i){var r;i.removeEventListener("scroll",this._handleScroll,!1),window.removeEventListener("resize",this._handleUpdateCache,!1),window.removeEventListener("blur",this._handleUpdateCache,!1),window.removeEventListener("focus",this._handleUpdateCache,!1),window.removeEventListener("load",this._handleUpdateCache,!1),(r=this._resizeObserver)==null||r.disconnect()},e._addResizeObserver=function(){var i=this;try{var r=this._hasScrollContainer?this.viewEl:document.documentElement;this._resizeObserver=new ResizeObserver(function(){return i.update()}),this._resizeObserver.observe(r)}catch{console.warn("Failed to create the resize observer in the ParallaxContoller")}},e._getScrollPosition=function(){var i=this._hasScrollContainer?this.viewEl.scrollLeft:window.pageXOffset,r=this._hasScrollContainer?this.viewEl.scrollTop:window.pageYOffset;return[i,r]},e._handleScroll=function(){var i,r=this._getScrollPosition(),s=r[0],o=r[1];this.scroll.setScroll(s,o),!this._ticking&&((i=this.elements)==null?void 0:i.length)>0&&(this._ticking=!0,window.requestAnimationFrame(this._updateAllElements))},e._handleUpdateCache=function(){this._setViewSize(),this._updateAllElements({updateCache:!0})},e._updateAllElements=function(i){var r=this,s=i===void 0?{}:i,o=s.updateCache;this.elements&&this.elements.forEach(function(a){o&&a.setCachedAttributes(r.view,r.scroll),r._updateElementPosition(a)}),this._ticking=!1},e._updateElementPosition=function(i){i.props.disabled||this.disabled||i.updatePosition(this.scroll)},e._getViewParams=function(){if(this._hasScrollContainer){var i=this.viewEl.offsetWidth,r=this.viewEl.offsetHeight,s=this.viewEl.scrollHeight,o=this.viewEl.scrollWidth;return this.view.setSize({width:i,height:r,scrollHeight:s,scrollWidth:o})}var a=document.documentElement,l=window.innerWidth||a.clientWidth,c=window.innerHeight||a.clientHeight,d=a.scrollHeight,f=a.scrollWidth;return{width:l,height:c,scrollHeight:d,scrollWidth:f}},e._setViewSize=function(){return this.view.setSize(this._getViewParams())},e._checkIfViewHasChanged=function(){return this.view.hasChanged(this._getViewParams())},e.getElements=function(){return this.elements},e.createElement=function(i){var r=new xz(Da({},i,{scrollAxis:this.scrollAxis,disabledParallaxController:this.disabled}));return r.setCachedAttributes(this.view,this.scroll),this.elements=this.elements?[].concat(this.elements,[r]):[r],this._updateElementPosition(r),this._checkIfViewHasChanged()&&this.update(),r},e.removeElementById=function(i){this.elements&&(this.elements=this.elements.filter(function(r){return r.id!==i}))},e.updateElementPropsById=function(i,r){this.elements&&(this.elements=this.elements.map(function(s){return s.id===i?s.updateProps(r):s})),this.update()},e.resetElementStyles=function(i){zg(i)},e.update=function(){var i=this._getScrollPosition(),r=i[0],s=i[1];this.scroll.setScroll(r,s),this._setViewSize(),this._updateAllElements({updateCache:!0})},e.updateScrollContainer=function(i){this._removeListeners(this.viewEl),this.viewEl=i,this._hasScrollContainer=!!i,this.view=new KC({width:0,height:0,scrollWidth:0,scrollHeight:0,scrollContainer:i}),this._setViewSize(),this._addListeners(this.viewEl),this._updateAllElements({updateCache:!0})},e.disableParallaxController=function(){this.disabled=!0,this._removeListeners(this.viewEl),this.elements&&this.elements.forEach(function(i){return zg(i)})},e.enableParallaxController=function(){var i=this;this.disabled=!1,this.elements&&this.elements.forEach(function(r){return r.updateElementOptions({disabledParallaxController:!1,scrollAxis:i.scrollAxis})}),this._addListeners(this.viewEl),this._addResizeObserver(),this._setViewSize()},e.disableAllElements=function(){console.warn("deprecated: use disableParallaxController() instead"),this.elements&&(this.elements=this.elements.map(function(i){return i.updateProps({disabled:!0})})),this.update()},e.enableAllElements=function(){console.warn("deprecated: use enableParallaxController() instead"),this.elements&&(this.elements=this.elements.map(function(i){return i.updateProps({disabled:!1})})),this.update()},e.destroy=function(){this._removeListeners(this.viewEl),this.elements&&this.elements.forEach(function(i){return zg(i)}),this.elements=void 0},n}(),wz=hn.createContext(null),Mz=function(e){var t=typeof window>"u";return t?null:Sz.init(e)};function bz(n){var e=ae.useRef(null);return e.current||(e.current=Mz({scrollAxis:n.scrollAxis||bs.vertical,scrollContainer:n.scrollContainer,disabled:n.isDisabled})),ae.useEffect(function(){n.scrollContainer&&e.current&&e.current.updateScrollContainer(n.scrollContainer)},[n.scrollContainer,e.current]),ae.useEffect(function(){n.isDisabled&&e.current&&e.current.disableParallaxController(),!n.isDisabled&&e.current&&e.current.enableParallaxController()},[n.isDisabled,e.current]),ae.useEffect(function(){return function(){e!=null&&e.current&&(e==null||e.current.destroy())}},[]),hn.createElement(wz.Provider,{value:e.current},n.children)}var uB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QC=hn.createContext&&hn.createContext(uB),Na=function(){return Na=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Na.apply(this,arguments)},Ez=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function dB(n){return n&&n.map(function(e,t){return hn.createElement(e.tag,Na({key:t},e.attr),dB(e.child))})}function Yi(n){return function(e){return hn.createElement(Cz,Na({attr:Na({},n.attr)},e),dB(n.child))}}function Cz(n){var e=function(t){var i=n.attr,r=n.size,s=n.title,o=Ez(n,["attr","size","title"]),a=r||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),hn.createElement("svg",Na({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:l,style:Na(Na({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&hn.createElement("title",null,s),n.children)};return QC!==void 0?hn.createElement(QC.Consumer,null,function(t){return e(t)}):e(uB)}function yw(n){return Yi({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(n)}function hB(n){return Yi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(n)}function fB(n){return Yi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(n)}function Tz(n){return Yi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(n)}function Rz(n){return Yi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"}}]})(n)}function Pz(n){return Yi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(n)}function Lz(n){return Yi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(n)}function pB(n){return Yi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M488.6 250.2L392 214V105.5c0-15-9.3-28.4-23.4-33.7l-100-37.5c-8.1-3.1-17.1-3.1-25.3 0l-100 37.5c-14.1 5.3-23.4 18.7-23.4 33.7V214l-96.6 36.2C9.3 255.5 0 268.9 0 283.9V394c0 13.6 7.7 26.1 19.9 32.2l100 50c10.1 5.1 22.1 5.1 32.2 0l103.9-52 103.9 52c10.1 5.1 22.1 5.1 32.2 0l100-50c12.2-6.1 19.9-18.6 19.9-32.2V283.9c0-15-9.3-28.4-23.4-33.7zM358 214.8l-85 31.9v-68.2l85-37v73.3zM154 104.1l102-38.2 102 38.2v.6l-102 41.4-102-41.4v-.6zm84 291.1l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6zm240 112l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6z"}}]})(n)}function mB(n){return Yi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"}}]})(n)}function Bz(n){return Yi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(n)}function ZC(n){return Yi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"}}]})(n)}function Iz(n){return Yi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(n)}function Dz(n){return Yi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M519.442 288.651c-41.519 0-59.5 31.593-82.058 31.593C377.409 320.244 432 144 432 144s-196.288 80-196.288-3.297c0-35.827 36.288-46.25 36.288-85.985C272 19.216 243.885 0 210.539 0c-34.654 0-66.366 18.891-66.366 56.346 0 41.364 31.711 59.277 31.711 81.75C175.885 207.719 0 166.758 0 166.758v333.237s178.635 41.047 178.635-28.662c0-22.473-40-40.107-40-81.471 0-37.456 29.25-56.346 63.577-56.346 33.673 0 61.788 19.216 61.788 54.717 0 39.735-36.288 50.158-36.288 85.985 0 60.803 129.675 25.73 181.23 25.73 0 0-34.725-120.101 25.827-120.101 35.962 0 46.423 36.152 86.308 36.152C556.712 416 576 387.99 576 354.443c0-34.199-18.962-65.792-56.558-65.792z"}}]})(n)}function Nz(n){return Yi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"}}]})(n)}function Fz(n){return Yi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.63 214.63l-45.25-45.25c-6-6-14.14-9.37-22.63-9.37H384V80c0-26.51-21.49-48-48-48H176c-26.51 0-48 21.49-48 48v80H77.25c-8.49 0-16.62 3.37-22.63 9.37L9.37 214.63c-6 6-9.37 14.14-9.37 22.63V320h128v-16c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v16h128v-16c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v16h128v-82.75c0-8.48-3.37-16.62-9.37-22.62zM320 160H192V96h128v64zm64 208c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-16H192v16c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-16H0v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96H384v16z"}}]})(n)}const Oz="/portfolio/assets/icon-lGal8pIF.png";function gB({setIsDev:n,firstColor:e,secondColor:t}){return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"h-1",style:{background:`linear-gradient(90deg, ${e} 0%, ${t} 100%)`}}),C.jsx("header",{className:"p-4 header-content -mt-3",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("a",{"aria-label":"Home",className:"inline-block rounded-full z-50",href:"/",children:C.jsx("img",{src:Oz,alt:"Logo",className:"w-16 h-16"})}),C.jsxs("nav",{className:"space-x-4 text-sm text-gray-800 flex -mt-6",children:[C.jsxs("a",{className:"hover:underline flex items-center space-x-1.5",onClick:()=>n(!0),style:{zIndex:10,cursor:"pointer"},children:[C.jsx(mB,{className:"mt-0.5 w-4"}),C.jsx("span",{children:"Informatique"})]}),C.jsxs("a",{className:"hover:underline flex items-center space-x-1.5",onClick:()=>n(!1),style:{zIndex:10,cursor:"pointer"},children:[C.jsx(Pz,{className:"mt-0.5 w-4"}),C.jsx("span",{children:"Photographie"})]})]})]})})]})}const Bh="generated",kz="pointerdown",Uz="pointerup",sA="pointerleave",zz="pointerout",oc="pointermove",Hz="touchstart",$C="touchend",Gz="touchmove",Vz="touchcancel",jz="resize",Wz="visibilitychange",ts="tsParticles - Error";class gr{constructor(e,t,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!Va(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${ts} Vector3d not initialized correctly`)}static get origin(){return gr.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return gr.create(e.x,e.y,e.z)}static create(e,t,i){return new gr(e,t,i)}add(e){return gr.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return gr.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return gr.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return gr.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return gr.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return gr.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class si extends gr{constructor(e,t){super(e,t,0)}static get origin(){return si.create(0,0)}static clone(e){return si.create(e.x,e.y)}static create(e,t){return new si(e,t)}}let Xz=Math.random;const oA=new Map;function Fx(n,e){oA.get(n)||oA.set(n,e)}function vB(n){return oA.get(n)||(e=>e)}function nn(){return Es(Xz(),0,1-1e-16)}function Es(n,e,t){return Math.min(Math.max(n,e),t)}function Ox(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function rr(n){const e=Gi(n);let t=xw(n);return e===t&&(t=0),nn()*(e-t)+t}function at(n){return Va(n)?n:rr(n)}function xw(n){return Va(n)?n:n.min}function Gi(n){return Va(n)?n:n.max}function jt(n,e){if(n===e||e===void 0&&Va(n))return n;const t=xw(n),i=Gi(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:jt(t,i)}function Wi(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function wr(n,e){return Wi(n,e).distance}function Jz(n,e,t){if(Va(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI*.5;case"top-right":return-Math.PI*.25;case"right":return 0;case"bottom-right":return Math.PI*.25;case"bottom":return Math.PI*.5;case"bottom-left":return Math.PI*.75;case"left":return Math.PI;case"top-left":return-Math.PI*.75;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return nn()*Math.PI*2}}function qz(n){const e=si.origin;return e.length=1,e.angle=n,e}function eT(n,e,t,i){return si.create(n.x*(t-i)/(t+i)+e.x*2*i/(t+i),n.y)}function Yz(n){var e,t;return{x:((e=n.position)==null?void 0:e.x)??nn()*n.size.width,y:((t=n.position)==null?void 0:t.y)??nn()*n.size.height}}function yB(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const Kz={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function ac(){return Kz}function tT(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:a}=n;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(t.max>=r.min&&t.max<=(r.max+r.min)*.5&&o>0||t.min<=r.max&&t.min>(r.max+r.min)*.5&&o<0)&&(e.velocity=o*-a,e.bounced=!0),e}function Qz(n,e){const t=Er(e,i=>n.matches(i));return ro(t)?t.some(i=>i):t}function lc(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function Zz(){return!lc()&&typeof matchMedia<"u"}function xB(n){if(Zz())return matchMedia(n)}function $z(n){if(!(lc()||typeof IntersectionObserver>"u"))return new IntersectionObserver(n)}function e5(n){if(!(lc()||typeof MutationObserver>"u"))return new MutationObserver(n)}function Dn(n,e){return n===e||ro(e)&&e.indexOf(n)>-1}async function nT(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function t5(n){return Math.floor(nn()*n.length)}function pv(n,e,t=!0){return n[e!==void 0&&t?e%n.length:t5(n)]}function _w(n,e,t,i,r){return n5(Of(n,i??0),e,t,r)}function n5(n,e,t,i){let r=!0;return(!i||i==="bottom")&&(r=n.top<e.height+t.x),r&&(!i||i==="left")&&(r=n.right>t.x),r&&(!i||i==="right")&&(r=n.left<e.width+t.y),r&&(!i||i==="top")&&(r=n.bottom>t.y),r}function Of(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function Bi(n,...e){for(const t of e){if(t==null)continue;if(!bu(t)){n=t;continue}const i=Array.isArray(t);i&&(bu(n)||!n||!Array.isArray(n))?n=[]:!i&&(bu(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const s=t,o=s[r],a=n;a[r]=bu(o)&&Array.isArray(o)?o.map(l=>Bi(a[r],l)):Bi(a[r],o)}}return n}function Aw(n,e){return!!SB(e,t=>t.enable&&Dn(n,t.mode))}function Sw(n,e,t){Er(e,i=>{const r=i.mode;i.enable&&Dn(n,r)&&i5(i,t)})}function i5(n,e){const t=n.selectors;Er(t,i=>{e(i,n)})}function _B(n,e){if(!(!e||!n))return SB(n,t=>Qz(e,t.selectors))}function aA(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:si.create(at(n.options.bounce.horizontal.value),at(n.options.bounce.vertical.value))}}function AB(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,s]=[n.position,e.position],{dx:o,dy:a}=Wi(s,r);if(t*o+i*a<0)return;const l=-Math.atan2(a,o),c=n.mass,d=e.mass,f=n.velocity.rotate(l),p=e.velocity.rotate(l),m=eT(f,p,c,d),v=eT(p,f,c,d),x=m.rotate(-l),A=v.rotate(-l);n.velocity.x=x.x*n.factor.x,n.velocity.y=x.y*n.factor.y,e.velocity.x=A.x*e.factor.x,e.velocity.y=A.y*e.factor.y}function r5(n,e){const t=n.getPosition(),i=n.getRadius(),r=Of(t,i),s=n.options.bounce,o=tT({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:at(s.horizontal.value)});o.bounced&&(o.velocity!==void 0&&(n.velocity.x=o.velocity),o.position!==void 0&&(n.position.x=o.position));const a=tT({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:at(s.vertical.value)});a.bounced&&(a.velocity!==void 0&&(n.velocity.y=a.velocity),a.position!==void 0&&(n.position.y=a.position))}function Er(n,e){return ro(n)?n.map((t,i)=>e(t,i)):e(n,0)}function ys(n,e,t){return ro(n)?pv(n,e,t):n}function SB(n,e){return ro(n)?n.find((t,i)=>e(t,i)):e(n,0)?n:void 0}function wB(n,e){const t=n.value,i=n.animation,r={delayTime:at(i.delay)*1e3,enable:i.enable,value:at(n.value)*e,max:Gi(t)*e,min:xw(t)*e,loops:0,maxLoops:at(i.count),time:0};if(i.enable){switch(r.decay=1-at(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=nn()>=.5?"increasing":"decreasing";break}const s=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,s&&(r.status="increasing");break;case"max":r.value=r.max,s&&(r.status="decreasing");break;case"random":default:r.value=rr(r),s&&(r.status=nn()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function s5(n,e){if(!(n.mode==="percent")){const{mode:r,...s}=n;return s}return"x"in n?{x:n.x/100*e.width,y:n.y/100*e.height}:{width:n.width/100*e.width,height:n.height/100*e.height}}function MB(n,e){return s5(n,e)}function bB(n){return typeof n=="boolean"}function Ga(n){return typeof n=="string"}function Va(n){return typeof n=="number"}function bu(n){return typeof n=="object"&&n!==null}function ro(n){return Array.isArray(n)}const C0="random",Hg="mid",mv=new Map;function iT(n){mv.set(n.key,n)}function o5(n){for(const[,s]of mv)if(n.startsWith(s.stringPrefix))return s.parseString(n);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=n.replace(e,(s,o,a,l,c)=>o+o+a+a+l+l+(c!==void 0?c+c:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(t);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function ws(n,e,t=!0){if(!n)return;const i=Ga(n)?{value:n}:n;if(Ga(i.value))return EB(i.value,e,t);if(ro(i.value))return ws({value:pv(i.value,e,t)});for(const[,r]of mv){const s=r.handleRangeColor(i);if(s)return s}}function EB(n,e,t=!0){if(!n)return;const i=Ga(n)?{value:n}:n;if(Ga(i.value))return i.value===C0?TB():a5(i.value);if(ro(i.value))return EB({value:pv(i.value,e,t)});for(const[,r]of mv){const s=r.handleColor(i);if(s)return s}}function lf(n,e,t=!0){const i=ws(n,e,t);return i?CB(i):void 0}function CB(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),s=Math.min(e,t,i),o={h:0,l:(r+s)*.5,s:0};return r!==s&&(o.s=o.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),o.h=e===r?(t-i)/(r-s):o.h=t===r?2+(i-e)/(r-s):4+(e-t)/(r-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function a5(n){return o5(n)}function Zu(n){const e=(n.h%360+360)%360,t=Math.max(0,Math.min(100,n.s)),i=Math.max(0,Math.min(100,n.l)),r=e/360,s=t/100,o=i/100;if(t===0){const m=Math.round(o*255);return{r:m,g:m,b:m}}const a=(m,v,x)=>(x<0&&(x+=1),x>1&&(x-=1),x*6<1?m+(v-m)*6*x:x*2<1?v:x*3<2?m+(v-m)*(2/3-x)*6:m),l=o<.5?o*(1+s):o+s-o*s,c=2*o-l,d=Math.min(255,255*a(c,l,r+1/3)),f=Math.min(255,255*a(c,l,r)),p=Math.min(255,255*a(c,l,r-1/3));return{r:Math.round(d),g:Math.round(f),b:Math.round(p)}}function l5(n){const e=Zu(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function TB(n){const e=n??0;return{b:Math.floor(rr(jt(e,256))),g:Math.floor(rr(jt(e,256))),r:Math.floor(rr(jt(e,256)))}}function Fo(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function cf(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function ww(n,e,t,i){let r=n,s=e;return r.r===void 0&&(r=Zu(n)),s.r===void 0&&(s=Zu(e)),{b:Ox(r.b,s.b,t,i),g:Ox(r.g,s.g,t,i),r:Ox(r.r,s.r,t,i)}}function lA(n,e,t){if(t===C0)return TB();if(t===Hg){const i=n.getFillColor()??n.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return ww(i,r,n.getRadius(),e.getRadius());{const s=i??r;if(s)return Zu(s)}}else return t}function RB(n,e,t){const i=Ga(n)?n:n.value;return i===C0?t?ws({value:i}):e?C0:Hg:i===Hg?Hg:ws({value:i})}function rT(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function PB(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(kx(i.h,e.h,t),kx(i.s,e.s,t),kx(i.l,e.l,t)),i}function kx(n,e,t){n.enable=e.enable,n.enable?(n.velocity=at(e.speed)/100*t,n.decay=1-at(e.decay),n.status="increasing",n.loops=0,n.maxLoops=at(e.count),n.time=0,n.delayTime=at(e.delay)*1e3,e.sync||(n.velocity*=nn(),n.value*=nn()),n.initialValue=n.value):n.velocity=0}function Ih(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function c5(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function u5(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}function Ux(n,e){n.clearRect(0,0,e.width,e.height)}function d5(n){const{container:e,context:t,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:d,transform:f}=n,p=i.getPosition(),m=i.rotation+(i.pathRotation?i.velocity.angle:0),v={sin:Math.sin(m),cos:Math.cos(m)},x={a:v.cos*(f.a??1),b:v.sin*(f.b??1),c:-v.sin*(f.c??1),d:v.cos*(f.d??1)};t.setTransform(x.a,x.b,x.c,x.d,p.x,p.y),o&&(t.globalCompositeOperation=a);const A=i.shadowColor;d.enable&&A&&(t.shadowBlur=d.blur,t.shadowColor=Fo(A),t.shadowOffsetX=d.offset.x,t.shadowOffsetY=d.offset.y),s.fill&&(t.fillStyle=s.fill);const g=i.strokeWidth??0;t.lineWidth=g,s.stroke&&(t.strokeStyle=s.stroke);const _={container:e,context:t,particle:i,radius:l,opacity:c,delta:r,transformData:x};t.beginPath(),f5(_),i.shapeClose&&t.closePath(),g>0&&t.stroke(),i.shapeFill&&t.fill(),p5(_),h5(_),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function h5(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:o,transformData:a}=n;if(!i.effect)return;const l=e.effectDrawers.get(i.effect);l&&l.draw({context:t,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function f5(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:o,transformData:a}=n;if(!i.shape)return;const l=e.shapeDrawers.get(i.shape);l&&l.draw({context:t,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function p5(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:o,transformData:a}=n;if(!i.shape)return;const l=e.shapeDrawers.get(i.shape);!l||!l.afterDraw||l.afterDraw({context:t,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function m5(n,e,t){e.draw&&e.draw(n,t)}function g5(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function v5(n,e,t){return{h:n.h,s:n.s,l:n.l+(e==="darken"?-1:1)*t}}function y5(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??1)*i)}let x5=class{constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,r,s,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:c,stroke:d}=l.getColorStyles(i,t,r,s);c&&(o.fill=c),d&&(o.stroke=d)}if(l.getTransformValues){const c=l.getTransformValues(i);for(const d in c)y5(a,c,d)}l.beforeDraw&&l.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,r;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=lf(s.particleFillColor(t))),!r&&s.particleStrokeColor&&(r=lf(s.particleStrokeColor(t))),i&&r)break;return[i,r]},this._initCover=()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,r=i.color,s=ws(r);if(s){const o={...s,a:i.opacity};this._coverColorStyle=Fo(o,o.a)}},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=Bi({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const s=i.style[r];s&&t.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const s=ws(r.color);if(!s)return;const o=t.particles.move.trail;this._trailFill={color:{...s},opacity:1/o.length}}else await new Promise((s,o)=>{if(!r.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/i.length},s()}),a.addEventListener("error",l=>{o(l.error)}),a.src=r.image})},this._paintBase=t=>{this.draw(i=>c5(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(r=>u5(r,this.size,t,i))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;if(!(t&&i))return;const r=t.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i="important",r=t.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(Fo(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(r=>{Ux(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(l=>{var S;const c=this.container,d=c.actualOptions,f=e.options.zIndex,p=(1-e.zIndexFactor)**f.opacityRate,m=e.bubble.opacity??((S=e.opacity)==null?void 0:S.value)??1,v=e.strokeOpacity??m,x=m*p,A=v*p,g={},_={fill:o?cf(o,x):void 0};_.stroke=a?cf(a,A):_.fill,this._applyPreDrawUpdaters(l,e,i,x,_,g),d5({container:c,context:l,particle:e,delta:t,colorStyles:_,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**f.sizeRate,opacity:x,shadow:e.options.shadow,transform:g}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>g5(r,e,t,i))}drawPlugin(e,t){this.draw(i=>m5(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=e5(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){ac().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const s=ws(t.color);r.backgroundColor=s?Fo(s,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Bh in e.dataset?e.dataset[Bh]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Bi({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Ux(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...i};return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&e.particles.setResizeFactor({width:i.width/s.width,height:i.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Ux(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}};function Gr(n,e,t,i,r){if(i){let s={passive:!0};bB(r)?s.capture=r:r!==void 0&&(s=r),n.addEventListener(e,t,s)}else{const s=r;n.removeEventListener(e,t,s)}}class _5{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;Er(a.mode,l=>this.container.handleClickMode(l))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const t=this.container.canvas;t&&await t.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(Gr(a,oc,r.mouseMove,i),Gr(a,Hz,r.touchStart,i),Gr(a,Gz,r.touchMove,i),o.interactivity.events.onClick.enable?(Gr(a,$C,r.touchEndClick,i),Gr(a,Uz,r.mouseUp,i),Gr(a,kz,r.mouseDown,i)):Gr(a,$C,r.touchEnd,i),Gr(a,t,r.mouseLeave,i),Gr(a,Vz,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=sA;o==="window"?(r.interactivity.element=window,l=zz):o==="parent"&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(l,t),document&&Gr(document,Wz,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=xB("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){Gr(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Gr(window,jz,i.resize,t);return}const o=r.canvas.element;this._resizeObserver&&!t?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(c=>c.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,l]of i.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(t),s.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=sA,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!s||!s.element)return;s.mouse.inside=!0;let a;if(t.type.startsWith("pointer")){this._canPush=!0;const c=t;if(s.element===window){if(o){const d=o.getBoundingClientRect();a={x:c.clientX-d.left,y:c.clientY-d.top}}}else if(r.interactivity.detectsOn==="parent"){const d=c.target,f=c.currentTarget;if(d&&f&&o){const p=d.getBoundingClientRect(),m=f.getBoundingClientRect(),v=o.getBoundingClientRect();a={x:c.offsetX+2*p.left-(m.left+v.left),y:c.offsetY+2*p.top-(m.top+v.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=t.type!=="touchmove",o){const c=t,d=c.touches[c.touches.length-1],f=o.getBoundingClientRect();a={x:d.clientX-(f.left??0),y:d.clientY-(f.top??0)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=oc},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class vi{constructor(){this.value=""}static create(e,t){const i=new vi;return i.load(e),t!==void 0&&(Ga(t)||ro(t)?i.load({value:t}):i.load(t)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class A5{constructor(){this.color=new vi,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=vi.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class S5{constructor(){this.color=new vi,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=vi.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class w5{constructor(){this.composite="destination-out",this.cover=new S5,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=Ga(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class M5{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class b5{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class sT{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}load(e){e&&(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class E5{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class C5{constructor(){this.enable=!1,this.mode=[],this.parallax=new E5}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class T5{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class R5{constructor(){this.onClick=new b5,this.onDiv=new sT,this.onHover=new C5,this.resize=new T5}load(e){if(!e)return;this.onClick.load(e.onClick);const t=e.onDiv;t!==void 0&&(this.onDiv=Er(t,i=>{const r=new sT;return r.load(i),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class P5{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;const t=this._engine.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class LB{constructor(e,t){this.detectsOn="window",this.events=new R5,this.modes=new P5(e,t)}load(e){if(!e)return;const t=e.detectsOn;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class L5{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=Bi({},e.options)))}}class B5{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Bi({},e.options)))}}class I5{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class D5{constructor(){this.name="",this.default=new I5}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Bi({},e.options)))}}class Mw{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=jt(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=jt(e.speed)),e.decay!==void 0&&(this.decay=jt(e.decay)),e.delay!==void 0&&(this.delay=jt(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class bw extends Mw{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class zx extends Mw{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),e&&e.offset!==void 0&&(this.offset=jt(e.offset))}}class N5{constructor(){this.h=new zx,this.s=new zx,this.l=new zx}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class uf extends vi{constructor(){super(),this.animation=new N5}static create(e,t){const i=new uf;return i.load(e),t!==void 0&&(Ga(t)||ro(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}class F5{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class O5{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class pc{constructor(){this.value=0}load(e){e&&e.value!==void 0&&(this.value=jt(e.value))}}class k5 extends pc{constructor(){super(),this.animation=new Mw}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class BB extends k5{constructor(){super(),this.animation=new bw}load(e){super.load(e)}}class oT extends pc{constructor(){super(),this.value=1}}class IB{constructor(){this.horizontal=new oT,this.vertical=new oT}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class U5{constructor(){this.absorb=new F5,this.bounce=new IB,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new O5}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=jt(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class z5{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(!e)return;const t=e.options;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=Bi(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class H5{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=jt(e.offset)),e.value!==void 0&&(this.value=jt(e.value)))}}class G5{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(e&&(e.distance!==void 0&&(this.distance=jt(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const t=e.rotate.x;t!==void 0&&(this.rotate.x=t);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class V5{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class j5{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=jt(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=jt(e.maxSpeed)))}}class W5{constructor(){this.clamp=!0,this.delay=new pc,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Bi(this.options,e.options)))}}class X5{load(e){e&&(e.color!==void 0&&(this.color=vi.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class J5{constructor(){this.enable=!1,this.length=10,this.fill=new X5}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}class q5{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class Y5{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=jt(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Bi({},e.position)))}}class K5{constructor(){this.angle=new H5,this.attract=new G5,this.center=new V5,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new j5,this.path=new W5,this.outModes=new q5,this.random=!1,this.size=!1,this.speed=2,this.spin=new Y5,this.straight=!1,this.trail=new J5,this.vibrate=!1,this.warp=!1}load(e){if(!e)return;this.angle.load(Va(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=jt(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Va(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=jt(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes;t!==void 0&&(bu(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=jt(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class Q5 extends bw{constructor(){super(),this.destroy="none",this.speed=2}load(e){super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Z5 extends BB{constructor(){super(),this.animation=new Q5,this.value=1}load(e){if(!e)return;super.load(e);const t=e.animation;t!==void 0&&this.animation.load(t)}}class $5{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width;t!==void 0&&(this.width=t);const i=e.height;i!==void 0&&(this.height=i)}}class eH{constructor(){this.mode="delete",this.value=0}load(e){e&&(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class tH{constructor(){this.density=new $5,this.limit=new eH,this.value=0}load(e){e&&(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class nH{constructor(){this.blur=0,this.color=new vi,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=vi.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}let iH=class{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(!e)return;const t=e.options;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=Bi(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}};class rH extends bw{constructor(){super(),this.destroy="none",this.speed=5}load(e){super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class sH extends BB{constructor(){super(),this.animation=new rH,this.value=3}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class aT{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=uf.create(this.color,e.color)),e.width!==void 0&&(this.width=jt(e.width)),e.opacity!==void 0&&(this.opacity=jt(e.opacity)))}}class oH extends pc{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class aH{constructor(e,t){this._engine=e,this._container=t,this.bounce=new IB,this.collisions=new U5,this.color=new uf,this.color.value="#fff",this.effect=new z5,this.groups={},this.move=new K5,this.number=new tH,this.opacity=new Z5,this.reduceDuplicates=!1,this.shadow=new nH,this.shape=new iH,this.size=new sH,this.stroke=new aT,this.zIndex=new oH}load(e){if(!e)return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=Bi(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(uf.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Bi({},e.interactivity));const t=e.stroke;if(t&&(this.stroke=Er(t,i=>{const r=new aT;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const s of i)s.loadOptions&&s.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const s of r)s.loadParticlesOptions&&s.loadParticlesOptions(this,e)}}}function DB(n,...e){for(const t of e)n.load(t)}function NB(n,e,...t){const i=new aH(n,e);return DB(i,...t),i}class lH{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new A5,this.backgroundMask=new w5,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new M5,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new LB(e,t),this.manualParticles=[],this.particles=NB(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){var o,a;if(!e)return;e.preset!==void 0&&Er(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=jt(e.delay));const t=e.detectRetina;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=jt(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;bB(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new L5;return c.load(l),c})),this.particles.load(e.particles),this.style=Bi(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new B5;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(d=>d.name===l.name);if(c)c.load(l);else{const d=new D5;d.load(l),this.themes.push(d)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*t>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=xB("(prefers-color-scheme: dark)"),i=t&&t.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class cH{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}function uH(n,e,t,i){const r=e.options[n];if(r)return Bi({close:e.close,fill:e.fill},ys(r,t,i))}function dH(n,e,t,i){const r=e.options[n];if(r)return Bi({close:e.close,fill:e.fill},ys(r,t,i))}function lT(n){if(!Dn(n.outMode,n.checkModes))return;const e=n.radius*2;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)}class hH{constructor(e,t,i,r,s,o){this.container=i,this._calcPosition=(a,l,c,d=0)=>{for(const[,_]of a.plugins){const S=_.particlePosition!==void 0?_.particlePosition(l,this):void 0;if(S)return gr.create(S.x,S.y,c)}const f=a.canvas.size,p=Yz({size:f,position:l}),m=gr.create(p.x,p.y,c),v=this.getRadius(),x=this.options.move.outModes,A=_=>{lT({outMode:_,checkModes:["bounce","bounce-horizontal"],coord:m.x,maxCoord:a.canvas.size.width,setCb:S=>m.x+=S,radius:v})},g=_=>{lT({outMode:_,checkModes:["bounce","bounce-vertical"],coord:m.y,maxCoord:a.canvas.size.height,setCb:S=>m.y+=S,radius:v})};return A(x.left??x.default),A(x.right??x.default),g(x.top??x.default),g(x.bottom??x.default),this._checkOverlap(m,d)?this._calcPosition(a,void 0,c,d+1):m},this._calculateVelocity=()=>{const a=qz(this.direction),l=a.copy(),c=this.options.move;if(c.direction==="inside"||c.direction==="outside")return l;const d=Math.PI/180*at(c.angle.value),f=Math.PI/180*at(c.angle.offset),p={left:f-d*.5,right:f+d*.5};return c.straight||(l.angle+=rr(jt(p.left,p.right))),c.random&&typeof c.speed=="number"&&(l.length*=nn()),l},this._checkOverlap=(a,l=0)=>{const c=this.options.collisions,d=this.getRadius();if(!c.enable)return!1;const f=c.overlap;if(f.enable)return!1;const p=f.retries;if(p>=0&&l>p)throw new Error(`${ts} particle is overlapping and can't be placed`);return!!this.container.particles.find(m=>wr(a,m.position)<d+m.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI*.5:0;return Math.floor(((this.roll.angle??0)+c)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?v5(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,c=at(this.options.zIndex.value);this.position=this._calcPosition(l,a,Es(c,0,l.zLayers)),this.initialPosition=this.position.copy();const d=l.canvas.size;switch(this.moveCenter={...MB(this.options.move.center,d),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=Jz(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=si.origin},this._engine=e,this.init(t,r,s,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator,r=t.shapeDrawers.get(this.shape);r&&r.particleDestroy&&r.particleDestroy(this);for(const[,s]of t.plugins)s.particleDestroyed&&s.particleDestroyed(this,e);for(const s of t.particles.updaters)s.particleDestroyed&&s.particleDestroyed(this,e);i&&i.reset(this),this._engine.dispatchEvent("particleDestroyed",{container:this.container,data:{particle:this}})}draw(e){const t=this.container,i=t.canvas;for(const[,r]of t.plugins)i.drawParticlePlugin(r,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??rT(this.color))}getMass(){return this.getRadius()**2*Math.PI*.5}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??rT(this.strokeColor))}init(e,t,i,r){const s=this.container,o=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=NB(this._engine,s,l.particles),d=c.effect.type,f=c.shape.type,{reduceDuplicates:p}=c;this.effect=ys(d,this.id,p),this.shape=ys(f,this.id,p);const m=c.effect,v=c.shape;if(i){if(i.effect&&i.effect.type){const B=i.effect.type,D=ys(B,this.id,p);D&&(this.effect=D,m.load(i.effect))}if(i.shape&&i.shape.type){const B=i.shape.type,D=ys(B,this.id,p);D&&(this.shape=D,v.load(i.shape))}}this.effectData=uH(this.effect,m,this.id,p),this.shapeData=dH(this.shape,v,this.id,p),c.load(i);const x=this.effectData;x&&c.load(x.particles);const A=this.shapeData;A&&c.load(A.particles);const g=new LB(o,s);g.load(s.actualOptions.interactivity),g.load(c.interactivity),this.interactivity=g,this.effectFill=(x==null?void 0:x.fill)??c.effect.fill,this.effectClose=(x==null?void 0:x.close)??c.effect.close,this.shapeFill=(A==null?void 0:A.fill)??c.shape.fill,this.shapeClose=(A==null?void 0:A.close)??c.shape.close,this.options=c;const _=this.options.move.path;this.pathDelay=at(_.delay.value)*1e3,_.generator&&(this.pathGenerator=this._engine.getPathGenerator(_.generator),this.pathGenerator&&s.addPath(_.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=wB(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-at(this.options.move.decay);const S=s.particles;S.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let M=s.effectDrawers.get(this.effect);M||(M=this._engine.getEffectDrawer(this.effect),M&&s.effectDrawers.set(this.effect,M)),M&&M.loadEffect&&M.loadEffect(this);let T=s.shapeDrawers.get(this.shape);T||(T=this._engine.getShapeDrawer(this.shape),T&&s.shapeDrawers.set(this.shape,T)),T&&T.loadShape&&T.loadShape(this);const P=T==null?void 0:T.getSidesCount;P&&(this.sides=P(this)),this.spawning=!1,this.shadowColor=ws(this.options.shadow.color);for(const B of S.updaters)B.init(this);for(const B of S.movers)B.init&&B.init(this);M&&M.particleInit&&M.particleInit(s,this),T&&T.particleInit&&T.particleInit(s,this);for(const[,B]of s.plugins)B.particleCreated&&B.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class fH{constructor(e,t){this.position=e,this.particle=t}}class FB{constructor(e,t){this.position={x:e,y:t}}}class Cs extends FB{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof Ri&&e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Cs?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+t&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}class Ri extends FB{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return wr(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},s=this.radius;if(e instanceof Ri){const o=s+e.radius,a=Math.sqrt(r.x**2+r.y**2);return o>a}else if(e instanceof Cs){const{width:o,height:a}=e.size;return Math.pow(r.x-o,2)+Math.pow(r.y-a,2)<=s**2||r.x<=s+o&&r.y<=s+a||r.x<=o||r.y<=a}return!1}}class T0{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new T0(new Cs(i+s*.5*(l%2),r+o*.5*(Math.round(l*.5)-l%2),s*.5,o*.5),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&wr(e.position,s.position)>s.particle.getRadius()&&(!t||t(s.particle))||r.push(s.particle);if(this._divided)for(const s of this._subs)s.query(e,t,r);return r}queryCircle(e,t,i){return this.query(new Ri(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Cs(e.x,e.y,t.width,t.height),i)}}const cT=4,uT=n=>{const{height:e,width:t}=n,i=-.25,r=1.5;return new Cs(i*t,i*e,r*t,r*e)};class pH{constructor(e,t){this._addToPool=(...r)=>{for(const s of r)this._pool.push(s)},this._applyDensity=(r,s,o)=>{var m;const a=r.number;if(!((m=r.number.density)!=null&&m.enable)){o===void 0?this._limit=a.limit.value:a.limit&&this._groupLimits.set(o,a.limit.value);return}const l=this._initDensityFactor(a.density),c=a.value,d=a.limit.value>0?a.limit.value:c,f=Math.min(c,d)*l+s,p=Math.min(this.count,this.filter(v=>v.group===o).length);o===void 0?this._limit=a.limit.value*l:this._groupLimits.set(o,a.limit.value*l),p<f?this.push(Math.abs(f-p),void 0,r,o):p>f&&this.removeQuantity(p-f,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return 1;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.height*r.width*a**2)},this._pushParticle=(r,s,o,a)=>{try{let l=this._pool.pop();l?l.init(this._nextId,r,s,o):l=new hH(this._engine,this._nextId,this._container,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){ac().warning(`${ts} adding particle: ${l}`);return}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;const l=this._zArray.indexOf(a);return this._array.splice(r,1),this._zArray.splice(l,1),a.destroy(o),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),this._addToPool(a),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new cH(e,t);const i=t.canvas.size;this.quadTree=new T0(uT(i),cT),this.movers=this._engine.getMovers(t,!0),this.updaters=this._engine.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(i.position?MB(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,r){const s=this._container.actualOptions.particles.number.limit,o=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,a=this.count;if(o>0){if(s.mode==="delete"){const l=a+1-o;l>0&&this.removeQuantity(l)}else if(s.mode==="wait"&&a>=o)return}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container,i=t.canvas;i.clear(),await this.update(e);for(const[,r]of t.plugins)i.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var r;const e=this._container,t=e.actualOptions;this._lastZIndex=0,this._needsSort=!1;let i=!1;this.updaters=this._engine.getUpdaters(e,!0),this._interactionManager.init();for(const[,s]of e.plugins)if(s.particlesInitialization!==void 0&&(i=s.particlesInitialization()),i)break;this._interactionManager.init();for(const[,s]of e.pathGenerators)s.init(e);if(this.addManualParticles(),!i){const s=t.particles,o=s.groups;for(const a in o){const l=o[a];for(let c=this.count,d=0;d<((r=l.number)==null?void 0:r.value)&&c<s.number.value;c++,d++)this.addParticle(void 0,l,a)}for(let a=this.count;a<s.number.value;a++)this.addParticle()}}push(e,t,i,r){for(let s=0;s<e;s++)this.addParticle(t==null?void 0:t.position,i,r)}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let s=0;for(let o=e;s<t&&o<this.count;o++)this._removeParticle(o--,i,r)&&s++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}async update(e){const t=this._container,i=new Set;this.quadTree=new T0(uT(t.canvas.size),cT);for(const[,s]of t.pathGenerators)s.update();for(const[,s]of t.plugins)s.update&&await s.update(e);const r=this._resizeFactor;for(const s of this._array){r&&!s.ignoresResizeRatio&&(s.position.x*=r.width,s.position.y*=r.height,s.initialPosition.x*=r.width,s.initialPosition.y*=r.height),s.ignoresResizeRatio=!1,await this._interactionManager.reset(s);for(const[,o]of this._container.plugins){if(s.destroyed)break;o.particleUpdate&&o.particleUpdate(s,e)}for(const o of this.movers)o.isEnabled(s)&&o.move(s,e);if(s.destroyed){i.add(s);continue}this.quadTree.insert(new fH(s.getPosition(),s))}if(i.size){const s=o=>!i.has(o);this._array=this.filter(s),this._zArray=this._zArray.filter(s);for(const o of i)this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:o}});this._addToPool(...i)}await this._interactionManager.externalInteract(e);for(const s of this._array){for(const o of this.updaters)o.update(s,e);!s.destroyed&&!s.spawning&&await this._interactionManager.particlesInteract(s,e)}if(delete this._resizeFactor,this._needsSort){const s=this._zArray;s.sort((o,a)=>a.position.z-o.position.z||o.id-a.id),this._lastZIndex=s[s.length-1].position.z,this._needsSort=!1}}}class mH{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||lc()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio,r=e.canvas;if(r.element){const a=r.element;r.size.width=a.offsetWidth*i,r.size.height=a.offsetHeight*i}const s=t.particles,o=s.move;this.maxSpeed=at(o.gravity.maxSpeed)*i,this.sizeAnimationSpeed=at(s.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,s=r.distance,o=e.retina;o.moveDrift=at(r.drift)*i,o.moveSpeed=at(r.speed)*i,o.sizeAnimationSpeed=at(t.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=at(r.gravity.maxSpeed)*i}}function Rn(n){return n&&!n.destroyed}function gH(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}function zc(n,e,...t){const i=new lH(n,e);return DB(i,...t),i}class vH{constructor(e,t,i){this._intersectionManager=r=>{if(!(!Rn(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??(this._lastFrameTime=r);const s=gH(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(s.value),this._lastFrameTime=r,s.value>1e3){this.draw(!1);return}if(await this.particles.draw(s),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(s){ac().error(`${ts} in animation loop`,s)}},this._engine=e,this.id=Symbol(t),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new mH(this),this.canvas=new x5(this),this.particles=new pH(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=zc(this._engine,this),this.actualOptions=zc(this._engine,this),this._eventListeners=new _5(this),this._intersectionObserver=$z(r=>this._intersectionManager(r)),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!Rn(this))return;const t=this.interactivity.element;if(!t)return;const i=(f,p,m)=>{if(!Rn(this))return;const v=this.retina.pixelRatio,x={x:p.x*v,y:p.y*v},A=this.particles.quadTree.queryCircle(x,m*v);e(f,A)},r=f=>{if(!Rn(this))return;const p=f,m={x:p.offsetX||p.clientX,y:p.offsetY||p.clientY};i(f,m,1)},s=()=>{Rn(this)&&(c=!0,d=!1)},o=()=>{Rn(this)&&(d=!0)},a=f=>{if(Rn(this)){if(c&&!d){const p=f;let m=p.touches[p.touches.length-1];if(!m&&(m=p.changedTouches[p.changedTouches.length-1],!m))return;const v=this.canvas.element,x=v?v.getBoundingClientRect():void 0,A={x:m.clientX-(x?x.left:0),y:m.clientY-(x?x.top:0)};i(f,A,Math.max(m.radiusX,m.radiusY))}c=!1,d=!1}},l=()=>{Rn(this)&&(c=!1,d=!1)};let c=!1,d=!1;t.addEventListener("click",r),t.addEventListener("touchstart",s),t.addEventListener("touchmove",o),t.addEventListener("touchend",a),t.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!Rn(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!Rn(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.effectDrawers)i.destroy&&i.destroy(this);for(const[,i]of this.shapeDrawers)i.destroy&&i.destroy(this);for(const i of this.effectDrawers.keys())this.effectDrawers.delete(i);for(const i of this.shapeDrawers.keys())this.shapeDrawers.delete(i);this._engine.clearPlugins(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!Rn(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{t&&(this._lastFrameTime=void 0,t=!1),await this._nextFrame(i)})}async export(e,t={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}ac().error(`${ts} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&Rn(this)}handleClickMode(e){if(Rn(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!Rn(this))return;const e=this._engine.getSupportedEffects();for(const r of e){const s=this._engine.getEffectDrawer(r);s&&this.effectDrawers.set(r,s)}const t=this._engine.getSupportedShapes();for(const r of t){const s=this._engine.getShapeDrawer(r);s&&this.shapeDrawers.set(r,s)}this._options=zc(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=zc(this._engine,this,this._options);const i=this._engine.getAvailablePlugins(this);for(const[r,s]of i)this.plugins.set(r,s);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=at(this.actualOptions.duration)*1e3,this._delay=at(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this._smooth=this.actualOptions.smooth;for(const[,r]of this.effectDrawers)r.init&&await r.init(this);for(const[,r]of this.shapeDrawers)r.init&&await r.init(this);for(const[,r]of this.plugins)r.init&&await r.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,r]of this.plugins)r.particlesSetup&&r.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){Rn(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(Rn(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!Rn(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(Rn(this))return this.stop(),this.start()}async reset(){if(Rn(this))return this._initialSourceOptions=void 0,this._options=zc(this._engine,this),this.actualOptions=zc(this._engine,this,this._options),this.refresh()}async start(){!Rn(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!Rn(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}let yH=class{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i&&i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(t);s<0||(r===1?this._listeners.delete(e):i.splice(s,1))}};function Hx(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(s=>s(n)),e.set(n,r)),r}async function xH(n){const e=ys(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?t.json():(ac().error(`${ts} ${t.status} while retrieving config file`),n.fallback)}class _H{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new yH,this._initialized=!1,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get version(){return"3.0.3"}addConfig(e){const t=e.name??"default";this._configs.set(t,e),this._eventDispatcher.dispatchEvent("configAdded",{data:{name:t,config:e}})}async addEffect(e,t,i=!0){Er(e,r=>{!this.getEffectDrawer(r)&&this.effectDrawers.set(r,t)}),await this.refresh(i)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this._initializers.interactors.set(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this._initializers.movers.set(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this._initializers.updaters.set(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t),await this.refresh(i)}async addPlugin(e,t=!0){!this.getPlugin(e.id)&&this.plugins.push(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){(i||!this.getPreset(e))&&this.presets.set(e,t),await this.refresh(r)}async addShape(e,t,i=!0){Er(e,r=>{!this.getShapeDrawer(r)&&this.shapeDrawers.set(r,t)}),await this.refresh(i)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getEffectDrawer(e){return this.effectDrawers.get(e)}getInteractors(e,t=!1){return Hx(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return Hx(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}getUpdaters(e,t=!1){return Hx(e,this.updaters,this._initializers.updaters,t)}init(){this._initialized||(this._initialized=!0)}async load(e){var p;const t=e.id??((p=e.element)==null?void 0:p.id)??`tsparticles${Math.floor(nn()*1e4)}`,{index:i,url:r}=e,s=r?await xH({fallback:e.options,url:r,index:i}):e.options;let o=e.element??document.getElementById(t);o||(o=document.createElement("div"),o.id=t,document.body.append(o));const a=ys(s,i),l=this.dom(),c=l.findIndex(m=>m.id.description===t);if(c>=0){const m=this.domItem(c);m&&!m.destroyed&&(m.destroy(),l.splice(c,1))}let d;if(o.tagName.toLowerCase()==="canvas")d=o,d.dataset[Bh]="false";else{const m=o.getElementsByTagName("canvas");m.length?(d=m[0],d.dataset[Bh]="false"):(d=document.createElement("canvas"),d.dataset[Bh]="true",o.appendChild(d))}d.style.width||(d.style.width="100%"),d.style.height||(d.style.height="100%");const f=new vH(this,t,a);return c>=0?l.splice(c,0,f):l.push(f),f.canvas.loadCanvas(d),await f.start(),f}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const s of r)s.loadOptions&&s.loadOptions(t,...i)}async refresh(e=!0){e&&this.dom().forEach(t=>t.refresh())}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error(`${ts} can only set click handlers after calling tsParticles.load()`);for(const i of t)i.addClickHandler(e)}}class AH{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Zu(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Zu({h:at(i.h),l:at(i.l),s:at(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?l5({a:i.length>4?yB(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class SH{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:at(i.r),g:at(i.g),b:at(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?yB(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function wH(){const n=new SH,e=new AH;iT(n),iT(e);const t=new _H;return t.init(),t}class so{constructor(e){this.container=e,this.type="external"}}class Ew{constructor(e){this.container=e,this.type="particles"}}const Cw=wH();lc()||(window.tsParticles=Cw);const MH=n=>{const e=n.id??"tsparticles";return ae.useEffect(()=>{let t;return Cw.load({id:e,url:n.url,options:n.options}).then(i=>{var r;t=i,(r=n.particlesLoaded)==null||r.call(n,i)}),()=>{t==null||t.destroy()}},[e,n,n.url,n.options]),C.jsx("div",{id:e,className:n.className})};async function bH(n){await n(Cw)}function EH(n){const e=n.initialPosition,{dx:t,dy:i}=Wi(e,n.position),r=Math.abs(t),s=Math.abs(i),{maxDistance:o}=n.retina,a=o.horizontal,l=o.vertical;if(!(!a&&!l)){if((a&&r>=a||l&&s>=l)&&!n.misplaced)n.misplaced=!!a&&r>a||!!l&&s>l,a&&(n.velocity.x=n.velocity.y*.5-n.velocity.x),l&&(n.velocity.y=n.velocity.x*.5-n.velocity.y);else if((!a||r<a)&&(!l||s<l)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const c=n.position,d=n.velocity;a&&(c.x<e.x&&d.x<0||c.x>e.x&&d.x>0)&&(d.x*=-nn()),l&&(c.y<e.y&&d.y<0||c.y>e.y&&d.y>0)&&(d.y*=-nn())}}}function CH(n,e,t,i,r,s){RH(n,s);const o=n.gravity,a=o!=null&&o.enable&&o.inverse?-1:1;r&&t&&(n.velocity.x+=r*s.factor/(60*t)),o!=null&&o.enable&&t&&(n.velocity.y+=a*(o.acceleration*s.factor)/(60*t));const l=n.moveDecay;n.velocity.multTo(l);const c=n.velocity.mult(t);o!=null&&o.enable&&i>0&&(!o.inverse&&c.y>=0&&c.y>=i||o.inverse&&c.y<=0&&c.y<=-i)&&(c.y=a*i,t&&(n.velocity.y=c.y/t));const d=n.options.zIndex,f=(1-n.zIndexFactor)**d.velocityRate;c.multTo(f);const{position:p}=n;p.addTo(c),e.vibrate&&(p.x+=Math.sin(p.x*Math.cos(p.y)),p.y+=Math.cos(p.y*Math.sin(p.x)))}function TH(n,e){const t=n.container;if(!n.spin)return;const i={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const r=Math.max(t.canvas.size.width,t.canvas.size.height),s=r*.5;n.spin.radius>s?(n.spin.radius=s,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=e*.01*(1-n.spin.radius/r)}function RH(n,e){var o;const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const s=(o=n.pathGenerator)==null?void 0:o.generate(n,e);s&&n.velocity.addTo(s),i.clamp&&(n.velocity.x=Es(n.velocity.x,-1,1),n.velocity.y=Es(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function PH(n){return n.slow.inRange?n.slow.factor:1}const LH=2;class BH{constructor(){this._initSpin=e=>{const t=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const s=r.position??{x:50,y:50},o={x:s.x*.01*t.canvas.size.width,y:s.y*.01*t.canvas.size.height},a=e.getPosition(),l=wr(a,o),c=at(r.acceleration);e.retina.spinAcceleration=c*t.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:l,acceleration:e.retina.spinAcceleration}}}init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:at(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var v,x;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio,a=PH(e),l=((v=e.retina).moveSpeed??(v.moveSpeed=at(r.speed)*o))*s.retina.reduceFactor,c=(x=e.retina).moveDrift??(x.moveDrift=at(e.options.move.drift)*o),d=Gi(i.size.value)*o,f=r.size?e.getRadius()/d:1,p=l*f*a*(t.factor||1)/LH,m=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?TH(e,p):CH(e,r,p,m,c,t),EH(e)}}async function IH(n,e=!0){await n.addMover("base",()=>new BH,e)}class DH{draw(e){const{context:t,particle:i,radius:r}=e;i.circleRange||(i.circleRange={min:0,max:Math.PI*2});const s=i.circleRange;t.arc(0,0,r,s.min,s.max,!1)}getSidesCount(){return 12}particleInit(e,t){const i=t.shapeData,r=(i==null?void 0:i.angle)??{max:360,min:0};t.circleRange=bu(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function NH(n,e=!0){await n.addShape("circle",new DH,e)}function Gx(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=rr(t.offset),o=(e.velocity??0)*n.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function FH(n,e){const{h:t,s:i,l:r}=n.options.color.animation,{color:s}=n;if(!s)return;const{h:o,s:a,l}=s;o&&Gx(e,o,t,360,!1),a&&Gx(e,a,i,100,!0),l&&Gx(e,l,r,100,!0)}class OH{constructor(e){this.container=e}init(e){const t=lf(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=PB(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&t.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,t){FH(e,t)}}async function kH(n,e=!0){await n.addParticleUpdater("color",t=>new OH(t),e)}function UH(n,e,t,i){switch(n.options.opacity.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function zH(n,e){const t=n.opacity;if(n.destroyed||!(t!=null&&t.enable)||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=t.min,r=t.max,s=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=r?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=(t.velocity??0)*e.factor;break;case"decreasing":t.value<=i?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=(t.velocity??0)*e.factor;break}t.velocity&&t.decay!==1&&(t.velocity*=s),UH(n,t.value,i,r),n.destroyed||(t.value=Es(t.value,i,r))}}class HH{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity=wB(t,1);const i=t.animation;i.enable&&(e.opacity.velocity=at(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=nn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&zH(e,t)}}async function GH(n,e=!0){await n.addParticleUpdater("opacity",t=>new HH(t),e)}function VH(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-horizontal"&&n.outMode!=="bounceHorizontal"&&n.outMode!=="split"||n.direction!=="left"&&n.direction!=="right")return;n.bounds.right<0&&n.direction==="left"?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction==="right"&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction==="right"&&n.bounds.right>=n.canvasSize.width&&e>0||n.direction==="left"&&n.bounds.left<=0&&e<0){const r=at(n.particle.options.bounce.horizontal.value);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction==="right"?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=0&&n.direction==="left"&&(n.particle.position.x=i),n.outMode==="split"&&n.particle.destroy()}function jH(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-vertical"&&n.outMode!=="bounceVertical"&&n.outMode!=="split"||n.direction!=="bottom"&&n.direction!=="top")return;n.bounds.bottom<0&&n.direction==="top"?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction==="bottom"&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction==="bottom"&&n.bounds.bottom>=n.canvasSize.height&&e>0||n.direction==="top"&&n.bounds.top<=0&&e<0){const r=at(n.particle.options.bounce.vertical.value);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction==="bottom"?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=0&&n.direction==="top"&&(n.particle.position.y=i),n.outMode==="split"&&n.particle.destroy()}class WH{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const[,p]of s.plugins)if(p.particleBounce!==void 0&&(o=p.particleBounce(e,i,t)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),d=Of(a,c),f=s.canvas.size;VH({particle:e,outMode:r,direction:t,bounds:d,canvasSize:f,offset:l,size:c}),jH({particle:e,outMode:r,direction:t,bounds:d,canvasSize:f,offset:l,size:c})}}class XH{constructor(e){this.container=e,this.modes=["destroy"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(_w(e.position,s.canvas.size,si.origin,e.getRadius(),t))return;break;case"inside":{const{dx:o,dy:a}=Wi(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<0&&o>e.moveCenter.radius||c<0&&a>e.moveCenter.radius||l>=0&&o<-e.moveCenter.radius||c>=0&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class JH{constructor(e){this.container=e,this.modes=["none"]}update(e,t,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(t==="left"||t==="right")||e.options.move.distance.vertical&&(t==="top"||t==="bottom"))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+l&&t==="bottom"||s.inverse&&c.y<-l&&t==="top")&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=a.height+l||e.velocity.y<0&&e.position.y>=-l||e.velocity.x>0&&e.position.x<=a.width+l||e.velocity.x<0&&e.position.x>=-l)return;_w(e.position,o.canvas.size,si.origin,l,t)||o.particles.remove(e)}}}class qH{constructor(e){this.container=e,this.modes=["out"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"inside":{const{x:o,y:a}=e.velocity,l=si.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(si.create(e.moveCenter));const{dx:c,dy:d}=Wi(e.position,l);if(o<=0&&c>=0||a<=0&&d>=0||o>=0&&c<=0||a>=0&&d<=0)return;e.position.x=Math.floor(rr({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(rr({min:0,max:s.canvas.size.height}));const{dx:f,dy:p}=Wi(e.position,e.moveCenter);e.direction=Math.atan2(-p,-f),e.velocity.angle=e.direction;break}default:{if(_w(e.position,s.canvas.size,si.origin,e.getRadius(),t))return;switch(e.outType){case"outside":{e.position.x=Math.floor(rr({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(rr({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=Wi(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),d=Of(e.position,c);t==="right"&&d.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=nn()*a.height,e.initialPosition.y=e.position.y)):t==="left"&&d.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=nn()*a.height,e.initialPosition.y=e.position.y)),t==="bottom"&&d.top>a.height+e.offset.y?(o||(e.position.x=nn()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):t==="top"&&d.bottom<-e.offset.y&&(o||(e.position.x=nn()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class YH{constructor(e){this.container=e,this._updateOutMode=(t,i,r,s)=>{for(const o of this.updaters)o.update(t,s,i,r)},this.updaters=[new WH(e),new XH(e),new qH(e),new JH(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,"bottom"),this._updateOutMode(e,t,i.left??i.default,"left"),this._updateOutMode(e,t,i.right??i.default,"right"),this._updateOutMode(e,t,i.top??i.default,"top")}}async function KH(n,e=!0){await n.addParticleUpdater("outModes",t=>new YH(t),e)}function QH(n,e,t,i){switch(n.options.size.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function ZH(n,e){const t=n.size;if(n.destroyed||!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=(t.velocity??0)*e.factor,r=t.min,s=t.max,o=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=s?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=i;break;case"decreasing":t.value<=r?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=i}t.velocity&&o!==1&&(t.velocity*=o),QH(n,t.value,r,s),n.destroyed||(t.value=Es(t.value,r,s))}}class $H{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/100*t.retina.reduceFactor,r.sync||(e.size.velocity*=nn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&ZH(e,t)}}async function e6(n,e=!0){await n.addParticleUpdater("size",()=>new $H,e)}async function t6(n,e=!0){await IH(n,!1),await NH(n,!1),await kH(n,!1),await GH(n,!1),await KH(n,!1),await e6(n,!1),await n.refresh(e)}async function n6(){Fx("ease-in-quad",n=>n**2),Fx("ease-out-quad",n=>1-(1-n)**2),Fx("ease-in-out-quad",n=>n<.5?2*n**2:1-(-2*n+2)**2/2)}const cA=["emoji"],dT='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"';class i6{constructor(){this._emojiShapeDict=new Map}destroy(){for(const[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&(t==null||t.close()),this._emojiShapeDict.delete(e)}draw(e){const{context:t,particle:i,radius:r,opacity:s}=e,o=i.emojiData;o&&(t.globalAlpha=s,t.drawImage(o,-r,-r,r*2,r*2),t.globalAlpha=1)}async init(e){const t=e.actualOptions;if(cA.find(i=>Dn(i,t.particles.shape.type))){const i=[nT(dT)],r=cA.map(s=>t.particles.shape.options[s]).find(s=>!!s);r&&Er(r,s=>{s.font&&i.push(nT(s.font))}),await Promise.all(i)}}particleDestroy(e){delete e.emojiData}particleInit(e,t){const i=t.shapeData;if(!(i!=null&&i.value))return;const r=ys(i.value,t.randomIndexData),s=i.font??dT;if(!r)return;const o=`${r}_${s}`,a=this._emojiShapeDict.get(o);if(a){t.emojiData=a;return}const l=Gi(t.size.value)*2;let c;if(typeof OffscreenCanvas<"u"){const d=new OffscreenCanvas(l,l),f=d.getContext("2d");if(!f)return;f.font=`400 ${Gi(t.size.value)*2}px ${s}`,f.textBaseline="middle",f.textAlign="center",f.fillText(r,Gi(t.size.value),Gi(t.size.value)),c=d.transferToImageBitmap()}else{const d=document.createElement("canvas");d.width=l,d.height=l;const f=d.getContext("2d");if(!f)return;f.font=`400 ${Gi(t.size.value)*2}px ${s}`,f.textBaseline="middle",f.textAlign="center",f.fillText(r,Gi(t.size.value),Gi(t.size.value)),c=d}this._emojiShapeDict.set(o,c),t.emojiData=c}}async function r6(n,e=!0){await n.addShape(cA,new i6,e)}class s6{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const Kd="attract";let o6=class extends so{constructor(e,t){super(t),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const s=i.interactivity.mouse.clickPosition,o=i.retina.attractModeDistance;if(!o||o<0||!s)return;this._processAttract(s,o,new Ri(s.x,s.y,o))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.attractModeDistance;!s||s<0||!r||this._processAttract(r,s,new Ri(r.x,r.y,s))},this._processAttract=(i,r,s)=>{const o=this.container,a=o.actualOptions.interactivity.modes.attract;if(!a)return;const l=o.particles.quadTree.query(s,c=>this.isEnabled(c));for(const c of l){const{dx:d,dy:f,distance:p}=Wi(c.position,i),m=a.speed*a.factor,v=Es(vB(a.easing)(1-p/r)*m,0,a.maxSpeed),x=si.create(p===0?m:d/p*v,p===0?m:f/p*v);c.position.subFrom(x)}},this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!==Kd)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const o of t.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},s.duration*1e3)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===oc,r=t.interactivity.events,s=r.onHover.enable,o=r.onHover.mode,a=r.onClick.enable,l=r.onClick.mode;i&&s&&Dn(Kd,o)?this._hoverAttract():a&&Dn(Kd,l)&&this._clickAttract()}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return Dn(Kd,o)||Dn(Kd,a)}loadModeOptions(e,...t){e.attract||(e.attract=new s6);for(const i of t)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function a6(n,e=!0){await n.addInteractor("externalAttract",t=>new o6(n,t),e)}class l6{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}const wm="bounce";class c6 extends so{constructor(e){super(e),this._processBounce=(t,i,r)=>{const s=this.container.particles.quadTree.query(r,o=>this.isEnabled(o));for(const o of s)r instanceof Ri?AB(aA(o),{position:t,radius:i,mass:i**2*Math.PI/2,velocity:si.origin,factor:si.origin}):r instanceof Cs&&r5(o,Of(t,i))},this._processMouseBounce=()=>{const t=this.container,i=t.retina.pixelRatio,r=10*i,s=t.interactivity.mouse.position,o=t.retina.bounceModeDistance;!o||o<0||!s||this._processBounce(s,o,new Ri(s.x,s.y,o+r))},this._singleSelectorBounce=(t,i)=>{const r=this.container,s=document.querySelectorAll(t);s.length&&s.forEach(o=>{const a=o,l=r.retina.pixelRatio,c={x:(a.offsetLeft+a.offsetWidth/2)*l,y:(a.offsetTop+a.offsetHeight/2)*l},d=a.offsetWidth/2*l,f=10*l,p=i.type==="circle"?new Ri(c.x,c.y,d+f):new Cs(a.offsetLeft*l-f,a.offsetTop*l-f,a.offsetWidth*l+f*2,a.offsetHeight*l+f*2);this._processBounce(c,d,p)})}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===oc,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&Dn(wm,o)?this._processMouseBounce():Sw(wm,a,(l,c)=>this._singleSelectorBounce(l,c))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv;return r.position&&s.onHover.enable&&Dn(wm,s.onHover.mode)||Aw(wm,o)}loadModeOptions(e,...t){e.bounce||(e.bounce=new l6);for(const i of t)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function u6(n,e=!0){await n.addInteractor("externalBounce",t=>new c6(t),e)}class OB{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=ro(this.color)?void 0:this.color;this.color=Er(e.color,i=>vi.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class d6 extends OB{constructor(){super(),this.selectors=[]}load(e){super.load(e),e&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class h6 extends OB{load(e){super.load(e),e&&(this.divs=Er(e.divs,t=>{const i=new d6;return i.load(t),i}))}}function hT(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return Es(r,n,e)}else if(e<t){const r=n-(t-e)*i;return Es(r,e,n)}}const hl="bubble";class f6 extends so{constructor(e){super(e),this._clickBubble=()=>{var c;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.clickPosition,s=i.interactivity.modes.bubble;if(!s||!r)return;t.bubble||(t.bubble={});const o=t.retina.bubbleModeDistance;if(!o||o<0)return;const a=t.particles.quadTree.queryCircle(r,o,d=>this.isEnabled(d)),{bubble:l}=t;for(const d of a){if(!l.clicking)continue;d.bubble.inRange=!l.durationEnd;const f=d.getPosition(),p=wr(f,r),m=(new Date().getTime()-(t.interactivity.mouse.clickTime||0))/1e3;m>s.duration&&(l.durationEnd=!0),m>s.duration*2&&(l.clicking=!1,l.durationEnd=!1);const v={bubbleObj:{optValue:t.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:Gi(d.options.size.value)*t.retina.pixelRatio,value:d.size.value},type:"size"};this._process(d,p,m,v);const x={bubbleObj:{optValue:s.opacity,value:d.bubble.opacity},particlesObj:{optValue:Gi(d.options.opacity.value),value:((c=d.opacity)==null?void 0:c.value)??1},type:"opacity"};this._process(d,p,m,x),!l.durationEnd&&p<=o?this._hoverBubbleColor(d,p):delete d.bubble.color}},this._hoverBubble=()=>{const t=this.container,i=t.interactivity.mouse.position,r=t.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const s=t.particles.quadTree.queryCircle(i,r,o=>this.isEnabled(o));for(const o of s){o.bubble.inRange=!0;const a=o.getPosition(),l=wr(a,i),c=1-l/r;l<=r?c>=0&&t.interactivity.status===oc&&(this._hoverBubbleSize(o,c),this._hoverBubbleOpacity(o,c),this._hoverBubbleColor(o,c)):this.reset(o),t.interactivity.status===sA&&this.reset(o)}},this._hoverBubbleColor=(t,i,r)=>{const s=this.container.actualOptions,o=r??s.interactivity.modes.bubble;if(o){if(!t.bubble.finalColor){const a=o.color;if(!a)return;const l=ys(a);t.bubble.finalColor=lf(l)}if(t.bubble.finalColor)if(o.mix){t.bubble.color=void 0;const a=t.getFillColor();t.bubble.color=a?CB(ww(a,t.bubble.finalColor,1-i,i)):t.bubble.finalColor}else t.bubble.color=t.bubble.finalColor}},this._hoverBubbleOpacity=(t,i,r)=>{var f,p;const s=this.container,o=s.actualOptions,a=(r==null?void 0:r.opacity)??((f=o.interactivity.modes.bubble)==null?void 0:f.opacity);if(!a)return;const l=t.options.opacity.value,c=((p=t.opacity)==null?void 0:p.value)??1,d=hT(c,a,Gi(l),i);d!==void 0&&(t.bubble.opacity=d)},this._hoverBubbleSize=(t,i,r)=>{const s=this.container,o=r!=null&&r.size?r.size*s.retina.pixelRatio:s.retina.bubbleModeSize;if(o===void 0)return;const a=Gi(t.options.size.value)*s.retina.pixelRatio,l=t.size.value,c=hT(l,o,a,i);c!==void 0&&(t.bubble.radius=c)},this._process=(t,i,r,s)=>{const o=this.container,a=s.bubbleObj.optValue,l=o.actualOptions,c=l.interactivity.modes.bubble;if(!c||a===void 0)return;const d=c.duration,f=o.retina.bubbleModeDistance,p=s.particlesObj.optValue,m=s.bubbleObj.value,v=s.particlesObj.value||0,x=s.type;if(!(!f||f<0||a===p))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)m&&(x==="size"&&delete t.bubble.radius,x==="opacity"&&delete t.bubble.opacity);else if(i<=f){if((m??v)!==a){const g=v-r*(v-a)/d;x==="size"&&(t.bubble.radius=g),x==="opacity"&&(t.bubble.opacity=g)}}else x==="size"&&delete t.bubble.radius,x==="opacity"&&delete t.bubble.opacity},this._singleSelectorHover=(t,i,r)=>{const s=this.container,o=document.querySelectorAll(i),a=s.actualOptions.interactivity.modes.bubble;!a||!o.length||o.forEach(l=>{const c=l,d=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth/2)*d,y:(c.offsetTop+c.offsetHeight/2)*d},p=c.offsetWidth/2*d,m=r.type==="circle"?new Ri(f.x,f.y,p):new Cs(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),v=s.particles.quadTree.query(m,x=>this.isEnabled(x));for(const x of v){if(!m.contains(x.getPosition()))continue;x.bubble.inRange=!0;const A=a.divs,g=_B(A,c);(!x.bubble.div||x.bubble.div!==c)&&(this.clear(x,t,!0),x.bubble.div=c),this._hoverBubbleSize(x,1,g),this._hoverBubbleOpacity(x,1,g),this._hoverBubbleColor(x,1,g)}})},e.bubble||(e.bubble={}),this.handleClickMode=t=>{t===hl&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}async interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,a=r.mode,l=s.enable,c=s.mode,d=i.onDiv;o&&Dn(hl,a)?this._hoverBubble():l&&Dn(hl,c)?this._clickBubble():Sw(hl,d,(f,p)=>this._singleSelectorHover(e,f,p))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:l}=s,c=Aw(hl,a);return c||l.enable&&r.position||o.enable&&r.clickPosition?Dn(hl,l.mode)||Dn(hl,o.mode)||c:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new h6);for(const i of t)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function p6(n,e=!0){await n.addInteractor("externalBubble",t=>new f6(t),e)}class m6{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class g6{constructor(){this.distance=80,this.links=new m6,this.radius=60}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}function v6(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),s=e.getFillColor(),o=t.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=t.getPosition(),c=ww(s,o,e.getRadius(),t.getRadius()),d=n.createLinearGradient(a.x,a.y,l.x,l.y);return d.addColorStop(0,cf(s,i)),d.addColorStop(r>1?1:r,Fo(c,i)),d.addColorStop(1,cf(o,i)),d}function y6(n,e,t,i,r){Ih(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function x6(n,e,t,i){const r=n.actualOptions,s=r.interactivity.modes.connect;if(s)return v6(e,t,i,s.links.opacity)}function _6(n,e,t){n.canvas.draw(i=>{const r=x6(n,i,e,t);if(!r)return;const s=e.getPosition(),o=t.getPosition();y6(i,e.retina.linksWidth??0,r,s,o)})}const A6="connect";class S6 extends so{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),s=e.particles.quadTree.queryCircle(i,r,a=>this.isEnabled(a));let o=0;for(const a of s){const l=a.getPosition();for(const c of s.slice(o+1)){const d=c.getPosition(),f=Math.abs(e.retina.connectModeDistance),p=Math.abs(l.x-d.x),m=Math.abs(l.y-d.y);p<f&&m<f&&_6(e,a,c)}++o}}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Dn(A6,r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new g6);for(const i of t)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function w6(n,e=!0){await n.addInteractor("externalConnect",t=>new S6(t),e)}class M6{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=vi.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class b6{constructor(){this.distance=100,this.links=new M6}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}function E6(n,e,t,i,r,s){Ih(n,t,i),n.strokeStyle=Fo(r,s),n.lineWidth=e,n.stroke()}function C6(n,e,t,i,r){n.canvas.draw(s=>{const o=e.getPosition();E6(s,e.retina.linksWidth??0,o,r,t,i)})}const T6="grab";class R6 extends so{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}async interact(){var a;const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==oc)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<0)return;const o=e.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),d=wr(c,r);if(d>s)continue;const f=i.modes.grab.links,p=f.opacity,m=p-d*p/s;if(m<=0)continue;const v=f.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&v){const A=i.modes.grab.links;e.particles.grabLineColor=RB(v,A.blink,A.consent)}const x=lA(l,void 0,e.particles.grabLineColor);x&&C6(e,l,x,m,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Dn(T6,r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new b6);for(const i of t)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function P6(n,e=!0){await n.addInteractor("externalGrab",t=>new R6(t),e)}const L6="pause";class B6 extends so{constructor(e){super(e),this.handleClickMode=t=>{if(t!==L6)return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function I6(n,e=!0){await n.addInteractor("externalPause",t=>new B6(t),e)}class D6{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity;t!==void 0&&(this.quantity=jt(t))}}const N6="push";class F6 extends so{constructor(e){super(e),this.handleClickMode=t=>{if(t!==N6)return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=at(s.quantity);if(o<=0)return;const a=pv([void 0,...s.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(o,i.interactivity.mouse,l,a)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new D6);for(const i of t)e.push.load(i==null?void 0:i.push)}reset(){}}async function O6(n,e=!0){await n.addInteractor("externalPush",t=>new F6(t),e)}class k6{constructor(){this.quantity=2}load(e){if(!e)return;const t=e.quantity;t!==void 0&&(this.quantity=jt(t))}}const U6="remove";class z6 extends so{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!==U6)return;const s=at(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new k6);for(const i of t)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function H6(n,e=!0){await n.addInteractor("externalRemove",t=>new z6(t),e)}class kB{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class G6 extends kB{constructor(){super(),this.selectors=[]}load(e){super.load(e),e&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class V6 extends kB{load(e){super.load(e),e&&(this.divs=Er(e.divs,t=>{const i=new G6;return i.load(t),i}))}}const fl="repulse";class j6 extends so{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse||{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<0)return;const a=Math.pow(o/6,3),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new Ri(l.x,l.y,a),d=i.particles.quadTree.query(c,f=>this.isEnabled(f));for(const f of d){const{dx:p,dy:m,distance:v}=Wi(l,f.position),x=v**2,A=r.speed,g=-a*A/x;if(x<=a){s.particles.push(f);const _=si.create(p,m);_.length=g,f.velocity.setTo(_)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<0||!r||this._processRepulse(r,s,new Ri(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const a=this.container,l=a.particles.quadTree.query(s,A=>this.isEnabled(A)),c=a.actualOptions.interactivity.modes.repulse;if(!c)return;const{easing:d,speed:f,factor:p,maxSpeed:m}=c,v=vB(d),x=((o==null?void 0:o.speed)??f)*p;for(const A of l){const{dx:g,dy:_,distance:S}=Wi(A.position,i),M=Es(v(1-S/r)*x,0,m),T=si.create(S===0?x:g/S*M,S===0?x:_/S*M);A.position.addTo(T)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(l=>{const c=l,d=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth/2)*d,y:(c.offsetTop+c.offsetHeight/2)*d},p=c.offsetWidth/2*d,m=r.type==="circle"?new Ri(f.x,f.y,p):new Cs(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),v=o.divs,x=_B(v,c);this._processRepulse(f,p,m,x)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!==fl)return;t.repulse||(t.repulse={particles:[]});const o=t.repulse;o.clicking=!0,o.count=0;for(const a of t.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{t.destroyed||(o.clicking=!1)},s.duration*1e3)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===oc,r=t.interactivity.events,s=r.onHover,o=s.enable,a=s.mode,l=r.onClick,c=l.enable,d=l.mode,f=r.onDiv;i&&o&&Dn(fl,a)?this._hoverRepulse():c&&Dn(fl,d)?this._clickRepulse():Sw(fl,f,(p,m)=>this._singleSelectorRepulse(p,m))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv,a=s.onHover,l=s.onClick,c=Aw(fl,o);if(!(c||a.enable&&r.position||l.enable&&r.clickPosition))return!1;const d=a.mode,f=l.mode;return Dn(fl,d)||Dn(fl,f)||c}loadModeOptions(e,...t){e.repulse||(e.repulse=new V6);for(const i of t)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function W6(n,e=!0){await n.addInteractor("externalRepulse",t=>new j6(n,t),e)}class X6{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const J6="slow";class q6 extends so{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Dn(J6,r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new X6);for(const i of t)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,s=t.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<0||!r)return;const a=e.getPosition(),l=wr(r,a),c=l/s,d=o.factor,{slow:f}=e;l>s||(f.inRange=!0,f.factor=c/d)}}async function Y6(n,e=!0){await n.addInteractor("externalSlow",t=>new q6(t),e)}const Vx=[0,4,2,1],fT=[8,8,4,2];class K6{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;do{t=this.data[this.pos++];for(let i=t;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==0);return e}readSubBlocksBin(){let e=0,t=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)t+=e;const i=new Uint8Array(t);for(let r=0;(e=this.data[this.pos++])!==0;)for(let s=e;--s>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function UB(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}async function Q6(n,e,t,i){switch(n.nextByte()){case 249:{const r=e.frames[t(!1)];n.pos++;const s=n.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=n.nextTwoBytes()*10;const a=n.nextByte();o&&i(a),n.pos++;break}case 255:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([t(!1),n.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function Z6(n,e,t,i,r,s){const o=e.frames[i(!0)];o.left=n.nextTwoBytes(),o.top=n.nextTwoBytes(),o.width=n.nextTwoBytes(),o.height=n.nextTwoBytes();const a=n.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const d=1<<(a&7)+1;l&&(o.localColorTable=UB(n,d));const f=g=>{const{r:_,g:S,b:M}=(l?o.localColorTable:e.globalColorTable)[g];return{r:_,g:S,b:M,a:g===r(null)?t?~~((_+S+M)/3):0:255}},p=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(g){if(g instanceof DOMException&&g.name==="IndexSizeError")return null;throw g}})();if(p==null)throw new EvalError("GIF frame size is to large");const m=n.nextByte(),v=n.readSubBlocksBin(),x=1<<m,A=(g,_)=>{const S=g>>>3,M=g&7;return(v[S]+(v[S+1]<<8)+(v[S+2]<<16)&(1<<_)-1<<M)>>>M};if(c){for(let g=0,_=m+1,S=0,M=[[0]],T=0;T<4;T++){if(Vx[T]<o.height)for(let P=0,B=0;;){const D=g;if(g=A(S,_),S+=_+1,g===x){_=m+1,M.length=x+2;for(let L=0;L<M.length;L++)M[L]=L<x?[L]:[]}else{g>=M.length?M.push(M[D].concat(M[D][0])):D!==x&&M.push(M[D].concat(M[g][0]));for(let L=0;L<M[g].length;L++){const{r:I,g:H,b:W,a:ee}=f(M[g][L]);p.data.set([I,H,W,ee],Vx[T]*o.width+fT[T]*B+P%(o.width*4)),P+=4}M.length===1<<_&&_<12&&_++}if(P===o.width*4*(B+1)&&(B++,Vx[T]+fT[T]*B>=o.height))break}s==null||s(n.pos/(n.data.length-1),i(!1)+1,p,{x:o.left,y:o.top},{width:e.width,height:e.height})}o.image=p,o.bitmap=await createImageBitmap(p)}else{for(let g=0,_=m+1,S=0,M=[[0]],T=-4;;){const P=g;if(g=A(S,_),S+=_,g===x){_=m+1,M.length=x+2;for(let B=0;B<M.length;B++)M[B]=B<x?[B]:[]}else{if(g===x+1)break;g>=M.length?M.push(M[P].concat(M[P][0])):P!==x&&M.push(M[P].concat(M[g][0]));for(let B=0;B<M[g].length;B++){const{r:D,g:L,b:I,a:H}=f(M[g][B]);p.data.set([D,L,I,H],T+=4)}M.length>=1<<_&&_<12&&_++}}o.image=p,o.bitmap=await createImageBitmap(p),s==null||s((n.pos+1)/n.data.length,i(!1)+1,o.image,{x:o.left,y:o.top},{width:e.width,height:e.height})}}async function $6(n,e,t,i,r,s){switch(n.nextByte()){case 59:return!0;case 44:await Z6(n,e,t,i,r,s);break;case 33:await Q6(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function eG(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function tG(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new K6(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const c=1<<(a&7)+1,d=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=UB(o,c));const f=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(M){if(M instanceof DOMException&&M.name==="IndexSizeError")return null;throw M}})();if(f==null)throw new Error("GIF frame size is to large");const{r:p,g:m,b:v}=s.globalColorTable[d];f.data.set(l?[p,m,v,255]:[0,0,0,0]);for(let M=4;M<f.data.length;M*=2)f.data.copyWithin(M,0,M);s.backgroundImage=f;let x=-1,A=!0,g=-1;const _=M=>(M&&(A=!0),x),S=M=>(M!=null&&(g=M),g);try{do A&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),x++,g=-1,A=!1);while(!await $6(o,s,t,_,S,e));s.frames.length--;for(const M of s.frames){if(M.userInputDelayFlag&&M.delayTime===0){s.totalTime=1/0;break}s.totalTime+=M.delayTime}return s}catch(M){throw M instanceof EvalError?new Error(`error while parsing frame ${x} "${M.message}"`):M}}const nG=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function iG(n,e,t){const{svgData:i}=n;if(!i)return"";const r=cf(e,t);if(i.includes("fill"))return i.replace(nG,()=>r);const s=i.indexOf(">");return`${i.substring(0,s)} fill="${r}"${i.substring(s)}`}async function gv(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,ac().error(`${ts} loading image: ${n.source}`),e()}),t.src=n.source})}async function rG(n){if(n.type!=="gif"){await gv(n);return}n.loading=!0;try{n.gifData=await tG(n.source),n.gifLoopCount=eG(n.gifData)??0,n.gifLoopCount===0&&(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}async function sG(n){if(n.type!=="svg"){await gv(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(ac().error(`${ts} Image not found`),n.error=!0),n.loading=!1}function oG(n,e,t,i){var o;const r=iG(n,t,((o=i.opacity)==null?void 0:o.value)??1),s={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(a=>{const l=new Blob([r],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,d=c.createObjectURL(l),f=new Image;f.addEventListener("load",()=>{s.loaded=!0,s.element=f,a(s),c.revokeObjectURL(d)}),f.addEventListener("error",async()=>{c.revokeObjectURL(d);const p={...n,error:!1,loading:!0};await gv(p),s.loaded=!0,s.element=p.element,a(s)}),f.src=d})}class aG{constructor(e){this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${ts} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:t,radius:i,particle:r,opacity:s,delta:o}=e,a=r.image,l=a==null?void 0:a.element;if(a){if(t.globalAlpha=s,a.gif&&a.gifData){const c=new OffscreenCanvas(a.gifData.width,a.gifData.height),d=c.getContext("2d");if(!d)throw new Error("could not create offscreen canvas context");d.imageSmoothingQuality="low",d.imageSmoothingEnabled=!1,d.clearRect(0,0,c.width,c.height),r.gifLoopCount===void 0&&(r.gifLoopCount=a.gifLoopCount??0);let f=r.gifFrame??0;const p={x:-a.gifData.width*.5,y:-a.gifData.height*.5},m=a.gifData.frames[f];if(r.gifTime===void 0&&(r.gifTime=0),!m.bitmap)return;switch(t.scale(i/a.gifData.width,i/a.gifData.height),m.disposalMethod){case 4:case 5:case 6:case 7:case 0:d.drawImage(m.bitmap,m.left,m.top),t.drawImage(c,p.x,p.y),d.clearRect(0,0,c.width,c.height);break;case 1:d.drawImage(m.bitmap,m.left,m.top),t.drawImage(c,p.x,p.y);break;case 2:d.drawImage(m.bitmap,m.left,m.top),t.drawImage(c,p.x,p.y),d.clearRect(0,0,c.width,c.height),a.gifData.globalColorTable.length===0?d.putImageData(a.gifData.frames[0].image,p.x+m.left,p.y+m.top):d.putImageData(a.gifData.backgroundImage,p.x,p.y);break;case 3:{const v=d.getImageData(0,0,c.width,c.height);d.drawImage(m.bitmap,m.left,m.top),t.drawImage(c,p.x,p.y),d.clearRect(0,0,c.width,c.height),d.putImageData(v,0,0)}break}if(r.gifTime+=o.value,r.gifTime>m.delayTime){if(r.gifTime-=m.delayTime,++f>=a.gifData.frames.length){if(--r.gifLoopCount<=0)return;f=0,d.clearRect(0,0,c.width,c.height)}r.gifFrame=f}t.scale(a.gifData.width/i,a.gifData.height/i)}else if(l){const c=a.ratio,d={x:-i,y:-i},f=i*2;t.drawImage(l,d.x,d.y,f,f/c)}t.globalAlpha=1}}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;if(!t)return;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData;if(!r)return;const s=t.getFillColor(),o=i.find(l=>l.name===r.name||l.source===r.src);if(!o)return;const a=r.replaceColor??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let l;o.svgData&&s?l=await oG(o,r,s,t):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??1,replaceColor:a,source:r.src},l.ratio||(l.ratio=1);const c=r.fill??t.shapeFill,d=r.close??t.shapeClose,f={image:l,fill:c,close:d};t.image=f.image,t.shapeFill=f.fill,t.shapeClose=f.close})()}}class lG{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class cG{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,t){if(!t||!t.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new lG;o.load(r),i.push(o)}}}needsPlugin(){return!0}}function uG(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${ts} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t),await(e.gif?rG:e.replaceColor?sG:gv)(t)}catch{throw new Error(`${ts} ${e.name??e.src} not found`)}})}async function dG(n,e=!0){uG(n);const t=new cG(n);await n.addPlugin(t,e),await n.addShape(["image","images"],new aG(n),e)}class hG extends pc{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class fG extends pc{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class pG{constructor(){this.count=0,this.delay=new hG,this.duration=new fG}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class mG{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?at(r.delay.value)*(r.delay.sync?1:nn())/t.retina.reduceFactor*1e3:0,delayTime:0,duration:t.retina.reduceFactor?at(r.duration.value)*(r.duration.sync?1:nn())/t.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new pG);for(const i of t)e.life.load(i==null?void 0:i.life)}update(e,t){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=t.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=t.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const s=this.container.canvas.size,o=jt(0,s.width),a=jt(0,s.width);e.position.x=rr(o),e.position.y=rr(a),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const l=e.options.life;l&&(i.delay=at(l.delay.value)*1e3,i.duration=at(l.duration.value)*1e3)}}async function gG(n,e=!0){await n.addParticleUpdater("life",t=>new mG(t),e)}class vG{draw(e){const{context:t,particle:i,radius:r}=e,s=i.shapeData;t.moveTo(-r/2,0),t.lineTo(r/2,0),t.lineCap=(s==null?void 0:s.cap)??"butt"}getSidesCount(){return 1}}async function yG(n,e=!0){await n.addShape("line",new vG,e)}class xG{init(){}isEnabled(e){return!lc()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(lc()||!r.enable)return;const s=r.force,o=t.interactivity.mouse.position;if(!o)return;const a=t.canvas.size,l={x:a.width*.5,y:a.height*.5},c=r.smooth,d=e.getRadius()/s,f={x:(o.x-l.x)*d,y:(o.y-l.y)*d},{offset:p}=e;p.x+=(f.x-p.x)/c,p.y+=(f.y-p.y)/c}}async function _G(n,e=!0){await n.addMover("parallax",()=>new xG,e)}class AG extends Ew{constructor(e){super(e)}clear(){}init(){}async interact(e){const t=this.container;e.attractDistance===void 0&&(e.attractDistance=at(e.options.move.attract.distance)*t.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),s=t.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=Wi(r,a),d=e.options.move.attract.rotate,f=l/(d.x*1e3),p=c/(d.y*1e3),m=o.size.value/e.size.value,v=1/m;e.velocity.x-=f*m,e.velocity.y-=p*m,o.velocity.x+=f*v,o.velocity.y+=p*v}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function SG(n,e=!0){await n.addInteractor("particlesAttract",t=>new AG(t),e)}function pT(n,e,t,i,r,s){const o=Es(n.options.collisions.absorb.speed*r.factor/10,0,i);n.size.value+=o/2,t.size.value-=o,i<=s&&(t.size.value=0,t.destroy())}function wG(n,e,t,i){const r=n.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?n.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?pT(n,r,e,s,t,i):pT(e,s,n,r,t,i))}const mT=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=at(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function zB(n,e){AB(aA(n),aA(e)),mT(n),mT(e)}function MG(n,e){!n.unbreakable&&!e.unbreakable&&zB(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function bG(n,e,t,i){switch(n.options.collisions.mode){case"absorb":{wG(n,e,t,i);break}case"bounce":{zB(n,e);break}case"destroy":{MG(n,e);break}}}class EG extends Ew{constructor(e){super(e)}clear(){}init(){}async interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*2);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+c)continue;const d=wr(r,l),f=s+c;d>f||bG(e,a,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function CG(n,e=!0){await n.addInteractor("particlesCollisions",t=>new EG(t),e)}class TG extends Ri{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-t,y:s})||super.contains({x:r-t,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new Ri(r.x,r.y,i.radius*2);return super.intersects(s)}else if(t.size!==void 0){const s=new Cs(r.x,r.y,t.size.width*2,t.size.height*2);return super.intersects(s)}return!1}}class RG{constructor(){this.blur=5,this.color=new vi,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=vi.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class PG{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=vi.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class LG{constructor(){this.blink=!1,this.color=new vi,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new RG,this.triangles=new PG,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=vi.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function BG(n,e,t,i,r){const{dx:s,dy:o,distance:a}=Wi(n,e);if(!r||a<=t)return a;const l={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**2+c.y**2)}class IG extends Ew{constructor(e){super(e),this._setColor=t=>{if(!t.options.links)return;const i=this.linkContainer,r=t.options.links;let s=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(s)return;const o=r.color;s=RB(o,r.blink,r.consent),r.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(r.id,s)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<0||t.y<0||t.x>r.width||t.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??0,l=s.warp,c=l?new TG(t.x,t.y,a,r):new Ri(t.x,t.y,a),d=i.particles.quadTree.query(c);for(const f of d){const p=f.options.links;if(e===f||!(p!=null&&p.enable)||s.id!==p.id||f.spawning||f.destroyed||!f.links||e.links.some(A=>A.destination===f)||f.links.some(A=>A.destination===e))continue;const m=f.getPosition();if(m.x<0||m.y<0||m.x>r.width||m.y>r.height)continue;const v=BG(t,m,a,r,l&&p.warp);if(v>a)continue;const x=(1-v/a)*o;this._setColor(e),e.links.push({destination:f,opacity:x})}}isEnabled(e){var t;return!!((t=e.options.links)!=null&&t.enable)}loadParticlesOptions(e,...t){e.links||(e.links=new LG);for(const i of t)e.links.load(i==null?void 0:i.links)}reset(){}}async function DG(n,e=!0){await n.addInteractor("particlesLinks",t=>new IG(t),e)}function NG(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function FG(n){let e=!1;const{begin:t,end:i,maxDistance:r,context:s,canvasSize:o,width:a,backgroundMask:l,colorLine:c,opacity:d,links:f}=n;if(wr(t,i)<=r)Ih(s,t,i),e=!0;else if(f.warp){let m,v;const x={x:i.x-o.width,y:i.y},A=Wi(t,x);if(A.distance<=r){const g=t.y-A.dy/A.dx*t.x;m={x:0,y:g},v={x:o.width,y:g}}else{const g={x:i.x,y:i.y-o.height},_=Wi(t,g);if(_.distance<=r){const M=-(t.y-_.dy/_.dx*t.x)/(_.dy/_.dx);m={x:M,y:0},v={x:M,y:o.height}}else{const S={x:i.x-o.width,y:i.y-o.height},M=Wi(t,S);if(M.distance<=r){const T=t.y-M.dy/M.dx*t.x;m={x:-T/(M.dy/M.dx),y:T},v={x:m.x+o.width,y:m.y+o.height}}}}m&&v&&(Ih(s,t,m),Ih(s,i,v),e=!0)}if(!e)return;s.lineWidth=a,l.enable&&(s.globalCompositeOperation=l.composite),s.strokeStyle=Fo(c,d);const{shadow:p}=f;if(p.enable){const m=ws(p.color);m&&(s.shadowBlur=p.blur,s.shadowColor=Fo(m))}s.stroke()}function OG(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=n;NG(e,t,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=Fo(o,a),e.fill()}function kG(n){return n.sort((e,t)=>e-t),n.join("_")}function gT(n,e){const t=kG(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=nn(),e.set(t,i)),i}class UG{constructor(e){this.container=e,this._drawLinkLine=(t,i)=>{const r=t.options.links;if(!(r!=null&&r.enable))return;const s=this.container,o=s.actualOptions,a=i.destination,l=t.getPosition(),c=a.getPosition();let d=i.opacity;s.canvas.draw(f=>{var g;let p;const m=(g=t.options.twinkle)==null?void 0:g.lines;if(m!=null&&m.enable){const _=m.frequency,S=ws(m.color);nn()<_&&S&&(p=S,d=at(m.opacity))}if(!p){const _=r.id!==void 0?s.particles.linksColors.get(r.id):s.particles.linksColor;p=lA(t,a,_)}if(!p)return;const v=t.retina.linksWidth??0,x=t.retina.linksDistance??0,{backgroundMask:A}=o;FG({context:f,width:v,begin:l,end:c,maxDistance:x,canvasSize:s.canvas.size,links:r,backgroundMask:A,colorLine:p,opacity:d})})},this._drawLinkTriangle=(t,i,r)=>{const s=t.options.links;if(!(s!=null&&s.enable))return;const o=s.triangles;if(!o.enable)return;const a=this.container,l=a.actualOptions,c=i.destination,d=r.destination,f=o.opacity??(i.opacity+r.opacity)/2;f<=0||a.canvas.draw(p=>{const m=t.getPosition(),v=c.getPosition(),x=d.getPosition(),A=t.retina.linksDistance??0;if(wr(m,v)>A||wr(x,v)>A||wr(x,m)>A)return;let g=ws(o.color);if(!g){const _=s.id!==void 0?a.particles.linksColors.get(s.id):a.particles.linksColor;g=lA(t,c,_)}g&&OG({context:p,pos1:m,pos2:v,pos3:x,backgroundMask:l.backgroundMask,colorTriangle:g,opacityTriangle:f})})},this._drawTriangles=(t,i,r,s)=>{var l,c,d;const o=r.destination;if(!((l=t.links)!=null&&l.triangles.enable&&((c=o.options.links)!=null&&c.triangles.enable)))return;const a=(d=o.links)==null?void 0:d.filter(f=>{const p=this._getLinkFrequency(o,f.destination);return o.options.links&&p<=o.options.links.frequency&&s.findIndex(m=>m.destination===f.destination)>=0});if(a!=null&&a.length)for(const f of a){const p=f.destination;this._getTriangleFrequency(i,o,p)>t.links.triangles.frequency||this._drawLinkTriangle(i,r,f)}},this._getLinkFrequency=(t,i)=>gT([t,i],this._freqs.links),this._getTriangleFrequency=(t,i,r)=>gT([t,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i||i.length<=0)return;const s=i.filter(o=>r.links&&this._getLinkFrequency(t,o.destination)<=r.links.frequency);for(const o of s)this._drawTriangles(r,t,o,s),o.opacity>0&&(t.retina.linksWidth??0)>0&&this._drawLinkLine(t,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*t,i.linksWidth=s*t}particleDestroyed(e){e.links=[]}}class zG{constructor(){this.id="links"}getPlugin(e){return new UG(e)}loadOptions(){}needsPlugin(){return!0}}async function HG(n,e=!0){const t=new zG;await n.addPlugin(t,e)}async function GG(n,e=!0){await DG(n,e),await HG(n,e)}class HB{draw(e){const{context:t,particle:i,radius:r}=e,s=this.getCenter(i,r),o=this.getSidesData(i,r),a=o.count.numerator*o.count.denominator,l=o.count.numerator/o.count.denominator,c=180*(l-2)/l,d=Math.PI-Math.PI*c/180;if(t){t.beginPath(),t.translate(s.x,s.y),t.moveTo(0,0);for(let f=0;f<a;f++)t.lineTo(o.length,0),t.translate(o.length,0),t.rotate(d)}}getSidesCount(e){const t=e.shapeData;return Math.round(at((t==null?void 0:t.sides)??5))}}class VG extends HB{getCenter(e,t){return{x:-t/(e.sides/3.5),y:-t/(2.66/3.5)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*2.66/(i/3)}}}class jG extends HB{getCenter(e,t){return{x:-t,y:t/1.66}}getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:t*2}}}async function WG(n,e=!0){await n.addShape("polygon",new VG,e)}async function XG(n,e=!0){await n.addShape("triangle",new jG,e)}async function JG(n,e=!0){await WG(n,e),await XG(n,e)}class qG{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=jt(e.speed)),e.decay!==void 0&&(this.decay=jt(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class YG extends pc{constructor(){super(),this.animation=new qG,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function KG(n,e){const t=n.rotate,i=n.options.rotate;if(!t||!i)return;const r=i.animation,s=(t.velocity??0)*e.factor,o=2*Math.PI,a=t.decay??1;if(r.enable){switch(t.status){case"increasing":t.value+=s,t.value>o&&(t.value-=o);break;case"decreasing":default:t.value-=s,t.value<0&&(t.value+=o);break}t.velocity&&a!==1&&(t.velocity*=a)}}class QG{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:at(t.value)*Math.PI/180},e.pathRotation=t.path;let i=t.direction;switch(i==="random"&&(i=Math.floor(nn()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=t.animation;r.enable&&(e.rotate.decay=1-at(r.decay),e.rotate.velocity=at(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=nn())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&t.animation.enable&&!t.path:!1}loadOptions(e,...t){e.rotate||(e.rotate=new YG);for(const i of t)e.rotate.load(i==null?void 0:i.rotate)}update(e,t){var i;this.isEnabled(e)&&(KG(e,t),e.rotation=((i=e.rotate)==null?void 0:i.value)??0)}}async function ZG(n,e=!0){await n.addParticleUpdater("rotate",t=>new QG(t),e)}const $G=Math.sqrt(2);class e8{draw(e){const{context:t,radius:i}=e,r=i/$G,s=r*2;t.rect(-r,-r,s,s)}getSidesCount(){return 4}}async function t8(n,e=!0){await n.addShape(["edge","square"],new e8,e)}class n8{draw(e){const{context:t,particle:i,radius:r}=e,s=i.sides,o=i.starInset??2;t.moveTo(0,0-r);for(let a=0;a<s;a++)t.rotate(Math.PI/s),t.lineTo(0,0-r*o),t.rotate(Math.PI/s),t.lineTo(0,0-r)}getSidesCount(e){const t=e.shapeData;return Math.round(at((t==null?void 0:t.sides)??5))}particleInit(e,t){const i=t.shapeData;t.starInset=at((i==null?void 0:i.inset)??2)}}async function i8(n,e=!0){await n.addShape("star",new n8,e)}function jx(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=rr(t.offset),o=(e.velocity??0)*n.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function r8(n,e){if(!n.strokeColor||!n.strokeAnimation)return;const{h:t,s:i,l:r}=n.strokeColor,{h:s,s:o,l:a}=n.strokeAnimation;t&&jx(e,t,s,360,!1),i&&jx(e,i,o,100,!0),r&&jx(e,r,a,100,!0)}class s8{constructor(e){this.container=e}init(e){var o;const t=this.container,i=e.options,r=ys(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=at(r.width)*t.retina.pixelRatio,e.strokeOpacity=at(r.opacity??1),e.strokeAnimation=(o=r.color)==null?void 0:o.animation;const s=lf(r.color)??e.getFillColor();s&&(e.strokeColor=PB(s,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&r8(e,t)}}async function o8(n,e=!0){await n.addParticleUpdater("strokeColor",t=>new s8(t),e)}async function a8(n,e=!0){await _G(n,!1),await a6(n,!1),await u6(n,!1),await p6(n,!1),await w6(n,!1),await P6(n,!1),await I6(n,!1),await O6(n,!1),await H6(n,!1),await W6(n,!1),await Y6(n,!1),await SG(n,!1),await CG(n,!1),await GG(n,!1),await n6(),await r6(n,!1),await dG(n,!1),await yG(n,!1),await JG(n,!1),await t8(n,!1),await i8(n,!1),await gG(n,!1),await ZG(n,!1),await o8(n,!1),await t6(n,e)}const GB=({color1:n,color2:e})=>{const[t,i]=ae.useState(!1);ae.useEffect(()=>{bH(async o=>{await a8(o)}).then(()=>{i(!0)})},[]);const r=async o=>{},s=ae.useMemo(()=>({fpsLimit:120,interactivity:{events:{onHover:{enable:!0,mode:"repulse"}},modes:{push:{quantity:4},repulse:{distance:90,duration:.4}}},particles:{color:{value:[n,e]},links:{color:"#c2c2c2",distance:150,enable:!0,opacity:.5,width:1},move:{direction:"none",enable:!0,outModes:{default:"out"},random:!1,speed:5,straight:!1},number:{density:{enable:!0},value:20},opacity:{value:.5},shape:{type:["circle","square"]},size:{value:{min:3,max:10}}},fullScreen:!1,detectRetina:!0}),[]);return t?C.jsx(MH,{id:"tsparticles",particlesLoaded:r,options:s}):C.jsx(C.Fragment,{})},ms=(n,e,t,i,r,s="white")=>{const o=document.getElementById(r),a=o==null?void 0:o.getContext("2d");if(a){const l=n,c=a.createRadialGradient(e,t,0,e,t,l),d=i,f=s;c.addColorStop(0,d),c.addColorStop(1,f),a.beginPath(),a.arc(e,t,n,0,2*Math.PI),a.fillStyle=c,a.fill()}},VB=()=>{const t=new Date,i=t.getFullYear(),r=t.getMonth()+1;let s=i-2003;return r<5&&s--,s},vT={Python:"#4f8ebd",TypeScript:"rgba(47, 116, 192, 1)",JavaScript:"#f7e02a",emailjs:"#f7e02a","Chart.js":"#f7e02a",React:"#61dafb",Vite:"#b643fe",TailwindCSS:"#54bfbb",Bootstrap:"#901dfd",PostgreSQL:"#316193",Express:"#2c2c2c",Julia:"#aa79c1",Rust:"#f15e3a",Haskell:"#63568a","C++":"#6a9dd4",Java:"#ed2c28",Docker:"#309aee","C#":"#a0559b",Gherkin:"#5abd6c",HTML:"#ff5d2b",CSS:"#2076b8",Excel:"#1f7c39",MySQL:"#e59115",Git:"#f1573b",PHP:"#7b7fb6",Symfony:"#080808","CI/CD":"#8f1704",Markdown:"#9fd25c",Shell:"#4eaa25",Batch:"#4eaa25",GitBook:"#4eaa25",Crontab:"#8c8c8c",PlantUML:"#7d4e1e"},l8=n=>n in vT?vT[n]:"bg-gray-300",ss={first:"#9867f0",second:"#ed4e50",third:"#8a0101"},os={first:"#10b3c2",second:"#10c283",third:"#10c2b3"},jB=ae.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),vv=ae.createContext({}),Tw=ae.createContext(null),yv=typeof document<"u",c8=yv?ae.useLayoutEffect:ae.useEffect,WB=ae.createContext({strict:!1}),Rw=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),u8="framerAppearId",XB="data-"+Rw(u8);function d8(n,e,t,i){const{visualElement:r}=ae.useContext(vv),s=ae.useContext(WB),o=ae.useContext(Tw),a=ae.useContext(jB).reducedMotion,l=ae.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;ae.useInsertionEffect(()=>{c&&c.update(t,o)});const d=ae.useRef(!!(t[XB]&&!window.HandoffComplete));return c8(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),ae.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function Eu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function h8(n,e,t){return ae.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Eu(t)&&(t.current=i))},[e])}function df(n){return typeof n=="string"||Array.isArray(n)}function xv(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Pw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lw=["initial",...Pw];function _v(n){return xv(n.animate)||Lw.some(e=>df(n[e]))}function JB(n){return!!(_v(n)||n.variants)}function f8(n,e){if(_v(n)){const{initial:t,animate:i}=n;return{initial:t===!1||df(t)?t:void 0,animate:df(i)?i:void 0}}return n.inherit!==!1?e:{}}function p8(n){const{initial:e,animate:t}=f8(n,ae.useContext(vv));return ae.useMemo(()=>({initial:e,animate:t}),[yT(e),yT(t)])}function yT(n){return Array.isArray(n)?n.join(" "):n}const xT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hf={};for(const n in xT)hf[n]={isEnabled:e=>xT[n].some(t=>!!e[t])};function m8(n){for(const e in n)hf[e]={...hf[e],...n[e]}}const qB=ae.createContext({}),YB=ae.createContext({}),g8=Symbol.for("motionComponentSymbol");function v8({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&m8(n);function s(a,l){let c;const d={...ae.useContext(jB),...a,layoutId:y8(a)},{isStatic:f}=d,p=p8(a),m=i(a,f);if(!f&&yv){p.visualElement=d8(r,m,d,e);const v=ae.useContext(YB),x=ae.useContext(WB).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,x,n,v))}return ae.createElement(vv.Provider,{value:p},c&&p.visualElement?ae.createElement(c,{visualElement:p.visualElement,...d}):null,t(r,a,h8(m,p.visualElement,l),m,f,p.visualElement))}const o=ae.forwardRef(s);return o[g8]=r,o}function y8({layoutId:n}){const e=ae.useContext(qB).id;return e&&n!==void 0?e+"-"+n:n}function x8(n){function e(i,r={}){return v8(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const _8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bw(n){return typeof n!="string"||n.includes("-")?!1:!!(_8.indexOf(n)>-1||/[A-Z]/.test(n))}const R0={};function A8(n){Object.assign(R0,n)}const kf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mc=new Set(kf);function KB(n,{layout:e,layoutId:t}){return mc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!R0[n]||n==="opacity")}const lr=n=>!!(n&&n.getVelocity),S8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},w8=kf.length;function M8(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<w8;o++){const a=kf[o];if(n[a]!==void 0){const l=S8[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const QB=n=>e=>typeof e=="string"&&e.startsWith(n),ZB=QB("--"),uA=QB("var(--"),b8=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,E8=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ja=(n,e,t)=>Math.min(Math.max(t,n),e),gc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Dh={...gc,transform:n=>ja(0,1,n)},Mm={...gc,default:1},Nh=n=>Math.round(n*1e5)/1e5,Av=/(-)?([\d]*\.?[\d])+/g,$B=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,C8=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Uf(n){return typeof n=="string"}const zf=n=>({test:e=>Uf(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ma=zf("deg"),Ys=zf("%"),mt=zf("px"),T8=zf("vh"),R8=zf("vw"),_T={...Ys,parse:n=>Ys.parse(n)/100,transform:n=>Ys.transform(n*100)},AT={...gc,transform:Math.round},eI={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,size:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,rotate:ma,rotateX:ma,rotateY:ma,rotateZ:ma,scale:Mm,scaleX:Mm,scaleY:Mm,scaleZ:Mm,skew:ma,skewX:ma,skewY:ma,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:Dh,originX:_T,originY:_T,originZ:mt,zIndex:AT,fillOpacity:Dh,strokeOpacity:Dh,numOctaves:AT};function Iw(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,d=!0;for(const f in e){const p=e[f];if(ZB(f)){s[f]=p;continue}const m=eI[f],v=E8(p,m);if(mc.has(f)){if(l=!0,o[f]=v,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,a[f]=v):r[f]=v}if(e.transform||(l||i?r.transform=M8(n.transform,t,d,i):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${f} ${p} ${m}`}}const Dw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tI(n,e,t){for(const i in e)!lr(e[i])&&!KB(i,t)&&(n[i]=e[i])}function P8({transformTemplate:n},e,t){return ae.useMemo(()=>{const i=Dw();return Iw(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function L8(n,e,t){const i=n.style||{},r={};return tI(r,i,n),Object.assign(r,P8(n,e,t)),n.transformValues?n.transformValues(r):r}function B8(n,e,t){const i={},r=L8(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const I8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function P0(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||I8.has(n)}let nI=n=>!P0(n);function D8(n){n&&(nI=e=>e.startsWith("on")?!P0(e):n(e))}try{D8(require("@emotion/is-prop-valid").default)}catch{}function N8(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(nI(r)||t===!0&&P0(r)||!e&&!P0(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function ST(n,e,t){return typeof n=="string"?n:mt.transform(e+t*n)}function F8(n,e,t){const i=ST(e,n.x,n.width),r=ST(t,n.y,n.height);return`${i} ${r}`}const O8={offset:"stroke-dashoffset",array:"stroke-dasharray"},k8={offset:"strokeDashoffset",array:"strokeDasharray"};function U8(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?O8:k8;n[s.offset]=mt.transform(-i);const o=mt.transform(e),a=mt.transform(t);n[s.array]=`${o} ${a}`}function Nw(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f,p){if(Iw(n,c,d,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v,dimensions:x}=n;m.transform&&(x&&(v.transform=m.transform),delete m.transform),x&&(r!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=F8(x,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),o!==void 0&&U8(m,o,a,l,!1)}const iI=()=>({...Dw(),attrs:{}}),Fw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function z8(n,e,t,i){const r=ae.useMemo(()=>{const s=iI();return Nw(s,e,{enableHardwareAcceleration:!1},Fw(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};tI(s,n.style,n),r.style={...s,...r.style}}return r}function H8(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(Bw(t)?z8:B8)(i,s,o,t),d={...N8(i,typeof t=="string",n),...l,ref:r},{children:f}=i,p=ae.useMemo(()=>lr(f)?f.get():f,[f]);return ae.createElement(t,{...d,children:p})}}function rI(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const sI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oI(n,e,t,i){rI(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(sI.has(r)?r:Rw(r),e.attrs[r])}function Ow(n,e){const{style:t}=n,i={};for(const r in t)(lr(t[r])||e.style&&lr(e.style[r])||KB(r,n))&&(i[r]=t[r]);return i}function aI(n,e){const t=Ow(n,e);for(const i in n)if(lr(n[i])||lr(e[i])){const r=kf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;t[r]=n[i]}return t}function kw(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}function G8(n){const e=ae.useRef(null);return e.current===null&&(e.current=n()),e.current}const L0=n=>Array.isArray(n),V8=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),j8=n=>L0(n)?n[n.length-1]||0:n;function Gg(n){const e=lr(n)?n.get():n;return V8(e)?e.toValue():e}function W8({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:X8(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const lI=n=>(e,t)=>{const i=ae.useContext(vv),r=ae.useContext(Tw),s=()=>W8(n,e,i,r);return t?s():G8(s)};function X8(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=Gg(s[p]);let{initial:o,animate:a}=n;const l=_v(n),c=JB(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const f=d?a:o;return f&&typeof f!="boolean"&&!xv(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=kw(n,m);if(!v)return;const{transitionEnd:x,transition:A,...g}=v;for(const _ in g){let S=g[_];if(Array.isArray(S)){const M=d?S.length-1:0;S=S[M]}S!==null&&(r[_]=S)}for(const _ in x)r[_]=x[_]}),r}const In=n=>n;class wT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function J8(n){let e=new wT,t=new wT,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const f=d&&r,p=f?e:t;return c&&o.add(l),p.add(l)&&f&&r&&(i=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let c=0;c<i;c++){const d=e.order[c];d(l),o.has(d)&&(a.schedule(d),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const bm=["prepare","read","update","preRender","render","postRender"],q8=40;function Y8(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=bm.reduce((f,p)=>(f[p]=J8(()=>t=!0),f),{}),o=f=>s[f].process(r),a=()=>{const f=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(f-r.timestamp,q8),1),r.timestamp=f,r.isProcessing=!0,bm.forEach(o),r.isProcessing=!1,t&&e&&(i=!1,n(a))},l=()=>{t=!0,i=!0,r.isProcessing||n(a)};return{schedule:bm.reduce((f,p)=>{const m=s[p];return f[p]=(v,x=!1,A=!1)=>(t||l(),m.schedule(v,x,A)),f},{}),cancel:f=>bm.forEach(p=>s[p].cancel(f)),state:r,steps:s}}const{schedule:rn,cancel:Wo,state:Ci,steps:Wx}=Y8(typeof requestAnimationFrame<"u"?requestAnimationFrame:In,!0),K8={useVisualState:lI({scrapeMotionValuesFromProps:aI,createRenderState:iI,onMount:(n,e,{renderState:t,latestValues:i})=>{rn.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),rn.render(()=>{Nw(t,i,{enableHardwareAcceleration:!1},Fw(e.tagName),n.transformTemplate),oI(e,t)})}})},Q8={useVisualState:lI({scrapeMotionValuesFromProps:Ow,createRenderState:Dw})};function Z8(n,{forwardMotionProps:e=!1},t,i){return{...Bw(n)?K8:Q8,preloadedFeatures:t,useRender:H8(e),createVisualElement:i,Component:n}}function Lo(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const cI=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Sv(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const $8=n=>e=>cI(e)&&n(e,Sv(e));function Oo(n,e,t,i){return Lo(n,e,$8(t),i)}const e9=(n,e)=>t=>e(n(t)),Fa=(...n)=>n.reduce(e9);function uI(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const MT=uI("dragHorizontal"),bT=uI("dragVertical");function dI(n){let e=!1;if(n==="y")e=bT();else if(n==="x")e=MT();else{const t=MT(),i=bT();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function hI(){const n=dI(!0);return n?(n(),!1):!0}class $a{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ET(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.pointerType==="touch"||hI())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&rn.update(()=>a[i](s,o))};return Oo(n.current,t,r,{passive:!n.getProps()[i]})}class t9 extends $a{mount(){this.unmount=Fa(ET(this.node,!0),ET(this.node,!1))}unmount(){}}class n9 extends $a{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fa(Lo(this.node.current,"focus",()=>this.onFocus()),Lo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fI=(n,e)=>e?n===e?!0:fI(n,e.parentElement):!1;function Xx(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Sv(t))}class i9 extends $a{constructor(){super(...arguments),this.removeStartListeners=In,this.removeEndListeners=In,this.removeAccessibleListeners=In,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=Oo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();rn.update(()=>{!f&&!fI(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=Oo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Fa(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Xx("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&rn.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Lo(this.node.current,"keyup",o),Xx("down",(a,l)=>{this.startPress(a,l)})},t=Lo(this.node.current,"keydown",e),i=()=>{this.isPressing&&Xx("cancel",(s,o)=>this.cancelPress(s,o))},r=Lo(this.node.current,"blur",i);this.removeAccessibleListeners=Fa(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&rn.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hI()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&rn.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=Oo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Lo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fa(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const dA=new WeakMap,Jx=new WeakMap,r9=n=>{const e=dA.get(n.target);e&&e(n)},s9=n=>{n.forEach(r9)};function o9({root:n,...e}){const t=n||document;Jx.has(t)||Jx.set(t,{});const i=Jx.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(s9,{root:n,...e})),i[r]}function a9(n,e,t){const i=o9(e);return dA.set(n,t),i.observe(n),()=>{dA.delete(n),i.unobserve(n)}}const l9={some:0,all:1};class c9 extends $a{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:l9[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return a9(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(u9(e,t))&&this.startObserver()}unmount(){}}function u9({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const d9={inView:{Feature:c9},tap:{Feature:i9},focus:{Feature:n9},hover:{Feature:t9}};function pI(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function h9(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function f9(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function wv(n,e,t){const i=n.getProps();return kw(i,e,t!==void 0?t:i.custom,h9(n),f9(n))}let Uw=In;const Yl=n=>n*1e3,ko=n=>n/1e3,p9={current:!1},mI=n=>Array.isArray(n)&&typeof n[0]=="number";function gI(n){return!!(!n||typeof n=="string"&&vI[n]||mI(n)||Array.isArray(n)&&n.every(gI))}const _h=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,vI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_h([0,.65,.55,1]),circOut:_h([.55,0,1,.45]),backIn:_h([.31,.01,.66,-.59]),backOut:_h([.33,1.53,.69,.99])};function yI(n){if(n)return mI(n)?_h(n):Array.isArray(n)?n.map(yI):vI[n]}function m9(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const d=yI(a);return Array.isArray(d)&&(c.easing=d),n.animate(c,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function g9(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const xI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,v9=1e-7,y9=12;function x9(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=xI(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>v9&&++a<y9);return o}function Hf(n,e,t,i){if(n===e&&t===i)return In;const r=s=>x9(s,0,1,n,t);return s=>s===0||s===1?s:xI(r(s),e,i)}const _9=Hf(.42,0,1,1),A9=Hf(0,0,.58,1),_I=Hf(.42,0,.58,1),S9=n=>Array.isArray(n)&&typeof n[0]!="number",AI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,SI=n=>e=>1-n(1-e),zw=n=>1-Math.sin(Math.acos(n)),wI=SI(zw),w9=AI(zw),MI=Hf(.33,1.53,.69,.99),Hw=SI(MI),M9=AI(Hw),b9=n=>(n*=2)<1?.5*Hw(n):.5*(2-Math.pow(2,-10*(n-1))),E9={linear:In,easeIn:_9,easeInOut:_I,easeOut:A9,circIn:zw,circInOut:w9,circOut:wI,backIn:Hw,backInOut:M9,backOut:MI,anticipate:b9},CT=n=>{if(Array.isArray(n)){Uw(n.length===4);const[e,t,i,r]=n;return Hf(e,t,i,r)}else if(typeof n=="string")return E9[n];return n},Gw=(n,e)=>t=>!!(Uf(t)&&C8.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),bI=(n,e,t)=>i=>{if(!Uf(i))return i;const[r,s,o,a]=i.match(Av);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},C9=n=>ja(0,255,n),qx={...gc,transform:n=>Math.round(C9(n))},Ul={test:Gw("rgb","red"),parse:bI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+qx.transform(n)+", "+qx.transform(e)+", "+qx.transform(t)+", "+Nh(Dh.transform(i))+")"};function T9(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const hA={test:Gw("#"),parse:T9,transform:Ul.transform},Cu={test:Gw("hsl","hue"),parse:bI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Ys.transform(Nh(e))+", "+Ys.transform(Nh(t))+", "+Nh(Dh.transform(i))+")"},Ui={test:n=>Ul.test(n)||hA.test(n)||Cu.test(n),parse:n=>Ul.test(n)?Ul.parse(n):Cu.test(n)?Cu.parse(n):hA.parse(n),transform:n=>Uf(n)?n:n.hasOwnProperty("red")?Ul.transform(n):Cu.transform(n)},gn=(n,e,t)=>-t*n+t*e+n;function Yx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function R9({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=Yx(l,a,n+1/3),s=Yx(l,a,n),o=Yx(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const Kx=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},P9=[hA,Ul,Cu],L9=n=>P9.find(e=>e.test(n));function TT(n){const e=L9(n);let t=e.parse(n);return e===Cu&&(t=R9(t)),t}const EI=(n,e)=>{const t=TT(n),i=TT(e),r={...t};return s=>(r.red=Kx(t.red,i.red,s),r.green=Kx(t.green,i.green,s),r.blue=Kx(t.blue,i.blue,s),r.alpha=gn(t.alpha,i.alpha,s),Ul.transform(r))};function B9(n){var e,t;return isNaN(n)&&Uf(n)&&(((e=n.match(Av))===null||e===void 0?void 0:e.length)||0)+(((t=n.match($B))===null||t===void 0?void 0:t.length)||0)>0}const CI={regex:b8,countKey:"Vars",token:"${v}",parse:In},TI={regex:$B,countKey:"Colors",token:"${c}",parse:Ui.parse},RI={regex:Av,countKey:"Numbers",token:"${n}",parse:gc.parse};function Qx(n,{regex:e,countKey:t,token:i,parse:r}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...s.map(r)))}function B0(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Qx(t,CI),Qx(t,TI),Qx(t,RI),t}function PI(n){return B0(n).values}function LI(n){const{values:e,numColors:t,numVars:i,tokenised:r}=B0(n),s=e.length;return o=>{let a=r;for(let l=0;l<s;l++)l<i?a=a.replace(CI.token,o[l]):l<i+t?a=a.replace(TI.token,Ui.transform(o[l])):a=a.replace(RI.token,Nh(o[l]));return a}}const I9=n=>typeof n=="number"?0:n;function D9(n){const e=PI(n);return LI(n)(e.map(I9))}const Wa={test:B9,parse:PI,createTransformer:LI,getAnimatableNone:D9},BI=(n,e)=>t=>`${t>0?e:n}`;function II(n,e){return typeof n=="number"?t=>gn(n,e,t):Ui.test(n)?EI(n,e):n.startsWith("var(")?BI(n,e):NI(n,e)}const DI=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>II(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},N9=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=II(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},NI=(n,e)=>{const t=Wa.createTransformer(e),i=B0(n),r=B0(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Fa(DI(i.values,r.values),t):BI(n,e)},ff=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},RT=(n,e)=>t=>gn(n,e,t);function F9(n){return typeof n=="number"?RT:typeof n=="string"?Ui.test(n)?EI:NI:Array.isArray(n)?DI:typeof n=="object"?N9:RT}function O9(n,e,t){const i=[],r=t||F9(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||In:e;a=Fa(l,a)}i.push(a)}return i}function FI(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(Uw(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=O9(e,i,r),a=o.length,l=c=>{let d=0;if(a>1)for(;d<n.length-2&&!(c<n[d+1]);d++);const f=ff(n[d],n[d+1],c);return o[d](f)};return t?c=>l(ja(n[0],n[s-1],c)):l}function k9(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=ff(0,e,i);n.push(gn(t,1,r))}}function U9(n){const e=[0];return k9(e,n.length-1),e}function z9(n,e){return n.map(t=>t*e)}function H9(n,e){return n.map(()=>e||_I).splice(0,n.length-1)}function I0({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=S9(i)?i.map(CT):CT(i),s={done:!1,value:e[0]},o=z9(t&&t.length===e.length?t:U9(e),n),a=FI(o,e,{ease:Array.isArray(r)?r:H9(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function OI(n,e){return e?n*(1e3/e):0}const G9=5;function kI(n,e,t){const i=Math.max(e-G9,0);return OI(t-n(i),e-i)}const Zx=.001,V9=.01,j9=10,W9=.05,X9=1;function J9({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s,o=1-e;o=ja(W9,X9,o),n=ja(V9,j9,ko(n)),o<1?(r=c=>{const d=c*o,f=d*n,p=d-t,m=fA(c,o),v=Math.exp(-f);return Zx-p/m*v},s=c=>{const f=c*o*n,p=f*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,v=Math.exp(-f),x=fA(Math.pow(c,2),o);return(-r(c)+Zx>0?-1:1)*((p-m)*v)/x}):(r=c=>{const d=Math.exp(-c*n),f=(c-t)*n+1;return-Zx+d*f},s=c=>{const d=Math.exp(-c*n),f=(t-c)*(n*n);return d*f});const a=5/n,l=Y9(r,s,a);if(n=Yl(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const q9=12;function Y9(n,e,t){let i=t;for(let r=1;r<q9;r++)i=i-n(i)/e(i);return i}function fA(n,e){return n*Math.sqrt(1-e*e)}const K9=["duration","bounce"],Q9=["stiffness","damping","mass"];function PT(n,e){return e.some(t=>n[t]!==void 0)}function Z9(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!PT(n,Q9)&&PT(n,K9)){const t=J9(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function UI({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=Z9({...i,velocity:-ko(i.velocity||0)}),m=f||0,v=l/(2*Math.sqrt(a*c)),x=s-r,A=ko(Math.sqrt(a/c)),g=Math.abs(x)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let _;if(v<1){const S=fA(A,v);_=M=>{const T=Math.exp(-v*A*M);return s-T*((m+v*A*x)/S*Math.sin(S*M)+x*Math.cos(S*M))}}else if(v===1)_=S=>s-Math.exp(-A*S)*(x+(m+A*x)*S);else{const S=A*Math.sqrt(v*v-1);_=M=>{const T=Math.exp(-v*A*M),P=Math.min(S*M,300);return s-T*((m+v*A*x)*Math.sinh(P)+S*x*Math.cosh(P))/S}}return{calculatedDuration:p&&d||null,next:S=>{const M=_(S);if(p)o.done=S>=d;else{let T=m;S!==0&&(v<1?T=kI(_,S,M):T=0);const P=Math.abs(T)<=t,B=Math.abs(s-M)<=e;o.done=P&&B}return o.value=o.done?s:M,o}}}function LT({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=n[0],p={done:!1,value:f},m=D=>a!==void 0&&D<a||l!==void 0&&D>l,v=D=>a===void 0?l:l===void 0||Math.abs(a-D)<Math.abs(l-D)?a:l;let x=t*e;const A=f+x,g=o===void 0?A:o(A);g!==A&&(x=g-f);const _=D=>-x*Math.exp(-D/i),S=D=>g+_(D),M=D=>{const L=_(D),I=S(D);p.done=Math.abs(L)<=c,p.value=p.done?g:I};let T,P;const B=D=>{m(p.value)&&(T=D,P=UI({keyframes:[p.value,v(p.value)],velocity:kI(S,D,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return B(0),{calculatedDuration:null,next:D=>{let L=!1;return!P&&T===void 0&&(L=!0,M(D),B(D)),T!==void 0&&D>T?P.next(D-T):(!L&&M(D),p)}}}const $9=n=>{const e=({timestamp:t})=>n(t);return{start:()=>rn.update(e,!0),stop:()=>Wo(e),now:()=>Ci.isProcessing?Ci.timestamp:performance.now()}},BT=2e4;function IT(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<BT;)e+=t,i=n.next(e);return e>=BT?1/0:e}const eV={decay:LT,inertia:LT,tween:I0,keyframes:I0,spring:UI};function D0({autoplay:n=!0,delay:e=0,driver:t=$9,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...p}){let m=1,v=!1,x,A;const g=()=>{A=new Promise(K=>{x=K})};g();let _;const S=eV[r]||I0;let M;S!==I0&&typeof i[0]!="number"&&(M=FI([0,100],i,{clamp:!1}),i=[0,100]);const T=S({...p,keyframes:i});let P;a==="mirror"&&(P=S({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let B="idle",D=null,L=null,I=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=IT(T));const{calculatedDuration:H}=T;let W=1/0,ee=1/0;H!==null&&(W=H+o,ee=W*(s+1)-o);let z=0;const Q=K=>{if(L===null)return;m>0&&(L=Math.min(L,K)),m<0&&(L=Math.min(K-ee/m,L)),D!==null?z=D:z=Math.round(K-L)*m;const ie=z-e*(m>=0?1:-1),re=m>=0?ie<0:ie>ee;z=Math.max(ie,0),B==="finished"&&D===null&&(z=ee);let fe=z,we=T;if(s){const ot=Math.min(z,ee)/W;let ze=Math.floor(ot),We=ot%1;!We&&ot>=1&&(We=1),We===1&&ze--,ze=Math.min(ze,s+1),!!(ze%2)&&(a==="reverse"?(We=1-We,o&&(We-=o/W)):a==="mirror"&&(we=P)),fe=ja(0,1,We)*W}const Ce=re?{done:!1,value:i[0]}:we.next(fe);M&&(Ce.value=M(Ce.value));let{done:Le}=Ce;!re&&H!==null&&(Le=m>=0?z>=ee:z<=0);const rt=D===null&&(B==="finished"||B==="running"&&Le);return f&&f(Ce.value),rt&&N(),Ce},Z=()=>{_&&_.stop(),_=void 0},ce=()=>{B="idle",Z(),x(),g(),L=I=null},N=()=>{B="finished",d&&d(),Z(),x()},V=()=>{if(v)return;_||(_=t(Q));const K=_.now();l&&l(),D!==null?L=K-D:(!L||B==="finished")&&(L=K),B==="finished"&&g(),I=L,D=null,B="running",_.start()};n&&V();const j={then(K,ie){return A.then(K,ie)},get time(){return ko(z)},set time(K){K=Yl(K),z=K,D!==null||!_||m===0?D=K:L=_.now()-K/m},get duration(){const K=T.calculatedDuration===null?IT(T):T.calculatedDuration;return ko(K)},get speed(){return m},set speed(K){K===m||!_||(m=K,j.time=ko(z))},get state(){return B},play:V,pause:()=>{B="paused",D=z},stop:()=>{v=!0,B!=="idle"&&(B="idle",c&&c(),ce())},cancel:()=>{I!==null&&Q(I),ce()},complete:()=>{B="finished"},sample:K=>(L=0,Q(K))};return j}function tV(n){let e;return()=>(e===void 0&&(e=n()),e)}const nV=tV(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),iV=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Em=10,rV=2e4,sV=(n,e)=>e.type==="spring"||n==="backgroundColor"||!gI(e.ease);function oV(n,e,{onUpdate:t,onComplete:i,...r}){if(!(nV()&&iV.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const d=()=>{l=new Promise(S=>{a=S})};d();let{keyframes:f,duration:p=300,ease:m,times:v}=r;if(sV(e,r)){const S=D0({...r,repeat:0,delay:0});let M={done:!1,value:f[0]};const T=[];let P=0;for(;!M.done&&P<rV;)M=S.sample(P),T.push(M.value),P+=Em;v=void 0,f=T,p=P-Em,m="linear"}const x=m9(n.owner.current,e,f,{...r,duration:p,ease:m,times:v}),A=()=>{c=!1,x.cancel()},g=()=>{c=!0,rn.update(A),a(),d()};return x.onfinish=()=>{c||(n.set(g9(f,r)),i&&i(),g())},{then(S,M){return l.then(S,M)},attachTimeline(S){return x.timeline=S,x.onfinish=null,In},get time(){return ko(x.currentTime||0)},set time(S){x.currentTime=Yl(S)},get speed(){return x.playbackRate},set speed(S){x.playbackRate=S},get duration(){return ko(p)},play:()=>{o||(x.play(),Wo(A))},pause:()=>x.pause(),stop:()=>{if(o=!0,x.playState==="idle")return;const{currentTime:S}=x;if(S){const M=D0({...r,autoplay:!1});n.setWithVelocity(M.sample(S-Em).value,M.sample(S).value,Em)}g()},complete:()=>{c||x.finish()},cancel:g}}function aV({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const r=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:In,pause:In,stop:In,then:s=>(s(),Promise.resolve()),cancel:In,complete:In});return e?D0({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const lV={type:"spring",stiffness:500,damping:25,restSpeed:10},cV=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),uV={type:"keyframes",duration:.8},dV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hV=(n,{keyframes:e})=>e.length>2?uV:mc.has(n)?n.startsWith("scale")?cV(e[1]):lV:dV,pA=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Wa.test(e)||e==="0")&&!e.startsWith("url(")),fV=new Set(["brightness","contrast","saturate","opacity"]);function pV(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Av)||[];if(!i)return n;const r=t.replace(i,"");let s=fV.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const mV=/([a-z-]*)\(.*?\)/g,mA={...Wa,getAnimatableNone:n=>{const e=n.match(mV);return e?e.map(pV).join(" "):n}},gV={...eI,color:Ui,backgroundColor:Ui,outlineColor:Ui,fill:Ui,stroke:Ui,borderColor:Ui,borderTopColor:Ui,borderRightColor:Ui,borderBottomColor:Ui,borderLeftColor:Ui,filter:mA,WebkitFilter:mA},Vw=n=>gV[n];function zI(n,e){let t=Vw(n);return t!==mA&&(t=Wa),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const HI=n=>/^0[^.\s]+$/.test(n);function vV(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||HI(n)}function yV(n,e,t,i){const r=pA(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=i.from!==void 0?i.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),vV(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(r&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];s[d]=zI(e,a)}return s}function xV({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function jw(n,e){return n[e]||n.default||n}const _V={skipAnimations:!1},Ww=(n,e,t,i={})=>r=>{const s=jw(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-Yl(o);const l=yV(e,n,t,s),c=l[0],d=l[l.length-1],f=pA(n,c),p=pA(n,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(xV(s)||(m={...m,...hV(n,m)}),m.duration&&(m.duration=Yl(m.duration)),m.repeatDelay&&(m.repeatDelay=Yl(m.repeatDelay)),!f||!p||p9.current||s.type===!1||_V.skipAnimations)return aV(m);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=oV(e,n,m);if(v)return v}return D0(m)};function N0(n){return!!(lr(n)&&n.add)}const GI=n=>/^\-?\d*\.?\d+$/.test(n);function Xw(n,e){n.indexOf(e)===-1&&n.push(e)}function Jw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class qw{constructor(){this.subscriptions=[]}add(e){return Xw(this.subscriptions,e),()=>Jw(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const AV=n=>!isNaN(parseFloat(n));class SV{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=Ci;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,rn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>rn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=AV(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new qw);const i=this.events[e].add(t);return e==="change"?()=>{i(),rn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?OI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $u(n,e){return new SV(n,e)}const VI=n=>e=>e.test(n),wV={test:n=>n==="auto",parse:n=>n},jI=[gc,mt,Ys,ma,R8,T8,wV],Qd=n=>jI.find(VI(n)),MV=[...jI,Ui,Wa],bV=n=>MV.find(VI(n));function EV(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,$u(t))}function CV(n,e){const t=wv(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=j8(s[o]);EV(n,o,a)}}function TV(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),d!=null&&(typeof d=="string"&&(GI(d)||HI(d))?d=parseFloat(d):!bV(d)&&Wa.test(c)&&(d=zI(l,c)),n.addValue(l,$u(d,{owner:n})),t[l]===void 0&&(t[l]=d),d!==null&&n.setBaseTarget(l,d))}}function RV(n,e){return e?(e[n]||e.default||e).from:void 0}function PV(n,e,t){const i={};for(const r in n){const s=RV(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function LV({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function BV(n,e){const t=n.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}else return t!==e}function WI(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const c=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const f in a){const p=n.getValue(f),m=a[f];if(!p||m===void 0||d&&LV(d,f))continue;const v={delay:t,elapsed:0,...jw(s||{},f)};if(window.HandoffAppearAnimations){const g=n.getProps()[XB];if(g){const _=window.HandoffAppearAnimations(g,f,p,rn);_!==null&&(v.elapsed=_,v.isHandoff=!0)}}let x=!v.isHandoff&&!BV(p,m);if(v.type==="spring"&&(p.getVelocity()||v.velocity)&&(x=!1),p.animation&&(x=!1),x)continue;p.start(Ww(f,p,m,n.shouldReduceMotion&&mc.has(f)?{type:!1}:v));const A=p.animation;N0(l)&&(l.add(f),A.then(()=>l.remove(f))),c.push(A)}return o&&Promise.all(c).then(()=>{o&&CV(n,o)}),c}function gA(n,e,t={}){const i=wv(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(WI(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=r;return IV(n,e,c+l,d,f,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function IV(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(n.variantChildren).sort(DV).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(gA(c,e,{...s,delay:t+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function DV(n,e){return n.sortNodePosition(e)}function NV(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>gA(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=gA(n,e,t);else{const r=typeof e=="function"?wv(n,e,t.custom):e;i=Promise.all(WI(n,r,t))}return i.then(()=>n.notify("AnimationComplete",e))}const FV=[...Pw].reverse(),OV=Pw.length;function kV(n){return e=>Promise.all(e.map(({animation:t,options:i})=>NV(n,t,i)))}function UV(n){let e=kV(n);const t=HV();let i=!0;const r=(l,c)=>{const d=wv(n,c);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,c){const d=n.getProps(),f=n.getVariantContext(!0)||{},p=[],m=new Set;let v={},x=1/0;for(let g=0;g<OV;g++){const _=FV[g],S=t[_],M=d[_]!==void 0?d[_]:f[_],T=df(M),P=_===c?S.isActive:null;P===!1&&(x=g);let B=M===f[_]&&M!==d[_]&&T;if(B&&i&&n.manuallyAnimateOnMount&&(B=!1),S.protectedKeys={...v},!S.isActive&&P===null||!M&&!S.prevProp||xv(M)||typeof M=="boolean")continue;let L=zV(S.prevProp,M)||_===c&&S.isActive&&!B&&T||g>x&&T,I=!1;const H=Array.isArray(M)?M:[M];let W=H.reduce(r,{});P===!1&&(W={});const{prevResolvedValues:ee={}}=S,z={...ee,...W},Q=Z=>{L=!0,m.has(Z)&&(I=!0,m.delete(Z)),S.needsAnimating[Z]=!0};for(const Z in z){const ce=W[Z],N=ee[Z];if(v.hasOwnProperty(Z))continue;let V=!1;L0(ce)&&L0(N)?V=!pI(ce,N):V=ce!==N,V?ce!==void 0?Q(Z):m.add(Z):ce!==void 0&&m.has(Z)?Q(Z):S.protectedKeys[Z]=!0}S.prevProp=M,S.prevResolvedValues=W,S.isActive&&(v={...v,...W}),i&&n.blockInitialAnimation&&(L=!1),L&&(!B||I)&&p.push(...H.map(Z=>({animation:Z,options:{type:_,...l}})))}if(m.size){const g={};m.forEach(_=>{const S=n.getBaseTarget(_);S!==void 0&&(g[_]=S)}),p.push({animation:g})}let A=!!p.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(p):Promise.resolve()}function a(l,c,d){var f;if(t[l].isActive===c)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),t[l].isActive=c;const p=o(d,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function zV(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!pI(e,n):!1}function pl(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HV(){return{animate:pl(!0),whileInView:pl(),whileHover:pl(),whileTap:pl(),whileDrag:pl(),whileFocus:pl(),exit:pl()}}class GV extends $a{constructor(e){super(e),e.animationState||(e.animationState=UV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),xv(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let VV=0;class jV extends $a{constructor(){super(...arguments),this.id=VV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const WV={animation:{Feature:GV},exit:{Feature:jV}},DT=(n,e)=>Math.abs(n-e);function XV(n,e){const t=DT(n.x,e.x),i=DT(n.y,e.y);return Math.sqrt(t**2+i**2)}class XI{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=e_(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=XV(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=f,{timestamp:x}=Ci;this.history.push({...v,timestamp:x});const{onStart:A,onMove:g}=this.handlers;p||(A&&A(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=$x(p,this.transformPagePoint),rn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=e_(f.type==="pointercancel"?this.lastMoveEventInfo:$x(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,A),v&&v(f,A)},!cI(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const o=Sv(e),a=$x(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ci;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=t;d&&d(e,e_(a,this.history)),this.removeListeners=Fa(Oo(this.contextWindow,"pointermove",this.handlePointerMove),Oo(this.contextWindow,"pointerup",this.handlePointerUp),Oo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wo(this.updatePoint)}}function $x(n,e){return e?{point:e(n.point)}:n}function NT(n,e){return{x:n.x-e.x,y:n.y-e.y}}function e_({point:n},e){return{point:n,delta:NT(n,JI(e)),offset:NT(n,JV(e)),velocity:qV(e,.1)}}function JV(n){return n[0]}function JI(n){return n[n.length-1]}function qV(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=JI(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Yl(e)));)t--;if(!i)return{x:0,y:0};const s=ko(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Cr(n){return n.max-n.min}function vA(n,e=0,t=.01){return Math.abs(n-e)<=t}function FT(n,e,t,i=.5){n.origin=i,n.originPoint=gn(e.min,e.max,n.origin),n.scale=Cr(t)/Cr(e),(vA(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=gn(t.min,t.max,n.origin)-n.originPoint,(vA(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Fh(n,e,t,i){FT(n.x,e.x,t.x,i?i.originX:void 0),FT(n.y,e.y,t.y,i?i.originY:void 0)}function OT(n,e,t){n.min=t.min+e.min,n.max=n.min+Cr(e)}function YV(n,e,t){OT(n.x,e.x,t.x),OT(n.y,e.y,t.y)}function kT(n,e,t){n.min=e.min-t.min,n.max=n.min+Cr(e)}function Oh(n,e,t){kT(n.x,e.x,t.x),kT(n.y,e.y,t.y)}function KV(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?gn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?gn(t,n,i.max):Math.min(n,t)),n}function UT(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function QV(n,{top:e,left:t,bottom:i,right:r}){return{x:UT(n.x,t,r),y:UT(n.y,e,i)}}function zT(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function ZV(n,e){return{x:zT(n.x,e.x),y:zT(n.y,e.y)}}function $V(n,e){let t=.5;const i=Cr(n),r=Cr(e);return r>i?t=ff(e.min,e.max-i,n.min):i>r&&(t=ff(n.min,n.max-r,e.min)),ja(0,1,t)}function ej(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const yA=.35;function tj(n=yA){return n===!1?n=0:n===!0&&(n=yA),{x:HT(n,"left","right"),y:HT(n,"top","bottom")}}function HT(n,e,t){return{min:GT(n,e),max:GT(n,t)}}function GT(n,e){return typeof n=="number"?n:n[e]||0}const VT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tu=()=>({x:VT(),y:VT()}),jT=()=>({min:0,max:0}),kn=()=>({x:jT(),y:jT()});function Wr(n){return[n("x"),n("y")]}function qI({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function nj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function ij(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function t_(n){return n===void 0||n===1}function xA({scale:n,scaleX:e,scaleY:t}){return!t_(n)||!t_(e)||!t_(t)}function Tl(n){return xA(n)||YI(n)||n.z||n.rotate||n.rotateX||n.rotateY}function YI(n){return WT(n.x)||WT(n.y)}function WT(n){return n&&n!=="0%"}function F0(n,e,t){const i=n-t,r=e*i;return t+r}function XT(n,e,t,i,r){return r!==void 0&&(n=F0(n,r,i)),F0(n,t,i)+e}function _A(n,e=0,t=1,i,r){n.min=XT(n.min,e,t,i,r),n.max=XT(n.max,e,t,i,r)}function KI(n,{x:e,y:t}){_A(n.x,e.translate,e.scale,e.originPoint),_A(n.y,t.translate,t.scale,t.originPoint)}function rj(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ru(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,KI(n,o)),i&&Tl(s.latestValues)&&Ru(n,s.latestValues))}e.x=JT(e.x),e.y=JT(e.y)}function JT(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function ya(n,e){n.min=n.min+e,n.max=n.max+e}function qT(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=gn(n.min,n.max,s);_A(n,e[t],e[i],o,e.scale)}const sj=["x","scaleX","originX"],oj=["y","scaleY","originY"];function Ru(n,e){qT(n.x,e,sj),qT(n.y,e,oj)}function QI(n,e){return qI(ij(n.getBoundingClientRect(),e))}function aj(n,e,t){const i=QI(n,t),{scroll:r}=e;return r&&(ya(i.x,r.offset.x),ya(i.y,r.offset.y)),i}const ZI=({current:n})=>n?n.ownerDocument.defaultView:null,lj=new WeakMap;class cj{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Sv(d,"page").point)},s=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=dI(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wr(A=>{let g=this.getAxisMotionValue(A).get()||0;if(Ys.test(g)){const{projection:_}=this.visualElement;if(_&&_.layout){const S=_.layout.layoutBox[A];S&&(g=Cr(S)*(parseFloat(g)/100))}}this.originPoint[A]=g}),v&&rn.update(()=>v(d,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:x}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:A}=f;if(m&&this.currentDirection===null){this.currentDirection=uj(A),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,A),this.updateAxis("y",f.point,A),this.visualElement.render(),x&&x(d,f)},a=(d,f)=>this.stop(d,f),l=()=>Wr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new XI(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ZI(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&rn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Cm(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=KV(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Eu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=QV(r.layoutBox,t):this.constraints=!1,this.elastic=tj(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Wr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=ej(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Eu(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=aj(i,r.root,this.visualElement.getTransformPagePoint());let o=ZV(r.layout.layoutBox,s);if(t){const a=t(nj(o));this.hasMutatedConstraints=!!a,a&&(o=qI(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Wr(d=>{if(!Cm(d,t,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(Ww(e,i,0,t))}stopAnimation(){Wr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Wr(t=>{const{drag:i}=this.getProps();if(!Cm(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-gn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Eu(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Wr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=$V({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Wr(o=>{if(!Cm(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(gn(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;lj.set(this.visualElement,this);const e=this.visualElement.current,t=Oo(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Eu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=Lo(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Wr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=yA,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Cm(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function uj(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class dj extends $a{constructor(e){super(e),this.removeGroupControls=In,this.removeListeners=In,this.controls=new cj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||In}unmount(){this.removeGroupControls(),this.removeListeners()}}const YT=n=>(e,t)=>{n&&rn.update(()=>n(e,t))};class hj extends $a{constructor(){super(...arguments),this.removePointerDownListener=In}onPointerDown(e){this.session=new XI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:YT(e),onStart:YT(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&rn.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=Oo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function fj(){const n=ae.useContext(Tw);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=ae.useId();return ae.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const Vg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function KT(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Zd={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(mt.test(n))n=parseFloat(n);else return n;const t=KT(n,e.target.x),i=KT(n,e.target.y);return`${t}% ${i}%`}},pj={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Wa.parse(n);if(r.length>5)return i;const s=Wa.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=gn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class mj extends hn.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;A8(gj),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Vg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||rn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $I(n){const[e,t]=fj(),i=ae.useContext(qB);return hn.createElement(mj,{...n,layoutGroup:i,switchLayoutGroup:ae.useContext(YB),isPresent:e,safeToRemove:t})}const gj={borderRadius:{...Zd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zd,borderTopRightRadius:Zd,borderBottomLeftRadius:Zd,borderBottomRightRadius:Zd,boxShadow:pj},eD=["TopLeft","TopRight","BottomLeft","BottomRight"],vj=eD.length,QT=n=>typeof n=="string"?parseFloat(n):n,ZT=n=>typeof n=="number"||mt.test(n);function yj(n,e,t,i,r,s){r?(n.opacity=gn(0,t.opacity!==void 0?t.opacity:1,xj(i)),n.opacityExit=gn(e.opacity!==void 0?e.opacity:1,0,_j(i))):s&&(n.opacity=gn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<vj;o++){const a=`border${eD[o]}Radius`;let l=$T(e,a),c=$T(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||ZT(l)===ZT(c)?(n[a]=Math.max(gn(QT(l),QT(c),i),0),(Ys.test(c)||Ys.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=gn(e.rotate||0,t.rotate||0,i))}function $T(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const xj=tD(0,.5,wI),_j=tD(.5,.95,In);function tD(n,e,t){return i=>i<n?0:i>e?1:t(ff(n,e,i))}function e2(n,e){n.min=e.min,n.max=e.max}function Vr(n,e){e2(n.x,e.x),e2(n.y,e.y)}function t2(n,e,t,i,r){return n-=e,n=F0(n,1/t,i),r!==void 0&&(n=F0(n,1/r,i)),n}function Aj(n,e=0,t=1,i=.5,r,s=n,o=n){if(Ys.test(e)&&(e=parseFloat(e),e=gn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=gn(s.min,s.max,i);n===s&&(a-=e),n.min=t2(n.min,e,t,a,r),n.max=t2(n.max,e,t,a,r)}function n2(n,e,[t,i,r],s,o){Aj(n,e[t],e[i],e[r],e.scale,s,o)}const Sj=["x","scaleX","originX"],wj=["y","scaleY","originY"];function i2(n,e,t,i){n2(n.x,e,Sj,t?t.x:void 0,i?i.x:void 0),n2(n.y,e,wj,t?t.y:void 0,i?i.y:void 0)}function r2(n){return n.translate===0&&n.scale===1}function nD(n){return r2(n.x)&&r2(n.y)}function Mj(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function iD(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function s2(n){return Cr(n.x)/Cr(n.y)}class bj{constructor(){this.members=[]}add(e){Xw(this.members,e),e.scheduleRender()}remove(e){if(Jw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function o2(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:d}=t;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),d&&(i+=`rotateY(${d}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const Ej=(n,e)=>n.depth-e.depth;class Cj{constructor(){this.children=[],this.isDirty=!1}add(e){Xw(this.children,e),this.isDirty=!0}remove(e){Jw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ej),this.isDirty=!1,this.children.forEach(e)}}function Tj(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Wo(i),n(s-e))};return rn.read(i,!0),()=>Wo(i)}function Rj(n){window.MotionDebug&&window.MotionDebug.record(n)}function Pj(n){return n instanceof SVGElement&&n.tagName!=="svg"}function Lj(n,e,t){const i=lr(n)?n:$u(n);return i.start(Ww("",i,e,t)),i.animation}const a2=["","X","Y","Z"],Bj={visibility:"hidden"},l2=1e3;let Ij=0;const Rl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function rD({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Ij++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Rl.totalNodes=Rl.resolvedTargetDeltas=Rl.recalculatedProjection=0,this.nodes.forEach(Fj),this.nodes.forEach(Hj),this.nodes.forEach(Gj),this.nodes.forEach(Oj),Rj(Rl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Cj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Pj(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let f;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Tj(p,250),Vg.hasAnimatedSinceResize&&(Vg.hasAnimatedSinceResize=!1,this.nodes.forEach(u2))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||Jj,{onLayoutAnimationStart:A,onLayoutAnimationComplete:g}=d.getProps(),_=!this.targetLayout||!iD(this.targetLayout,v)||m,S=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,S);const M={...jw(x,"layout"),onPlay:A,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else p||u2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Vj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c2);return}this.isUpdating||this.nodes.forEach(Uj),this.isUpdating=!1,this.nodes.forEach(zj),this.nodes.forEach(Dj),this.nodes.forEach(Nj),this.clearAllSnapshots();const a=performance.now();Ci.delta=ja(0,1e3/60,a-Ci.timestamp),Ci.timestamp=a,Ci.isProcessing=!0,Wx.update.process(Ci),Wx.preRender.process(Ci),Wx.render.process(Ci),Ci.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(kj),this.sharedNodes.forEach(jj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!nD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Tl(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),qj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return kn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(ya(a.x,l.offset.x),ya(a.y,l.offset.y)),a}removeElementScroll(o){const a=kn();Vr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){Vr(a,o);const{scroll:p}=this.root;p&&(ya(a.x,-p.offset.x),ya(a.y,-p.offset.y))}ya(a.x,d.offset.x),ya(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=kn();Vr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ru(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Tl(d.latestValues)&&Ru(l,d.latestValues)}return Tl(this.latestValues)&&Ru(l,this.latestValues),l}removeTransform(o){const a=kn();Vr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Tl(c.latestValues))continue;xA(c.latestValues)&&c.updateSnapshot();const d=kn(),f=c.measurePageBox();Vr(d,f),i2(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Tl(this.latestValues)&&i2(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ci.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ci.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),Oh(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=kn(),this.targetWithTransforms=kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vr(this.target,this.layout.layoutBox),KI(this.target,this.targetDelta)):Vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),Oh(this.relativeTargetOrigin,this.target,m.target),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||xA(this.parent.latestValues)||YI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ci.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Vr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;rj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Tu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Tu(),this.projectionDeltaWithTransform=Tu());const x=this.projectionTransform;Fh(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=o2(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Rl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Tu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=kn(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,A=this.getStack(),g=!A||A.members.length<=1,_=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(Xj));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const T=M/1e3;d2(f.x,o.x,T),d2(f.y,o.y,T),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oh(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Wj(this.relativeTarget,this.relativeTargetOrigin,p,T),S&&Mj(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=kn()),Vr(S,this.relativeTarget)),x&&(this.animationValues=d,yj(d,c,this.latestValues,T,_,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rn.update(()=>{Vg.hasAnimatedSinceResize=!0,this.currentAnimation=Lj(0,l2,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(l2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&sD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||kn();const f=Cr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Cr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Vr(a,l),Ru(a,d),Fh(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new bj),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<a2.length;d++){const f="rotate"+a2[d];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Bj;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Gg(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Gg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Tl(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=o2(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in R0){if(p[x]===void 0)continue;const{correct:A,applyTo:g}=R0[x],_=c.transform==="none"?p[x]:A(p[x],f);if(g){const S=g.length;for(let M=0;M<S;M++)c[g[M]]=_}else c[x]=_}return this.options.layoutId&&(c.pointerEvents=f===this?Gg(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(c2),this.root.sharedNodes.clear()}}}function Dj(n){n.updateLayout()}function Nj(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Wr(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=Cr(p);p.min=i[f].min,p.max=p.min+m}):sD(s,t.layoutBox,i)&&Wr(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=Cr(i[f]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+m)});const a=Tu();Fh(a,i,t.layoutBox);const l=Tu();o?Fh(l,n.applyTransform(r,!0),t.measuredBox):Fh(l,i,t.layoutBox);const c=!nD(a);let d=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=kn();Oh(v,t.layoutBox,p.layoutBox);const x=kn();Oh(x,i,m.layoutBox),iD(v,x)||(d=!0),f.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=v,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function Fj(n){Rl.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Oj(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function kj(n){n.clearSnapshot()}function c2(n){n.clearMeasurements()}function Uj(n){n.isLayoutDirty=!1}function zj(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function u2(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Hj(n){n.resolveTargetDelta()}function Gj(n){n.calcProjection()}function Vj(n){n.resetRotation()}function jj(n){n.removeLeadSnapshot()}function d2(n,e,t){n.translate=gn(e.translate,0,t),n.scale=gn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function h2(n,e,t,i){n.min=gn(e.min,t.min,i),n.max=gn(e.max,t.max,i)}function Wj(n,e,t,i){h2(n.x,e.x,t.x,i),h2(n.y,e.y,t.y,i)}function Xj(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Jj={duration:.45,ease:[.4,0,.1,1]},f2=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),p2=f2("applewebkit/")&&!f2("chrome/")?Math.round:In;function m2(n){n.min=p2(n.min),n.max=p2(n.max)}function qj(n){m2(n.x),m2(n.y)}function sD(n,e,t){return n==="position"||n==="preserve-aspect"&&!vA(s2(e),s2(t),.2)}const Yj=rD({attachResizeListener:(n,e)=>Lo(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),n_={current:void 0},oD=rD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!n_.current){const n=new Yj({});n.mount(window),n.setOptions({layoutScroll:!0}),n_.current=n}return n_.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Kj={pan:{Feature:hj},drag:{Feature:dj,ProjectionNode:oD,MeasureLayout:$I}},Qj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Zj(n){const e=Qj.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function AA(n,e,t=1){const[i,r]=Zj(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return GI(o)?parseFloat(o):o}else return uA(r)?AA(r,e,t+1):r}function $j(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!uA(s))return;const o=AA(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!uA(s))continue;const o=AA(s,i);o&&(e[r]=o,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const eW=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),aD=n=>eW.has(n),tW=n=>Object.keys(n).some(aD),g2=n=>n===gc||n===mt,v2=(n,e)=>parseFloat(n.split(", ")[e]),y2=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return v2(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?v2(s[1],n):0}},nW=new Set(["x","y","z"]),iW=kf.filter(n=>!nW.has(n));function rW(n){const e=[];return iW.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const ed={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:y2(4,13),y:y2(5,14)};ed.translateX=ed.x;ed.translateY=ed.y;const sW=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=ed[c](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),n[c]=ed[c](l,s)}),n},oW=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(aD);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let d=t[l],f=Qd(d);const p=e[l];let m;if(L0(p)){const v=p.length,x=p[0]===null?1:0;d=p[x],f=Qd(d);for(let A=x;A<v&&p[A]!==null;A++)m?Uw(Qd(p[A])===m):m=Qd(p[A])}else m=Qd(p);if(f!==m)if(g2(f)&&g2(m)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===mt&&(e[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?c.set(m.transform(d)):e[l]=f.transform(p):(o||(s=rW(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=sW(e,n,a);return s.length&&s.forEach(([d,f])=>{n.getValue(d).set(f)}),n.render(),yv&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function aW(n,e,t,i){return tW(e)?oW(n,e,t,i):{target:e,transitionEnd:i}}const lW=(n,e,t,i)=>{const r=$j(n,e,i);return e=r.target,i=r.transitionEnd,aW(n,e,t,i)},SA={current:null},lD={current:!1};function cW(){if(lD.current=!0,!!yv)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>SA.current=n.matches;n.addListener(e),e()}else SA.current=!1}function uW(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(lr(s))n.addValue(r,s),N0(i)&&i.add(r);else if(lr(o))n.addValue(r,$u(s,{owner:n})),N0(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,$u(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const x2=new WeakMap,cD=Object.keys(hf),dW=cD.length,_2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],hW=Lw.length;class fW{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>rn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=_v(t),this.isVariantNode=JB(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{});for(const f in d){const p=d[f];a[f]!==void 0&&lr(p)&&(p.set(a[f],!1),N0(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,x2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),lD.current||cW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:SA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){x2.delete(this.current),this.projection&&this.projection.unmount(),Wo(this.notifyUpdate),Wo(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=mc.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&rn.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let o,a;for(let l=0;l<dW;l++){const c=cD[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=hf[c];p&&(o=p),d(t)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&Eu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<_2.length;i++){const r=_2[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=uW(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<hW;i++){const r=Lw[i],s=this.props[r];(df(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=$u(t,{owner:this}),this.addValue(e,i)),i}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=kw(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!lr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new qw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class uD extends fW{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=PV(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){TV(this,i,o);const a=lW(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function pW(n){return window.getComputedStyle(n)}class mW extends uD{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(mc.has(t)){const i=Vw(t);return i&&i.default||0}else{const i=pW(e),r=(ZB(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return QI(e,t)}build(e,t,i,r){Iw(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Ow(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;lr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){rI(e,t,i,r)}}class gW extends uD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(mc.has(t)){const i=Vw(t);return i&&i.default||0}return t=sI.has(t)?t:Rw(t),e.getAttribute(t)}measureInstanceViewportBox(){return kn()}scrapeMotionValuesFromProps(e,t){return aI(e,t)}build(e,t,i,r){Nw(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){oI(e,t,i,r)}mount(e){this.isSVGTag=Fw(e.tagName),super.mount(e)}}const vW=(n,e)=>Bw(n)?new gW(e,{enableHardwareAcceleration:!1}):new mW(e,{enableHardwareAcceleration:!0}),yW={layout:{ProjectionNode:oD,MeasureLayout:$I}},xW={...WV,...d9,...Kj,...yW},yr=x8((n,e)=>Z8(n,e,xW,vW)),Tm={open:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:24}},closed:{opacity:0,y:20,transition:{duration:.2}}};function _W({setIsDev:n}){const[e,t]=ae.useState(!1);return ae.useEffect(()=>{ms(400,0,0,ss.first,"canvas-bubble"),ms(200,600,0,ss.second,"canvas-bubble"),ms(400,800,0,ss.second,"canvas-bubble");const i=document.getElementById("canvas-bubble");i&&setTimeout(()=>{i.style.opacity="1",i.style.transition="opacity 0.5s ease-in-out"},1e3)},[]),C.jsxs("div",{className:"relative",children:[C.jsx(GB,{color1:ss.first,color2:ss.second}),C.jsxs("div",{className:"head-content",children:[C.jsx("div",{className:"absolute top-0 left-0 right-0 h-72 opacity-20 ",children:C.jsx("div",{className:"fade-in",style:{width:"100%",height:"100%",animationDelay:"0.6s",animationDuration:"1s"},children:C.jsx("canvas",{id:"canvas-bubble",height:"360",width:"1241",style:{width:"100%",height:"100%",opacity:0}})})}),C.jsx(gB,{setIsDev:n,firstColor:ss.first,secondColor:ss.second})]}),C.jsx("div",{className:"py-8 lg:py-16 flex items-center px-6",children:C.jsxs("div",{className:"text-center mx-auto inline-block",children:[C.jsx("div",{className:"py-2 z-1 px-6 gradient-border-badge relative bg-transparent inline-flex items-center justify-center",children:C.jsx("span",{className:"z-10 text-sm lg:text-base bg-clip-text text-transparent font-semibold relative -top-px",style:{background:`linear-gradient(to right, ${ss.first}, ${ss.second})`,WebkitBackgroundClip:"text",color:"transparent",textDecoration:"none"},children:"DevPortfolio"})}),C.jsxs("h1",{className:"text-3xl lg:text-6xl leading-tight max-w-3xl font-bold tracking-tight mt-6 mx-auto",children:[C.jsx("a",{style:{background:`linear-gradient(to right, ${ss.third}, #000000, #000000)`,WebkitBackgroundClip:"text",color:"transparent",textDecoration:"none"},children:"Éric PHILIPPE"})," ","- Développeur"," ",C.jsx("a",{style:{background:`linear-gradient(to right, #000000, #000000, #000000, ${ss.third})`,WebkitBackgroundClip:"text",color:"transparent",textDecoration:"none"},children:"FullStack"})]}),C.jsxs("div",{className:"max-w-3xl mx-auto lg:text-xl text-gray-600 mt-3 leading-normal font-light",children:["Développeur FullStack de ",VB()," ans, passionné par le code et doté d'une solide expertise informatique."]})]})}),C.jsxs("div",{className:"bg-white/90 backdrop-blur backdrop-filter sticky top-0 z-10 lg:py-6",children:[C.jsx("div",{className:"lg:hidden",children:C.jsxs(yr.nav,{initial:!1,animate:e?"open":"closed",className:"menu",children:[C.jsxs(yr.button,{whileTap:{scale:.97},onClick:()=>t(!e),className:"menu-button",children:["Réalisations",C.jsx(yr.div,{variants:{open:{rotate:180},closed:{rotate:0}},transition:{duration:.2},style:{originY:.55},children:C.jsx("svg",{width:"15",height:"15",viewBox:"0 0 20 20",children:C.jsx("path",{d:"M0 7 L 20 7 L 10 16"})})})]}),C.jsxs(yr.ul,{className:"p-4 font-semibold",variants:{open:{clipPath:"inset(0% 0% 0% 0% round 10px)",transition:{type:"spring",bounce:0,duration:.7,delayChildren:.3,staggerChildren:.05},display:"block"},closed:{clipPath:"inset(10% 50% 90% 50% round 10px)",transition:{type:"spring",bounce:0,duration:.3},display:"none"}},style:{position:"absolute",zIndex:1,pointerEvents:e?"auto":"none",width:"95%"},children:[C.jsx(yr.li,{variants:Tm,onClick:()=>{var i;t(!e),(i=document.getElementById("realisations"))==null||i.scrollIntoView({behavior:"smooth"})},children:"Réalisations"}),C.jsx(yr.li,{variants:Tm,onClick:()=>{var i;t(!e),(i=document.getElementById("competences"))==null||i.scrollIntoView({behavior:"smooth"})},children:"Mes compétences"}),C.jsx(yr.li,{variants:Tm,onClick:()=>{var i;t(!e),(i=document.getElementById("about"))==null||i.scrollIntoView({behavior:"smooth"})},children:"Parcours"}),C.jsx(yr.li,{variants:Tm,onClick:()=>{var i;t(!e),(i=document.getElementById("contact"))==null||i.scrollIntoView({behavior:"smooth"})},children:"Contact"})]})]})}),C.jsx("div",{className:"hidden lg:block container",children:C.jsxs("nav",{className:"flex items-center justify-between font-medium text-sm uppercase tracking-widest ml-32",children:[C.jsx("a",{className:"inline-flex flex-1 justify-center transition-all text-gray-900 font-medium",href:"#realisations",children:"Réalisations"}),C.jsx("a",{className:"inline-flex flex-1 justify-center transition-all text-gray-400 hover:text-gray-900",href:"#competences",children:"Mes compétences"}),C.jsx("a",{className:"inline-flex flex-1 justify-center transition-all text-gray-400 hover:text-gray-900",href:"#about",children:"Parcours"}),C.jsx("a",{className:"inline-flex flex-1 justify-center transition-all text-gray-400 hover:text-gray-900",href:"#contact",children:"Contact"})]})})]})]})}function AW({project:n,setFocus:e,index:t}){const[i,r]=ae.useState(!1);return C.jsx("div",{className:"rounded-3xl overflow-hidden col-span-full lg:col-span-1","data-projection-id":"18",style:{opacity:1,transform:"none"},children:C.jsxs("div",{className:"group relative focus:outline-none block border border-black py-4 lg:py-10 px-6 lg:px-14 bg-white overflow-hidden transform transition hover:scale-[1.01] h-full will-change-transform rounded-3xl cursor-pointer",onClick:()=>{e(t)},children:[C.jsxs("div",{className:"relative mr-4 lg:mr-8 w-full z-10",children:[C.jsx("h3",{className:"font-[900] tracking-tight text-3xl",children:n.title.length>10&&window.innerWidth<1024?C.jsx("span",{className:"text-2xl",children:n.title}):n.title}),C.jsx("div",{className:"relative",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:C.jsx("button",{className:"absolute z-40 top-[-30px] lg:-right-3 -right-1 px-3 py-1 rounded-md text-sm font-semibold transition-all duration-300 ease-in-out hover:bg-gh-marketingLight hover:text-gh-marketingDark",children:C.jsx(Iz,{})})}),C.jsx("img",{src:n.previewImg,alt:"Project preview",className:`absolute top-1 right-1 transition-all duration-500 ease-in-out transform origin-top-right ${i?"opacity-100 scale-150":"opacity-0 scale-100"}`,style:{maxWidth:"67%",objectFit:"cover",borderRadius:"10px",zIndex:i?50:-1}}),C.jsx("div",{className:"text-gh-textLight mt-3",children:n.date}),C.jsx("div",{className:"mt-4",children:C.jsx("div",{className:"inline-block rounded-md px-3 py-2 uppercase tracking-widest text-xs font-semibold",style:{background:n.tag.fadedColor,color:n.tag.color},children:n.tag.name})}),C.jsx("div",{className:"flex flex-wrap mt-3",children:n.techs.map(s=>C.jsx("span",{className:"inline-block rounded-md px-2 py-1 mr-2 mb-3 text-gray-800 bg-slate-50 text-xs font-semibold",style:{borderColor:l8(s),borderWidth:"1px"},children:s},s))}),C.jsx("div",{className:"font-light mt-5 pb-5 text-lg mb-8",style:{fontSize:"1.25rem"},children:n.shortDesc}),C.jsx("a",{href:n.gitLink,className:"absolute -bottom-6 xl:-bottom-8 right-4 lg:-right-1 sm:right-2",children:C.jsxs("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",children:[C.jsx("title",{children:"GitHub icon"}),C.jsx("path",{fill:"currentColor",d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.604-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.605-.015 2.905-.015 3.3 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})]})})]}),C.jsxs("div",{className:"absolute top-0 bottom-0 right-0 w-[max(30em,50%)] opacity-80",children:[C.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 1 1",preserveAspectRatio:"none",children:[C.jsx("defs",{children:C.jsxs("linearGradient",{id:"pj-"+n.title.split(" ").join("-"),x1:"0",y1:"1",x2:"1",y2:"0",children:[C.jsx("stop",{offset:"0",stopColor:n.tag.secColor}),C.jsx("stop",{offset:"1",stopColor:n.tag.secGradientColor})]})}),C.jsx("path",{d:"M0 1 Q 0.8 0.8 1 0 L 1 1 Z",fill:`url(#pj-${n.title.split(" ").join("-")})`})]}),C.jsx("div",{className:"absolute inset-0 bg-white transition duration-300 group-hover:translate-x-[120%] will-change-transform"})]})]})})}const O0={name:"Fullstack",color:"rgb(51, 129, 245)",fadedColor:"rgba(51, 129, 245, 0.2)",secColor:"#95d1f9",secGradientColor:"#99e9c8"},dD={name:"Frontend",color:"rgb(123, 81, 220)",fadedColor:"rgba(123, 81, 220, 0.2)",secColor:"#3e62c0",secGradientColor:"#9d78d2"},hD={name:"Backend",color:"rgb(51, 245, 51)",fadedColor:"rgba(51, 245, 51, 0.2)",secColor:"#8D4DC7",secGradientColor:"#01A2C2"},fD={name:"Bot",color:"rgb(245, 51, 245)",fadedColor:"rgba(245, 51, 245, 0.2)",secColor:"#db6f02",secGradientColor:"#b507fa"},pD={name:"Tool",color:"rgb(145, 39, 7)",fadedColor:"rgba(145, 39, 7, 0.2)",secColor:"#b0c9f5",secGradientColor:"#912707"},mD={name:"Challenge",color:"rgb(242, 81, 17)",fadedColor:"rgba(242, 81, 17, 0.2)",secColor:"#f25111",secGradientColor:"#63d498"},SW=[O0,dD,hD,pD,fD,mD],wW=n=>{switch(n){case"FULLSTACK":return O0;case"FRONTEND":return dD;case"BACKEND":return hD;case"TOOL":return pD;case"BOT":return fD;case"CHALLENGE":return mD;default:return O0}},MW=n=>{switch(n.name){case"Fullstack":return C.jsx(ZC,{style:{marginRight:"0.5rem"}});case"Frontend":return C.jsx(mB,{style:{marginRight:"0.5rem"}});case"Backend":return C.jsx(Lz,{style:{marginRight:"0.5rem"}});case"Tool":return C.jsx(Fz,{style:{marginRight:"0.5rem"}});case"Bot":return C.jsx(Nz,{style:{marginRight:"0.5rem"}});case"Challenge":return C.jsx(Dz,{style:{marginRight:"0.5rem"}});default:return C.jsx(ZC,{style:{marginRight:"0.5rem"}})}},bW=[{tag:"FRONTEND",content:`<h3>Présentation</h3><p>Mon portfolio est un site web qui me permet de présenter mes projets et compétences en développement et photographie. Il est construit avec React et Vite, et utilise TailwindCSS pour le style. Il est écrit en TypeScript et est déployé automatiquement sur <code>GitHub Pages</code> grâce à <code>GitHub Actions</code>.</p><p>L'application est une <code>SPA (Single Page Application)</code>. Elle est responsive et s'adapte à tous les écrans.</p><h3>Contexte</h3><p>Ce projet a été réalisé dans le cadre de mon développement personnel. Il me permet de présenter mes projets et compétences en développement et photographie. Il me permet également de mettre en pratique mes compétences en développement web, et de me concentrer particulièrement sur le design et l'expérience utilisateur.</p><h3>Fonctionnalités</h3><p>L'application présente les sections suivantes :</p><ul><li>Présentation de mes projets et compétences en développement et photographie</li><li>Affichage des projets et compétences par catégories</li><li>Affichage de mes compétences</li><li>Affichage de mon parcours</li><li>Affichage de mes coordonnées et section de contact</li></ul><h3>Développement</h3><h4>Installation</h4><blockquote>> Prérequis : Node.js</blockquote><pre><code class="language-bash">git clone https://github.com/Eric-Philippe/portfolio.git

cd portfolio

npm install

npm run dev</code></pre><h3>PPP - Évolution des compétences</h3><p>La création de mon portfolio a été une expérience enrichissante, mettant en avant le développement et l'intégration de compétences variées. Pour répondre à la compétence "Choisir et implémenter les architectures adaptées", j'ai fait un choix délibéré en optant pour React et Vite, des technologies modernes permettant une gestion efficace des composants et un chargement rapide. L'utilisation de TailwindCSS, illustrant la compétence "Concevoir et développer des applications communicantes", a permis de concevoir une interface claire et réactive, optimisant ainsi l'expérience utilisateur.</p><p>La mise en œuvre de GitHub Actions pour le déploiement automatique sur GitHub Pages a renforcé la compétence "Intégrer des solutions dans un environnement de production". Cette automatisation témoigne d'une gestion avancée du cycle de vie du développement logiciel. De plus, l'utilisation de TypeScript a permis de renforcer la sécurité du code, alignant le projet avec les exigences de "Sécuriser les services et données d’un système".</p><p>La nature responsive du site, adaptée à divers écrans, représente une évolution dans la compétence "Anticiper les résultats de diverses métriques", en prêtant attention à l'expérience utilisateur sur différentes plateformes. L'application sert également de vitrine pour mes compétences en photographie, élargissant ainsi le champ d'application à la compétence "Choisir et utiliser des bibliothèques et méthodes dédiées au domaine d'application".</p><p>En résumé, la création de mon portfolio a été l'occasion de consolider les compétences existantes tout en explorant de nouveaux domaines, reflétant une évolution significative dans ma maîtrise du développement web et de la présentation visuelle de projets.</p>`,previewImg:"https://raw.githubusercontent.com/Eric-Philippe/portfolio/main/res/dev_portfolio.png",techs:[["React"],["Vite"],["TailwindCSS"],["TypeScript"],["CI/CD"],["Python"]],title:"Portfolio",date:"Janvier 2024",shortDesc:"Portfolio web mettant en valeur mes projets et compétences en développement et photographie. Découvrez mon parcours créatif.",gitLink:"https://github.com/Eric-Philippe/portfolio"},{tag:"FULLSTACK",content:`<h3>Présentation</h3><p>Glitch and Books est un gestionnaire bibliothécaire en ligne. Il permet d'enregistrer des livres, de les trier, et de les explorer avec des statistiques. Il est construit avec <code>React</code> et <code>Bootstrap</code>, et utilise une base de données <code>PostgreSQL</code>. Il est écrit en <code>TypeScript</code> et est déployé automatiquement sur mon serveur Personnel grâce à <code>GitHub Actions</code>.</p><h3>Contexte</h3><p>Ce projet a été réalisé pour répondre aux besoins d'un proche qui n'était pas satisfait des solutions déjà existantes. Il permet de gérer une bibliothèque de livres, enregistrant les informations de base (titre, auteur, édition, etc.) ainsi que des informations plus détaillées (date de lecture, note, etc.). Il permet également de trier les livres par catégories, et d'explorer les statistiques de lecture.</p><img src="https://raw.githubusercontent.com/Eric-Philippe/GlitchAndBooks/main/img/stat-first.png" alt="Stats"><h3>Fonctionnalités</h3><p>L'application présente les sections suivantes :</p><ul><li>Système complet d'authentification et de gestion de compte</li><li>Enregistrement de livres avec informations de base et informations détaillées</li><li>Tri des livres par catégories</li><li>Affichage des statistiques de lecture</li><li>Affichage des livres enregistrés</li><li>Affichage des informations de compte</li></ul><blockquote>> Bientôt: Recommandations de livres et Wishlist</blockquote><h3>Accéder à l'application</h3><p>L'application est accessible à l'adresse suivante :</p><a href="https://glitchandbooks.fr">https://glitchandbooks.fr</a><h3>PPP - Évolution des Compétences</h3><p>La conception et la réalisation de Glitch and Books ont représenté une étape significative dans le développement de mes compétences. En conformité avec la compétence "Choisir et implémenter les architectures adaptées", le choix de React et Bootstrap a permis de créer une interface utilisateur réactive et conviviale. L'utilisation de TypeScript a été essentielle pour garantir la robustesse du code, alignant le projet avec les normes de pour sécuriser les services et données d’un système.</p><p>L'intégration d'une base de données PostgreSQL et le déploiement automatique sur un serveur personnel via GitHub Actions démontrent une maîtrise croissante des compétences pour intégrer des solutions dans un environnement de production". La gestion de l'authentification et des comptes, conforme aux compétences consistant à concevoir et développer des applications communicantes", témoigne de la mise en pratique des compétences avancées en sécurité.</p><p>Dans le contexte du projet, la réponse aux besoins spécifiques d'un proche a mis en valeur des compétences pour formaliser les besoins du client et de l'utilisateur. La création d'une application complète, avec des fonctionnalités telles que l'enregistrement détaillé des livres, le tri par catégories, et les statistiques de lecture, illustre l'évolution dans le domaine pour profiler, analyser et justifier le comportement d’un code existant" en assurant une gestion efficace et optimale du code.</p><p>Les prochaines fonctionnalités prévues, notamment les recommandations de livres et la wishlist, anticipent la satisfaction continue des besoins des utilisateurs, soulignant une compréhension avancée pour dentifier les critères de faisabilité d’un projet informatique et anticiper les résultats de diverses métriques.</p><p>En conclusion, Glitch and Books représente une réalisation majeure, marquée par l'évolution et l'application de compétences variées en développement web, gestion de bases de données et réponse proactive aux besoins des utilisateurs.</p>`,previewImg:"https://raw.githubusercontent.com/Eric-Philippe/GlitchAndBooks/main/img/browse.png",techs:[["React"],["Bootstrap"],["PostgreSQL"],["TypeScript"],["Express"],["CI/CD"]],title:"Glitch and Books",date:"Octobre 2023",shortDesc:"Gestionnaire bibliothécaire en ligne. Enregistrez, triez, et explorez vos livres avec des statistiques et bientôt des recommandations.",gitLink:"https://github.com/Eric-Philippe/GlitchAndBooks"},{tag:"TOOL",content:`<h3>Présentation</h3><p>"JuliaMarkdownJoy" est un outil versatile en codé en <code>Julia</code> permettant d'analyser des fichiers Markdown en <code>JSON</code>, d'extraire des champs spécifiques, et de convertir le tout en <code>HTML</code>. Il profite d'une intégration continue avec <code>GitHub Actions</code>, afin de garantir un déploiement <strong>rapide</strong> et <strong>fiable</strong>.</p><h3>Performance</h3><p>Julia Markdown Joy permet de parser plus de <code>100_000</code> fichiers markdown en <code>JSON</code> en moins de <code>3</code> secondes !</p><h3>Contexte</h3><p>Ce projet a été réalisé dans le cadre de mon développement de mon portfolio. Il me permet de générer des fichiers <code>JSON</code> à partir de fichiers <code>Markdown</code>, afin de les utiliser dans mon portfolio. Il me permet également de mettre en pratique mes compétences en développement et de me concentrer particulièrement sur <strong>l'automatisation</strong>.</p><h3>Fun Fact</h3><p>Vous consultez actuellement le rendu d'un fichier <code>Markdown</code> généré par <strong>"JuliaMarkdownJoy"</strong> !</p><h3>Fonctionnalités</h3><p>L'application présente les sections suivantes :</p><ul><li>Parser : Analyse des fichiers Markdown en JSON</li><li>Extractor : Extraction de champs spécifiques</li><li>Converter : Conversion en HTML</li></ul><h3>Développement</h3><blockquote>> Pourquoi Julia ?</blockquote><p>Julia est un langage de programmation dynamique, performant et polyvalent. Il est particulièrement adapté à la manipulation de données, et est utilisé dans de nombreux domaines, notamment la finance, la science et l'ingénierie. Il est également très apprécié pour son écosystème de packages, qui permettent d'étendre ses fonctionnalités.</p><h3>Utilisation</h3><pre><code class="language-bash">> julia JuliaMarkdownJoy/src/run.jl extract -i _projects/ -c _projects/config.json  -o data.json

🎉 10 Markdown files extracted successfully in data.json !</code></pre><h3>PPP - Évolution des compétences</h3><p>Le développement de "JuliaMarkdownJoy" représente une étape significative dans l'évolution de mes compétences, mettant en lumière plusieurs aspects du processus de développement logiciel.</p><p>La compétence "Choisir et implémenter les architectures adaptées" est démontrée par le choix judicieux d'utiliser Julia, un langage de programmation dynamique et polyvalent. Julia offre des performances exceptionnelles, ce qui est crucial pour des tâches exigeantes telles que l'analyse de fichiers Markdown. Ce choix s'aligne également avec la compétence "Choisir et utiliser des bibliothèques et méthodes dédiées au domaine d'application", montrant la pertinence de Julia dans le domaine de la manipulation de données.</p><p>La section "Contexte" souligne l'application concrète des compétences de concevoir et développer des applications communicantes. "JuliaMarkdownJoy" n'est pas seulement un outil isolé, mais une composante intégrée dans le développement de mon portfolio, illustrant une approche systémique du développement logiciel.</p><p>La fonctionnalité "Parser" met en œuvre la compétence profiler, analyser et justifier le comportement d’un code existant. L'analyse des fichiers Markdown en JSON nécessite une compréhension approfondie du fonctionnement interne du langage Julia et des mécanismes de manipulation de fichiers.</p><p>Enfin, le choix de Julia est expliqué dans la section "Développement". Cela va au-delà de la simple compétence technique pour montrer la pensée critique et la prise de décision en matière de langage de programmation, correspondant identifier les critères de faisabilité d’un projet informatique.</p>`,previewImg:"https://media.discordapp.net/attachments/579303130886569984/1196458574566654022/image.png?ex=65b7b3e1&is=65a53ee1&hm=bad4b2530611e221a4d55c9c8657818f055f17f6ca088b79a826aa925ee212c9&=&format=webp&quality=lossless&width=1282&height=662",techs:[["Julia"],["Markdown"],["CI/CD"],["Git"],["Python"]],title:"Julia Markdown Joy",date:"Janvier 2024",shortDesc:'"JuliaMarkdownJoy" - Outil versatile en Julia pour analyser des fichiers Markdown en JSON, extraire des champs spécifiques, et convertir le tout en HTML',gitLink:"https://github.com/Eric-Philippe/JuliaMarkdownJoy"},{tag:"CHALLENGE",content:`<h3>Présentation</h3><p>Advent of Code est un <strong>challenge</strong> de programmation qui a lieu chaque année en décembre. Chaque jour, un nouveau problème est proposé. Afin de rajouter du défi, j'ai décidé de résoudre chaque problème pour l'année 2022 avec un langage différent. J'ai donc eu l'occasion d'utiliser des langages très communs comme <code>Java</code>, <code>Python</code> et <code>C++</code>, mais aussi des langages plus exotiques comme <code>Haskell</code>, <code>Julia</code> et <code>Rust</code>.</p><p>J'ai aussi eu l'occasion d'implémenter les réponses à mes solutions à l'aide du <code>TDD (Test Driven Development)</code>, ce qui m'a permis de mettre en pratique mes compétences en développement et de me concentrer particulièrement sur la qualité du code.</p><p>C'est aussi l'occasion d'implémenter mes connaissances autour des <strong>algorithmes</strong>, <strong>principes mathématiques</strong> et <strong>structures de données</strong>.</p><img src="https://camo.githubusercontent.com/d85c862d5a50652b8a39472cf6f45211b7f75c967a89d8cf0cdfc7acce5ac97e/68747470733a2f2f63646e2e646973636f72646170702e636f6d2f6174746163686d656e74732f3537393330333133303838363536393938342f313035363632363138363930333633343033302f696d6167652e706e67" alt="Advent of Code"><h4>Autres années</h4><p>J'ai également commencé à résoudre les problèmes pour les années précédentes et celle 2023, mais mon ordinateur portable a malheureusement <em>rendu l'âme</em> avant que je puisse terminer, me coupant dans mon élan.</p><h3>Évolution</h3><p>J'ai pour projet de partager toutes mes solutions mutualisées sur un site web permettant d'entrer ses inputs et de voir les solutions correspondantes.</p><h3>PPP - Évolution des compétences</h3><p>Participer à l'Advent of Code a été une expérience formatrice, mettant en avant ma polyvalence dans le choix des langages, de Java à Rust en passant par Haskell et Julia. La résolution quotidienne des problèmes a renforcé mes compétences algorithmiques et m'a permis d'explorer des langages moins courants.</p><p>L'implémentation des solutions avec le Test Driven Development (TDD) a souligné ma préoccupation pour la qualité du code et ma capacité à justifier son comportement ("AC32.02"). Choisir des langages variés a également renforcé ma capacité à choisir et utiliser des bibliothèques spécifiques à chaque domaine d'application.</p><p>L'intention de partager ces solutions sur un site web illustre ma compréhension des enjeux de l'économie de l'innovation numérique. Malgré les obstacles en 2023, cela a mis en lumière mes compétences en gestion de projet.</p><p>En résumé, l'Advent of Code a été un terrain d'apprentissage diversifié, illustrant une évolution substantielle dans la résolution de problèmes, le choix de langages adaptés et la gestion de projets, avec l'engagement continu envers la communauté de développement.</p>`,previewImg:"https://cdn.discordapp.com/attachments/814908646138970122/1193509441941798973/image.png?ex=65acf949&is=659a8449&hm=72640be9e6dc939c4748c71664b4bc34feb7da02102e8bf797e3050871b2092b&",techs:[["Java"],["Python"],["Haskell"],["C++"],["Julia"],["Rust"]],title:"Advent of Code",date:"Décembre 2022",shortDesc:"Résolution de problèmes en programmation en décembre sur le modèle d'un calendrier de l'avent. Chaque jour, un nouveau langage est utilisé pour résoudre un problème différent.",gitLink:"https://github.com/Eric-Philippe/Advent-Of-Code-2022"},{tag:"FULLSTACK",content:`<h3>Contexte</h3><p>Ce projet a été réalisé dans le cadre d'un projet scolaire afin de confirmer nos compétences en <code>PHP</code> et <code>Symfony</code>.</p><p>Cela a été également l'occasion de faire du Web autrement qu'en Js/Ts, et de découvrir le framework Symfony.</p><h3>Objectifs</h3><img src="https://media.discordapp.net/attachments/579303130886569984/1196402244220878930/image.png?ex=65b77f6b&is=65a50a6b&hm=6710c8889f9460a79c68224e256977539bd6496785a6d37b1d182be8e68c459d&=&format=webp&quality=lossless&width=978&height=603" alt="Schéma de l'application"><h3>Fonctionnalités</h3><p>L'application consiste en un <code>CRUD (Create, Read, Update, Delete)</code> de chansons, avec une gestion des chanteurs. J'ai profité de l'occasion pour aiguiser mon utilisation de <code>Bootstrap</code>.</p><h3>PPP - Évolution des compétences</h3><p>Ce projet scolaire a été une opportunité d'affirmer mes compétences en <code>PHP</code> et d'explorer le framework Symfony, élargissant ainsi mes horizons au-delà du développement en JavaScript/TypeScript.</p><p>L'objectif du projet, illustré par le schéma fourni, consistait en la création d'une application avec un ensemble de fonctionnalités CRUD (Create, Read, Update, Delete) pour la gestion de chansons et de chanteurs.</p><p>Le choix de Symfony comme framework a permis de découvrir de nouvelles approches de développement web, renforçant mes compétences dans un environnement PHP plus structuré. L'utilisation de Bootstrap a également été mise à profit pour affiner ma compréhension du design et de l'interface utilisateur.</p>`,previewImg:"https://raw.githubusercontent.com/Eric-Philippe/Basic-Music-Manager-App/main/img/welcome.png",techs:[["PHP"],["Symfony"],["MySQL"],["Bootstrap"]],title:"Music Manager",date:"Décembre 2023",shortDesc:"Projet scolaire de gestion d'une librairie musicale en ligne, vous permettant d'ajouter, modifier, supprimer et afficher des chansons facilement.",gitLink:"https://github.com/Eric-Philippe/Basic-Music-Manager-App"},{tag:"FRONTEND",content:`<h3>Contexte</h3><p>Hillcrest est mon premier projet de développement web réalisé pour une <strong>"client"</strong>. Il s'agit d'un site de promotion pour une association proposant des séjours éducatifs dans des pays anglophones pour les lycéens. Le site a été réalisé entièrement en Vanilla <code>JS</code>, <code>HTML</code> et <code>CSS</code>, sans framework.</p><blockquote>> En fonction de son évolution et de la demande du client, le site pourrait être refait en Angular.</blockquote><h3>Fonctionnalités & Objectifs</h3><p>Le site a été réalisé dans le but de promouvoir l'association et de présenter les différents séjours proposés. On retrouve également la possibilité de pouvoir <strong>basculer entre deux langues</strong> (Français et Anglais) et de pouvoir contacter l'association via un <strong>formulaire envoyant automatiquement un mail</strong>.</p><h3>PPP - Évolution des compétences</h3><p>Hillcrest marque mes premiers pas dans le développement web, conçu pour promouvoir une association proposant des séjours éducatifs dans des pays anglophones pour les lycéens. Le projet a été entièrement réalisé en Vanilla JS, HTML et CSS, démontrant une capacité à créer un site complet sans l'utilisation de frameworks.</p><p>Le choix de ces technologies a permis d'acquérir une compréhension approfondie du développement front-end, soulignant la maîtrise des langages fondamentaux. L'ajout de fonctionnalités telles que la possibilité de basculer entre le français et l'anglais et un formulaire de contact avec envoi de mail a enrichi l'expérience utilisateur et démontré une application pratique des compétences acquises.</p><p>L'anticipation d'une possible refonte du site en Angular, en fonction de l'évolution et des besoins du client, s'inscrit dans une perspective d'adaptabilité et de croissance. Cela reflète la volonté d'explorer des technologies plus avancées tout en restant aligné sur les exigences futures.</p><p>En résumé, Hillcrest représente une réalisation significative dans le développement web, illustrant une compréhension approfondie des langages front-end et ouvrant la porte à une évolution vers des technologies plus avancées, en fonction des besoins du client.</p>`,previewImg:"https://raw.githubusercontent.com/Eric-Philippe/Hillcrest-Website/main/res/image.png",techs:[["HTML"],["CSS"],["JavaScript"],["emailjs"],["CI/CD"]],title:"Hillcrest",date:"Septembre 2023",shortDesc:"Site de promotion pour une association proposant des séjours éducatifs dans des pays anglophones pour les lycéens.",gitLink:"https://github.com/Eric-Philippe/Hillcrest-Website"},{tag:"BOT",content:`<h3>Contexte</h3><p>Kairos Reminder est un bot permettant de créer des rappels pour recevoir des notifications à une date et une heure précises en se basant sur l'API de Discord. Est venu plus tard la possibilité de pouvoir suivre le temps passé sur des activités personnalisées, en ayant ensuite des graphiques et un Excel automatiquement générés.</p><h4>Base de données</h4><p>Ce projet a également était une opportunité de me concentrer sur le côté Base de données, en utilisant de nombreux outils pour développer une architecture robuste et performante. On y retrouve un <code>ORM (TypeORM)</code> pour toute la gestion de la communication avec la base de données. J'ai également pu designer la base à partir de <code>MCD</code> et <code>MLD</code>, en utilisant des outils comme <em>"Looping"</em>.</p><h4>Modularité</h4><p>Kairos est un bot modulaire, avec une architecture complète, permettant de facilement ajouter des fonctionnalités. Chacunes de ses fonctionnalités sont indépendantes les unes des autres, et peuvent être réutilisées dans d'autres projets, étant documentées et testées.</p><p>Exemple :</p><a href="https://github.com/Eric-Philippe/Kairos-Bot-Reminder/blob/master/src/Book/UML_BOOK.plantuml">UML Book</a><p><em>ou encore</em></p><a href="https://github.com/Eric-Philippe/Kairos-Bot-Reminder/blob/master/src/Book/UML_BOOK_COMPONENTS.plantuml">UML Book Components</a><h3>Fonctionnalités</h3><ul><li>Création de rappels personnels</li><li>Création de rappels pour des serveurs (groupes)</li><li>Création de rappels récurrents (Journalier, Jours hors week-end, Hebdomadaire, Mensuel, Annuel...)</li><li>Gestion des différents fuseaux horaires</li><li>Tracking du temps passé sur des activités personnalisées</li><li>Différentes granularités pour l'entrée des activités (Catégorie, Activité, Tâche)</li><li>Graphiques (Chart.js) (Bar, Line, Pie, Doughnut...)</li><li>Excel automatiquement généré (xlsx)</li><li>Node.js</li></ul><img src="https://raw.githubusercontent.com/Eric-Philippe/Kairos-Bot-Reminder/master/img/excel.png" alt="Excel"><img src="https://raw.githubusercontent.com/Eric-Philippe/Kairos-Bot-Reminder/master/PolarAreaGraph.ex.png" alt="Pie Chart"><h3>Publication</h3><p>Kairos est mon premier Bot Discord, partagé au public. Il a été propulsé par différents sites (<em>Top.gg, Discord Bot List</em>...) et compte plus d'une <strong>centaine d'utilisateurs</strong> partout dans le monde.</p><h3>Fiabilité</h3><p>Ce bot a connu plusieurs refontes (Js à Ts ...), afin d'être le plus fiable possible pour pouvoir suggérer les rappels <strong>24/7</strong>. Cela est fait à l'aide de <code>pm2</code>, un gestionnaire de processus avancé pour les applications Node.js. On retrouve également une architecture complète semi-autonome, avec un système de logs et de gestion des erreurs, lui permettant de ne pas se bloquer en cas de problème pour continuer son processus.</p><p>Il est aussi déployé à l'aide de <code>CI/CD (GitHub Actions)</code> sur un serveur dédié, lui permettant d'être toujours à jour et de pouvoir être déployé en un clic.</p><img src="https://raw.githubusercontent.com/Eric-Philippe/Kairos-Bot-Reminder/master/src/database/scripts/MCD_Img.png" alt="UML"><h4>Idées d'amélioration</h4><p>J'aimerai introduire certaines fonctionnalités à l'avenir comme par exemple pouvoir repousser un rappel !</p><h3>Installation</h3><h4>Prérequis</h4><ul><li>Node.js</li></ul><h4>Installation</h4><pre><code class="language-bash">git clone https://github.com/Eric-Philippe/Kairos-Bot-Reminder.git

cd Kairos-Bot-Reminder

npm install

npm start</code></pre><h3>PPP - Évolution des compétences</h3><p>Kairos Reminder, mon premier bot Discord, évolue au-delà de ses fonctions de base en offrant une panoplie de fonctionnalités utiles.</p><p>Les rappels personnels et pour des serveurs, ainsi que la possibilité de créer des rappels récurrents, démontrent la flexibilité du bot pour répondre aux divers besoins des utilisateurs. La gestion des fuseaux horaires ajoute une dimension de personnalisation pour s'adapter à une audience mondiale.</p><p>Une caractéristique distinctive est le suivi du temps passé sur des activités personnalisées, avec des graphiques générés automatiquement à l'aide de Chart.js et un fichier Excel pour une analyse plus approfondie.</p><p>Kairos a été partagé publiquement, atteignant plus d'une centaine d'utilisateurs à travers le monde grâce à sa présence sur des sites renommés tels que Top.gg et Discord Bot List.</p><p>La fiabilité du bot est assurée par des mises à niveau régulières, passant de JavaScript à TypeScript, avec une architecture robuste soutenue par pm2 pour une gestion avancée des processus Node.js. Le déploiement continu (CI/CD) à l'aide de GitHub Actions garantit que Kairos est toujours à jour, prêt à être déployé en un clic sur un serveur dédié.</p><p>Les idées d'amélioration, comme la possibilité de repousser un rappel, montrent une volonté continue d'enrichir les fonctionnalités pour offrir une expérience utilisateur encore plus complète à l'avenir.</p>`,previewImg:"https://raw.githubusercontent.com/Eric-Philippe/Kairos-Bot-Reminder/master/img/remindme.png",techs:[["TypeScript"],["PostgreSQL"],["Excel"],["CI/CD"],["Chart.js"],["PlantUML"]],title:"Kairos Reminder",date:"Juillet 2023",shortDesc:"Bot pour générer des rappels et suivre le temps passé sur des activités personnalisées. Consultez les graphiques et Excel automatiquement générés.",gitLink:"https://github.com/Eric-Philippe/Kairos-Bot-Reminder"},{tag:"BOT",content:`<h3>Contexte</h3><p>Cril Bot est un bot Discord dédié au centre des langues <em>(CRIL)</em> de <strong>l'IUT de Rangueil</strong> [Toulouse] dans un contexte d'hybridation de la formation. Ce projet a été développé à l'aide de nombreuses réunions avec les responsables du centre des langues, afin de répondre au mieux à leurs besoins.</p><h3>Fonctionnalités</h3><ul><li>Gestion des activités et coaching en ligne</li><li>Interface Google Sheets pour gérer les activités et les inscriptions</li><li>Help Desk pour les étudiants</li><li>Système d'entrée du serveur avec les dernières nouveautés de l'API Discord</li><li>Des commandes de loisir pour les étudiants et les tuteurs (Tirage au sort, Sondage, Jeux, etc.)</li><li>Cril/Place : Système de dessin collaboratif</li><li>Système de modération et d'administration du serveur</li><li>Système de logs pour les administrateurs</li></ul><p><em>Et bien plus encore...</em></p><h3>Interface communicante - Google Sheets</h3><p>Cril bot communique avec un <code>Google Sheet</code> généré automatiquement à partir d'un modèle. Ce <code>Sheet</code> offre une interface simple et efficace pour faire l'intermédiaire entre les responsables du centre des langues et le bot. Il permet de gérer les activités et les inscriptions, et de générer des rapports <strong>automatiquement</strong>.</p><img src="https://media.discordapp.net/attachments/579303130886569984/1196431589266161674/sheet.png?ex=65b79abf&is=65a525bf&hm=74c8ec5486fccd4ad92dd02f0dfb54ed1adf114fa0c7d4d02d7309ea558577f4&=&format=webp&quality=lossless&width=1332&height=662" alt="Google Sheet"><h3>Documentation</h3><p>La totalité de la documentation utilisateur est disponible à l'adresse suivante :</p><a href="https://eric-p.gitbook.io/cril-bot-documentation/">Git Book</a><h3>PPP - Évolution des compétences</h3><p>Cril Bot, un projet déployé pour le Centre des Langues de l'IUT de Rangueil, Toulouse, démontre une évolution significative de compétences en développement, alignée avec les besoins pratiques de l'hybridation de la formation.</p><p>Le développement de Cril Bot a nécessité des interactions fréquentes avec les responsables du Centre, mettant en lumière la compétence de comprendre et de répondre aux besoins spécifiques des utilisateurs.</p><p>Les fonctionnalités mises en place, telles que la gestion des activités, le système de coaching en ligne, le Help Desk, et l'intégration avec un Google Sheet automatisé, illustrent une maîtrise des langages et des technologies (JavaScript/TypeScript, Discord API, Google Sheets API) au service de fonctionnalités concrètes et pratiques.</p><p>L'utilisation de commandes de loisir, de systèmes de dessin collaboratif, et de fonctionnalités de modération et d'administration démontre une compréhension approfondie des besoins variés du Centre des Langues.</p><p>L'évolution du bot, de la gestion des activités à l'intégration d'un Help Desk et de fonctionnalités de loisir, reflète une capacité à anticiper et à répondre de manière proactive aux exigences changeantes du projet.</p><p>En conclusion, Cril Bot représente un jalon dans le développement, passant des compétences théoriques à une application pratique et personnalisée, confirmant la capacité à créer des solutions adaptées aux besoins réels des utilisateurs.</p>`,previewImg:"https://cdn.discordapp.com/attachments/814908646138970122/1193510420451950602/image.png?ex=65acfa32&is=659a8532&hm=b66c1f64507a5e5994fb2aadf4ab3967c4d7ddd46a5eeeac1de8b62d03e9931f&",techs:[["TypeScript"],["PostgreSQL"],["CI/CD"],["GitBook"],["Python"],["Crontab"]],title:"Cril Bot",date:"Juillet 2023",shortDesc:"Bot dédié au centre des langues de l'IUT de Rangueil. Gère et administre les activités en ligne de manière efficace sur Discord.",gitLink:"https://github.com/Eric-Philippe/Cril-Bot-main"},{tag:"FULLSTACK",content:`<h3>Introduction</h3><p>Cette section répertorie les sous projets réalisés dans le cadre de mon <code>BUT Informatique</code> à l'IUT de Blagnac.</p><p>Ces projets ont été réalisés en groupe de 2 à 7 personnes.</p><h4>Liste des projets référencés :</h4><h5>Password Generator Studies :</h5><a href="https://github.com/Eric-Philippe/PasswordGeneratorStudies">GitHub</a><h5>SAE Manager :</h5><a href="https://github.com/Eric-Philippe/SAE-Manager---IUT-Blagnac/tree/main">GitHub</a><h5>CaptElec :</h5><a href="https://github.com/Eric-Philippe/SAE-ALT-S3-Dev-22-23-CaptElec">GitHub</a><h3>Password Generator Studies 🔐</h3><h4>Introduction</h4><p>Password Generator Studies est un notebook Jupyter décrivant l'étude réalisée sur les mots de passe ainsi que la génération de <em>pseudo</em> aléatoire en informatique.</p><h4>Get Started</h4><p>Afin de lance le notebook, il faut installer <code>Jupyter</code> et <code>Python</code> sur votre machine.</p><p>Une fois installé, il suffit de lancer la commande suivante :</p><pre><code class="language-bash">> git clone https://github.com/Eric-Philippe/PasswordGeneratorStudies.git

> pip install -r requirements.txt

> jupyter notebook.
</code></pre><h3>SAE Manager 📂</h3><h4>Introduction</h4><p>SAE Manager est une application web permettant de gérer les SAE (Situations d'Apprentissage et d'Evaluation) des étudiants de l'IUT de Blagnac.</p><p>Une SAE consiste en un gros projet à réaliser généralement sur une période d'au minimum 3 semaines, impliquant de nombreux moyens pour sa réalisation (humains, matériels, etc...).</p><h4>Description</h4><blockquote>> Je me suis occupé exclusivement de la partie Front-End de ce projet.</blockquote><img src="https://raw.githubusercontent.com/Eric-Philippe/SAE-Manager---IUT-Blagnac/main/documentation/res/img/dash-admin.png" alt="Dashboard Admin"><p>Chaque étudiant peut alors rentrer ses compétences afin de pouvoir profiter du système de création de groupes homogènes automatique.</p><img src="https://raw.githubusercontent.com/Eric-Philippe/SAE-Manager---IUT-Blagnac/main/documentation/res/img/skillz.png" alt="Compétences"><h4>Technologies</h4><table><tbody><tr><td>React</td></tr><tr><td>TypeScript</td></tr><tr><td>PostgreSQL</td></tr><tr><td>C#</td></tr><tr><td>Docker</td></tr><tr><td>Gherkin</td></tr></tbody></table><table><tbody></tbody></table><table><tbody></tbody></table><table><tbody></tbody></table><table><tbody></tbody></table><table><tbody></tbody></table><blockquote>> Le projet utilise Gherkin pour le BDD (Behavior Driven Development)</blockquote><hr><h3>CaptElec 🌡️</h3><h4>Introduction</h4><p>CaptElec est une application web permettant de gérer les capteurs du bâtiment de l'IUT de Blagnac. Elle permet de visualiser les données des capteurs en temps réel, par salle, par étage, et par batiment.</p><h4>Description</h4><p>Vue étage :</p><img src="https://raw.githubusercontent.com/rboulle/SAE-ALT-S3-Dev-22-23-CaptElec-3A-Equipe-2/master/docs/includes/images/view3.png" alt="Vue Étage"><p>Vue bâtiments :</p><img src="https://raw.githubusercontent.com/rboulle/SAE-ALT-S3-Dev-22-23-CaptElec-3A-Equipe-2/master/docs/includes/images/view1.png" alt="Vue Bâtiments"><p>Vue de précision :</p><img src="https://raw.githubusercontent.com/rboulle/SAE-ALT-S3-Dev-22-23-CaptElec-3A-Equipe-2/master/docs/includes/images/view4.png" alt="Vue de précision"><h4>Technologies</h4><p>Le côté front du site a été réalisé en <code>Angular</code> et <code>TypeScript</code>, le back en <code>Express</code> également avec <code>Typescript</code> et la Base de données en <code>PostgreSQL</code>.</p><h3>PPP - Évolution des compétences</h3><p>Au cours de mon parcours en <strong>BUT Informatique</strong>, ma participation à divers projets collaboratifs a révélé une évolution significative de mes compétences. Dans le projet <strong>SAE Manager</strong>, en tant que responsable du Front-End, j'ai mis en œuvre des technologies telles que React, TypeScript et <code>C#</code>, démontrant ainsi ma capacité à choisir et implémenter des architectures adaptées. Le recours au <code>Behavior Driven Development (BDD)</code> avec Gherkin a illustré ma maîtrise des méthodes de développement.</p><p>Un autre projet, CaptElec, a élargi mes compétences en administration et en gestion de données. En utilisant Angular, TypeScript, Express et PostgreSQL, j'ai conçu une application permettant la gestion des capteurs du bâtiment de l'IUT, mettant en avant ma compréhension des aspects liés à la communication Front-End/Back-End et à la manipulation de données hétérogènes.</p><p>Ces expériences ont également mis en évidence des compétences non explicitement mentionnées initialement. La nécessité d'organiser une veille technologique, de guider la conduite du changement informatique et d'identifier les processus pour améliorer les systèmes d'information a émergé de manière naturelle dans la gestion collaborative de ces projets. En somme, ces réalisations témoignent d'une évolution diversifiée et approfondie de mes compétences dans le domaine informatique.</p>`,previewImg:"https://raw.githubusercontent.com/Eric-Philippe/SAE-Manager---IUT-Blagnac/main/documentation/res/img/login-page.png",techs:[["React"],["Python"],["PostgreSQL"],["Docker"],["C#"],["Gherkin"]],title:"School Projects",date:"Décembre 2023",shortDesc:"Collection de projets web et Mathématiques réalisés au cours de mes années d'études. Ces projets sont réalisés en groupe et sont donc le fruit d'un travail d'équipe.",gitLink:"https://github.com/Eric-Philippe/SAE-Manager---IUT-Blagnac"},{tag:"TOOL",content:`<h4>Introduction</h4><p>Skyblog Archiver est un outil en Python permettant d'archiver des blogs Skyrock avant leur disparition dans les limbes de l'Internet.</p><h4>Fonctionnement</h4><p>L'outil fonctionne en deux temps :</p><ul><li>Récupération des données</li><li>Génération du site statique</li></ul><p>Vous pourrez profiter de votre blog archivé en local ou le déployer sur un serveur web. La totalité du site est statique, et possède tout son style <code>CSS</code> et ses images directement.</p><h4>Get Started</h4><pre><code class="language-bash">git clone https://github.com/Eric-Philippe/Skyblog_Archiver.git

chmod +x archiver.sh

./archiver.sh

> ...

> Do you want to launch a local server to see your blog ? [Y/n] Y

> See your blog at http://localhost:8000 !</code></pre><blockquote>> Vous serez invité à entrer votre nom d'utilisateur et votre mot de passe Skyrock</blockquote><img src="https://raw.githubusercontent.com/Eric-Philippe/Skyblog_Archiver/main/res/CLI.png" alt="CLI"><h3>PPP - Évolution des compétences</h3><p>Au cours de la création de Skyblog Archiver, mes compétences en programmation ont évolué de manière significative. En abordant la récupération de données et la génération de sites statiques, j'ai renforcé mes capacités à anticiper les résultats de diverses métriques, notamment en termes de temps d'exécution. La manipulation de données hétérogènes a été mise en pratique.</p><p>De plus, l'aspect interactif de l'interface en ligne de commande témoigne de ma capacité à concevoir des applications communicantes, tout en sécurisant l'accès aux données sensibles grâce à la gestion des identifiants Skyrock. La mise à disposition d'un serveur local démontre également des compétences d'administration et de déploiement sur des serveurs web virtualisés.</p><p>En résumé, le développement de Skyblog Archiver a été une opportunité d'appliquer et d'améliorer plusieurs compétences, notamment dans la récupération et la manipulation de données, la conception d'interfaces communicantes, et le déploiement d'applications.</p>`,previewImg:"https://raw.githubusercontent.com/Eric-Philippe/Skyblog_Archiver/main/res/ex.png",techs:[["Python"],["HTML"],["CSS"],["Shell"],["Batch"]],title:"SkyBlog Archiver",date:"Juin 2023",shortDesc:`"SkyBlog Archiver" - Outil en Python pour archiver des blogs Skyrock avant leur disparition dans les limbes de l'Internet`,gitLink:"https://github.com/Eric-Philippe/Skyblog_Archiver"}],EW=bW;class CW{constructor(e){ti(this,"title","");ti(this,"shortDesc","");ti(this,"tag",O0);ti(this,"techs",[]);ti(this,"date","");ti(this,"gitLink","");ti(this,"previewImg","");ti(this,"content","");this.title=e.title,this.shortDesc=e.shortDesc,this.tag=wW(e.tag),this.techs=e.techs.flat(),this.date=e.date,this.gitLink=e.gitLink,this.previewImg=e.previewImg,this.content=e.content}}const gD=EW.map(n=>new CW(n));function TW({setFocus:n}){const[e,t]=ae.useState(!1),[i,r]=ae.useState("all"),s=()=>{t(!e),o("all")},o=a=>{r(a)};return C.jsx(C.Fragment,{children:C.jsx("section",{className:"scroll-mt-8 lg:scroll-mt-0 mb-5",children:C.jsx("div",{className:"px-0 lg:px-4 overflow-hidden",children:C.jsx("div",{className:"lg:rounded-2xl py-12 lg:py-24 relative z-0 bg-gh-marketingDark",children:C.jsx("div",{className:"project-container",children:C.jsx("div",{className:"grid grid-cols-12",children:C.jsxs("div",{className:"col-span-12 lg:col-span-10 lg:col-start-2 mb-8",children:[C.jsx("div",{className:"relative",children:C.jsx("h2",{className:"text-5xl font-extrabold text-white mb-8 z-10 relative",id:"realisations",children:"Réalisations"})}),C.jsxs("div",{className:"flex flex-wrap",children:[C.jsxs("button",{className:"mb-4 mr-8 px-4 py-2 text-md items-center font-medium opacity-80 m-1 text-white whitespace-nowrap rounded-full focus:ring-0 focus:outline-none hover:bg-white hover:bg-opacity-10 focus:bg-white focus:bg-opacity-10 my-1 transition-all",onClick:s,children:[C.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",className:"inline-block mr-2 mt-[0.1em] opacity-40 text-xl",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M256 185a167.85 167.85 0 01134.9-18.28C382.36 99.83 325.12 48 256 48S129.64 99.83 121.1 166.67A167.85 167.85 0 01256 185zm80 146.73a167.51 167.51 0 01-52.37 118.08A135 135 0 00344 464c75 0 136-61 136-136a136 136 0 00-59.06-112.08A168.53 168.53 0 01336 331.73zm-52.42-125.54a167.87 167.87 0 0149.36 89.89 136.14 136.14 0 0058.06-95.7 135.87 135.87 0 00-107.43 5.81zM176.05 331.73a168.53 168.53 0 01-85-115.81A136 136 0 0032 328c0 75 61 136 136 136a135 135 0 0060.42-14.19 167.51 167.51 0 01-52.37-118.08zm3.01-35.65a167.87 167.87 0 0149.36-89.89A135.87 135.87 0 00121 200.38a136.14 136.14 0 0058.06 95.7zm123.84 49.25a168.22 168.22 0 01-93.8 0A135.9 135.9 0 00256 431.6a135.9 135.9 0 0046.9-86.27zM209 311.62a136 136 0 0094 0 135.93 135.93 0 00-47-87.22 135.93 135.93 0 00-47 87.22z"})}),"Toutes les catégories"]}),C.jsx("div",{className:`flex flex-wrap transition-all duration-1000 transform origin-left ${e?"scale-x-100":"scale-x-0"}`,children:e?SW.map(a=>C.jsx(C.Fragment,{children:C.jsxs("button",{style:{color:a.color,borderColor:a.color,borderWidth:"1px"},className:"-ml-4 mb-4 px-4 py-2 text-md flex items-center font-medium opacity-80 m-1 text-white whitespace-nowrap rounded-full focus:ring-0 focus:outline-none hover:bg-white hover:bg-opacity-10 focus:bg-white focus:bg-opacity-10 mx-8 my-1 transition-all ease-in-out duration-500",onClick:()=>o(a),children:[C.jsx("div",{className:"absolute -inset-20 pointer-events-none"}),MW(a),C.jsx("span",{children:a.name})]},a.name)})):C.jsx(C.Fragment,{})})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:gD.filter(a=>i==="all"?!0:a.tag===i).map((a,l)=>C.jsx(AW,{project:a,setFocus:n,index:l},Math.random()))})]})})})})})})})}const wn=({color1:n})=>{const e=ae.useRef(null);return ae.useEffect(()=>{const t=e.current;if(t){const i=new IntersectionObserver(r=>{r.forEach(s=>{s.isIntersecting?t.classList.add("animate"):t.classList.remove("animate")})});return i.observe(t),()=>{i.unobserve(t)}}},[]),C.jsx("div",{ref:e,className:"h-1 w-ful rounded overflow-hidden mb-2 mt-2 animated-separator",style:{background:`linear-gradient(to right, ${n}, #fff)`}})};function RW(){return C.jsx("section",{className:"bg-no-repeat bg-cover bg-center scroll-mt-8 lg:scroll-mt-0 mb-5",style:{backgroundImage:'url("https://tailwindui.com/img/beams-pricing.png")',borderRadius:"0 0 0 99px"},children:C.jsx("div",{className:"project-container",children:C.jsx("div",{className:"grid grid-cols-12",children:C.jsxs("div",{className:"col-span-12 lg:col-span-10 lg:col-start-2 mb-8",children:[C.jsx("h2",{className:"text-5xl font-extrabold text-[#313131] mb-8 mt-8",id:"competences",children:"Mes compétences"}),C.jsx("h4",{className:"text-2xl font-semibold text-[#313131] mb-4",children:"Techniques"}),C.jsxs("div",{className:"flex flex-wrap justify-center",children:[C.jsx("div",{className:"w-full md:w-1/2 lg:w-1/3 p-3",children:C.jsx("div",{className:"bg-white shadow-lg rounded-lg px-4 py-6",children:C.jsxs("div",{children:[C.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Frontend"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"HTML, CSS, SCSS, Javascript, Typescript, PHP"}),C.jsx(wn,{color1:"#a472e5"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Symfony, React, Angular, Vite"}),C.jsx(wn,{color1:"#ddc4fe"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"TailwindCSS, Bootstrap, MaterialUI"})]})})}),C.jsx("div",{className:"w-full md:w-1/2 lg:w-1/3 p-3",children:C.jsx("div",{className:"bg-white shadow-lg rounded-lg px-4 py-6",children:C.jsxs("div",{children:[C.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Backend"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"JS, TS, Python, Java, Kotlin, C#, Cobol, Ada, Julia"}),C.jsx(wn,{color1:"#ffc9c9"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"NodeJS, Express, NestJS, SpringBoot, Flask, Django"}),C.jsx(wn,{color1:"#fa7171"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"API REST, GraphQL, Websocket, Socket.io"})]})})}),C.jsx("div",{className:"w-full md:w-1/2 lg:w-1/3 p-3",children:C.jsx("div",{className:"bg-white shadow-lg rounded-lg px-4 py-6",children:C.jsxs("div",{children:[C.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Base de données"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"MySQL, PostgreSQL, MongoDB, SQLite, Access"}),C.jsx(wn,{color1:"#52b230"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"ORM, PL/SQL, Migration, Forme Normale, MCD, MLD"}),C.jsx(wn,{color1:"#6de18a"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Datagrip, Oracle SQL Developer, MySQL Workbench"})]})})}),C.jsx("div",{className:"w-full md:w-1/2 lg:w-1/3 p-3",children:C.jsx("div",{className:"bg-white shadow-lg rounded-lg px-4 py-6",children:C.jsxs("div",{children:[C.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Sys Admin"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Shell, Bash, Batch, Powershell, Python"}),C.jsx(wn,{color1:"#5e62d5"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Docker, Kubernetes, Terraform, Grafana"}),C.jsx(wn,{color1:"#3439de"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Linux, Windows, MacOS"})]})})}),C.jsx("div",{className:"w-full md:w-1/2 lg:w-1/3 p-3",children:C.jsx("div",{className:"bg-white shadow-lg rounded-lg px-4 py-6",children:C.jsxs("div",{children:[C.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Versionning"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Git, Github, Gitlab, Bitbucket"}),C.jsx(wn,{color1:"#cbcbcb"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Gitflow, Github Flow"}),C.jsx(wn,{color1:"#cbcbcb"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Gitlab CI, Github Actions, Bitbucket Pipelines"})]})})})]}),C.jsxs("div",{className:"bg-white shadow-lg rounded-lg px-4 py-6 mt-8",children:[C.jsx("h4",{className:"text-2xl font-semibold text-[#313131] mb-4",children:"Soft Skills"}),C.jsxs("div",{className:"flex flex-wrap justify-center",children:[C.jsx("div",{className:"w-full md:w-1/3 lg:w-1/4 p-3",children:C.jsx("div",{className:"bg-white shadow-lg rounded-lg px-4 py-6",children:C.jsxs("div",{children:[C.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Langues"}),C.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Français ",C.jsx("i",{children:"(langue maternelle)"})]}),C.jsx(wn,{color1:"#ca3325"}),C.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Anglais ",C.jsx("i",{children:"(courant)"})]}),C.jsx(wn,{color1:"#1515ff"}),C.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Espagnol ",C.jsx("i",{children:"(notions)"})]}),C.jsx(wn,{color1:"#ffa200"})]})})}),C.jsx("div",{className:"w-full md:w-1/2 lg:w-1/3 p-3",children:C.jsx("div",{className:"bg-white shadow-lg rounded-lg px-4 py-6",children:C.jsxs("div",{children:[C.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Communication"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Esprit d'équipe, Leadership"}),C.jsx(wn,{color1:"#2cb4be"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Gestion du temps, Gestion du stress"}),C.jsx(wn,{color1:"#3ddae6"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Pédagogie, Écoute, Patience"}),C.jsx(wn,{color1:"#42beff"})]})})}),C.jsx("div",{className:"w-full md:w-1/2 lg:w-1/3 p-3",children:C.jsx("div",{className:"bg-[#ffffff] shadow-lg rounded-lg px-4 py-6",children:C.jsxs("div",{children:[C.jsx("h3",{className:"text-2xl font-semibold text-black",children:"Développement Personnel"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Autonomie, Curiosité, Créativité, Persévérance,"}),C.jsx(wn,{color1:"#b62486"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Capacité d'adaptation & d'apprentissage"}),C.jsx(wn,{color1:"#e039a8"}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Résolution de problème en autonomie"}),C.jsx(wn,{color1:"#ff3686"})]})})})]})]})]})})})})}function i_({color1:n,color2:e,percentage:t}){const i=ae.useRef(null);return ae.useEffect(()=>{const r=i.current;if(r){const s=new IntersectionObserver(o=>{o.forEach(a=>{a.isIntersecting?r.classList.add("animate"):r.classList.remove("animate")})});return s.observe(r),()=>{s.unobserve(r)}}}),C.jsx("div",{className:"mt-2 h-2 w-full bg-gray-700 rounded-full mb-4",children:C.jsx("div",{className:"h-full rounded-full animated-separator",ref:i,style:{width:t+"%",background:`linear-gradient(to right, ${n}, ${e})`}})})}const zl={DL_CV:"https://www.dropbox.com/scl/fi/07se8cm9yp25bky4w9npu/Eric-PHILIPPE-CV-2024.pdf?rlkey=rp3i414uf0jtabcnj5qeqneyx&dl=1",GITHUB:"https://github.com/Eric-Philippe",LINKEDIN:"https://www.linkedin.com/in/eric-philippe-800857252/",INSTAGRAM:"https://www.instagram.com/eir_horizon_?igsh=bnd3d3d2ZmhwajE1"};function PW(){const n=window.innerWidth<1024,[e,t]=ae.useState(!1);return C.jsx(C.Fragment,{children:C.jsx("section",{className:"scroll-mt-8 lg:scroll-mt-0 mb-5",children:C.jsx("div",{className:"px-0 lg:px-4 overflow-hidden",children:C.jsx("div",{className:"lg:rounded-2xl py-12 lg:py-24 relative z-0 bg-gh-marketingDark",children:C.jsx("div",{className:"project-container",children:C.jsx("div",{className:"grid grid-cols-12",children:C.jsxs("div",{className:"col-span-12 lg:col-span-10 lg:col-start-2 mb-8",children:[C.jsx("h2",{className:"text-5xl font-extrabold text-white mb-8",id:"about",children:"Parcours"}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",style:{gridTemplateColumns:n?"1fr":"0.5fr 3fr 2fr"},children:[C.jsxs("div",{className:"relative mb-8 md:mb-0 group",children:[C.jsxs("div",{className:"relative",children:[C.jsx("img",{src:"https://media.discordapp.net/attachments/947414087401369610/948969142260744212/1646322201523.jpg?ex=65a94762&is=6596d262&hm=9ba70c272208a66bbf7093069d80e30ea610c37bf8a91a2c48ee1f057f9c73a8&=&format=webp&width=495&height=495",alt:"Profile",className:"rounded-full object-cover w-24 h-24 mx-auto"}),C.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-500 ease-linear absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 flex justify-between space-x-4",children:[C.jsx("a",{href:zl.GITHUB,children:C.jsx(yw,{size:30,className:"text-white transition-transform duration-1000 transform translate-y-0 translate-x-0 group-hover:-translate-x-7 group-hover:translate-y-5"})}),C.jsx("a",{href:zl.LINKEDIN,children:C.jsx(fB,{size:30,className:"transition-transform duration-500 transform translate-y-0 group-hover:translate-y-24",style:{color:"#0a66c2"}})}),C.jsx("a",{href:zl.INSTAGRAM,children:C.jsx(hB,{size:30,className:"transition-transform duration-1700 transform translate-y-0 translate-x-0 group-hover:translate-x-5 group-hover:translate-y-5",style:{color:"#e1306c"}})})]})]}),C.jsx("p",{className:`text-gray-500 mt-2 ${n?"text-center":""}`,children:"Éric PHILIPPE"})," "]}),C.jsxs("div",{className:"relative",style:{marginLeft:"2em",marginRight:"2em"},children:[C.jsx("p",{className:"text-white text-xl mb-2 font-light",children:"Étudiant en informatique"}),C.jsx("p",{className:"text-gray-500",children:"2024 - 2026 : Mastère Ynov - Expert Développement Logiciel"}),C.jsx("p",{className:"text-gray-500 mt-1",style:{fontSize:"0.8rem"},children:"Ynov Toulouse"}),C.jsx(i_,{color1:"#f9ce22",color2:"#ed4e50",percentage:3}),C.jsx("p",{className:"text-gray-500",children:"2021 - 2024 : Bachelor Universitaire de Technologie Informatique"}),C.jsx("p",{className:"text-gray-500 mt-1",style:{fontSize:"0.8rem"},children:"IUT de Blagnac - Université Toulouse II Jean Jaurès"}),C.jsx(i_,{color1:"#9867f0",color2:"#ed4e50",percentage:85}),C.jsx("p",{className:"text-gray-500",children:"2021 - 2024 : Alternance - ADP GSI - Développeur Java Informatique"}),C.jsx("p",{className:"text-gray-500 mt-1",style:{fontSize:"0.8rem"},children:"Développement d'une application afin de générer des fiches de paie"}),C.jsx(i_,{color1:"#ffac1d",color2:"#ed4e50",percentage:75})]}),C.jsxs("div",{className:"relative",children:[C.jsx("p",{className:"text-white text-xl mb-2 font-light",children:"Curriculum Vitae"}),C.jsx("img",{src:"CV.png",className:"transition-filter duration-500 ease-in-out",style:{borderRadius:"9px",width:"25em",opacity:e?.8:1,filter:e?"blur(5px)":"blur(1px)"},onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1)}),C.jsx("button",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 px-4 py-2 rounded bg-black bg-opacity-50 hover:bg-opacity-70 transition-colors duration-200 text-white",onClick:()=>{var i=document.createElement("a");i.href=zl.DL_CV,i.download="Eric_Philippe_CV.pdf",document.body.appendChild(i),i.click(),document.body.removeChild(i)},onMouseEnter:()=>t(!0),children:"Consulter CV"})]})]})]})})})})})})})}var wA=new Map,Rm=new WeakMap,A2=0,LW=void 0;function BW(n){return n?(Rm.has(n)||(A2+=1,Rm.set(n,A2.toString())),Rm.get(n)):"0"}function IW(n){return Object.keys(n).sort().filter(e=>n[e]!==void 0).map(e=>`${e}_${e==="root"?BW(n.root):n[e]}`).toString()}function DW(n){let e=IW(n),t=wA.get(e);if(!t){const i=new Map;let r;const s=new IntersectionObserver(o=>{o.forEach(a=>{var l;const c=a.isIntersecting&&r.some(d=>a.intersectionRatio>=d);n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=i.get(a.target))==null||l.forEach(d=>{d(c,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},wA.set(e,t)}return t}function NW(n,e,t={},i=LW){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const l=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:r,observer:s,elements:o}=DW(t);let a=o.get(n)||[];return o.has(n)||o.set(n,a),a.push(e),s.observe(n),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(n),s.unobserve(n)),o.size===0&&(s.disconnect(),wA.delete(r))}}function Yw({threshold:n,delay:e,trackVisibility:t,rootMargin:i,root:r,triggerOnce:s,skip:o,initialInView:a,fallbackInView:l,onChange:c}={}){var d;const[f,p]=ae.useState(null),m=ae.useRef(),[v,x]=ae.useState({inView:!!a,entry:void 0});m.current=c,ae.useEffect(()=>{if(o||!f)return;let S;return S=NW(f,(M,T)=>{x({inView:M,entry:T}),m.current&&m.current(M,T),T.isIntersecting&&s&&S&&(S(),S=void 0)},{root:r,rootMargin:i,threshold:n,trackVisibility:t,delay:e},l),()=>{S&&S()}},[Array.isArray(n)?n.toString():n,f,r,i,s,o,t,l,e]);const A=(d=v.entry)==null?void 0:d.target,g=ae.useRef();!f&&A&&!s&&!o&&g.current!==A&&(g.current=A,x({inView:!!a,entry:void 0}));const _=[p,v.inView,v.entry];return _.ref=_[0],_.inView=_[1],_.entry=_[2],_}function FW({setIsOpen:n}){return C.jsx(C.Fragment,{children:C.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:C.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[C.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:C.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),C.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),C.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[C.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:C.jsx("div",{className:"sm:flex sm:items-start",children:C.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[C.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Mentions Légales"}),C.jsx("div",{className:"mt-2",children:C.jsxs("p",{className:"text-sm text-gray-500",children:["Ce site web est la propriété de Éric PHILIPPE.",C.jsx("br",{}),C.jsx("br",{}),C.jsx("span",{className:"font-bold",children:"Coordonnées"}),C.jsx("br",{}),"Éric PHILIPPE",C.jsx("br",{}),"ericphlpp@proton.me",C.jsx("br",{}),C.jsx("br",{}),C.jsx("span",{className:"font-bold",children:"Hébergement"}),C.jsx("br",{}),"Ce site est hébergé par Github Pages.",C.jsx("br",{}),C.jsx("br",{}),C.jsx("span",{className:"font-bold",children:"Propriété intellectuelle"}),C.jsx("br",{}),"L'ensemble des éléments figurant sur ce site sont protégés par les dispositions du Code de la Propriété Intellectuelle. En conséquence, toute reproduction de ceux-ci, totale ou partielle, ou imitation, sans accord exprès, préalable et écrit, est interdite.",C.jsx("br",{}),C.jsx("br",{}),C.jsx("span",{className:"font-bold",children:"Données personnelles"}),C.jsx("br",{}),"Aucune donnée personnelle n'est collectée sur ce site.",C.jsx("br",{}),C.jsx("br",{}),C.jsx("span",{className:"font-bold",children:"Cookies"}),C.jsx("br",{}),"Aucun cookie n'est utilisé sur ce site."]})})]})})}),C.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:C.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>n(!1),children:"Fermer"})})]})]})})})}function vD(){const[n,e]=ae.useState(!1);return C.jsxs(C.Fragment,{children:[C.jsxs("footer",{className:"flex flex-col mt-10 items-center justify-center mb-6",children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("a",{href:zl.LINKEDIN,target:"_blank",rel:"noreferrer",children:C.jsx(fB,{style:{color:"#0077b5"},size:40,className:"transition-colors duration-200"})}),C.jsx("a",{href:zl.GITHUB,target:"_blank",rel:"noreferrer",children:C.jsx(yw,{size:40,className:"transition-colors duration-200",style:{color:"white"}})}),C.jsx("a",{href:zl.INSTAGRAM,target:"_blank",rel:"noreferrer",children:C.jsx(hB,{size:40,className:"transition-colors duration-200",style:{color:"#e1306c"}})})]}),C.jsxs("div",{className:"text-gray-500 text-sm mt-3",children:["ericphlpp@proton.me •"," ",C.jsx("a",{className:"hover:underline cursor-pointer",onClick:()=>e(!0),children:"Mentions Légales"})]}),C.jsxs("div",{className:"text-gray-500 text-sm mt-3",children:["© Éric PHILIPPE - ",new Date().getFullYear()]})]}),n&&C.jsx(FW,{setIsOpen:e})]})}var Gf=n=>n.type==="checkbox",Pu=n=>n instanceof Date,Hi=n=>n==null;const yD=n=>typeof n=="object";var Jn=n=>!Hi(n)&&!Array.isArray(n)&&yD(n)&&!Pu(n),OW=n=>Jn(n)&&n.target?Gf(n.target)?n.target.checked:n.target.value:n,kW=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,UW=(n,e)=>n.has(kW(e)),zW=n=>{const e=n.constructor&&n.constructor.prototype;return Jn(e)&&e.hasOwnProperty("isPrototypeOf")},Kw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function wo(n){let e;const t=Array.isArray(n);if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(Kw&&(n instanceof Blob||n instanceof FileList))&&(t||Jn(n)))if(e=t?[]:{},!t&&!zW(n))e=n;else for(const i in n)n.hasOwnProperty(i)&&(e[i]=wo(n[i]));else return n;return e}var Vf=n=>Array.isArray(n)?n.filter(Boolean):[],Ln=n=>n===void 0,Qe=(n,e,t)=>{if(!e||!Jn(n))return t;const i=Vf(e.split(/[,[\].]+?/)).reduce((r,s)=>Hi(r)?r:r[s],n);return Ln(i)||i===n?Ln(n[e])?t:n[e]:i},Eo=n=>typeof n=="boolean";const S2={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},gs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},go={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};hn.createContext(null);var HW=(n,e,t,i=!0)=>{const r={defaultValues:e._defaultValues};for(const s in n)Object.defineProperty(r,s,{get:()=>{const o=s;return e._proxyFormState[o]!==gs.all&&(e._proxyFormState[o]=!i||gs.all),t&&(t[o]=!0),n[o]}});return r},Jr=n=>Jn(n)&&!Object.keys(n).length,GW=(n,e,t,i)=>{t(n);const{name:r,...s}=n;return Jr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!i||gs.all))},r_=n=>Array.isArray(n)?n:[n];function VW(n){const e=hn.useRef(n);e.current=n,hn.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}var js=n=>typeof n=="string",jW=(n,e,t,i,r)=>js(n)?(i&&e.watch.add(n),Qe(t,n,r)):Array.isArray(n)?n.map(s=>(i&&e.watch.add(s),Qe(t,s))):(i&&(e.watchAll=!0),t),Qw=n=>/^\w*$/.test(n),xD=n=>Vf(n.replace(/["|']|\]/g,"").split(/\.|\[/)),an=(n,e,t)=>{let i=-1;const r=Qw(e)?[e]:xD(e),s=r.length,o=s-1;for(;++i<s;){const a=r[i];let l=t;if(i!==o){const c=n[a];l=Jn(c)||Array.isArray(c)?c:isNaN(+r[i+1])?{}:[]}n[a]=l,n=n[a]}return n},WW=(n,e,t,i,r)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:r||!0}}:{},w2=n=>({isOnSubmit:!n||n===gs.onSubmit,isOnBlur:n===gs.onBlur,isOnChange:n===gs.onChange,isOnAll:n===gs.all,isOnTouch:n===gs.onTouched}),M2=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const kh=(n,e,t,i)=>{for(const r of t||Object.keys(n)){const s=Qe(n,r);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],r)&&!i)break;if(o.ref&&e(o.ref,o.name)&&!i)break;kh(a,e)}else Jn(a)&&kh(a,e)}}};var XW=(n,e,t)=>{const i=Vf(Qe(n,t));return an(i,"root",e[t]),an(n,t,i),n},Zw=n=>n.type==="file",ba=n=>typeof n=="function",k0=n=>{if(!Kw)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},jg=n=>js(n),$w=n=>n.type==="radio",U0=n=>n instanceof RegExp;const b2={value:!1,isValid:!1},E2={value:!0,isValid:!0};var _D=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Ln(n[0].attributes.value)?Ln(n[0].value)||n[0].value===""?E2:{value:n[0].value,isValid:!0}:E2:b2}return b2};const C2={isValid:!1,value:null};var AD=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,C2):C2;function T2(n,e,t="validate"){if(jg(n)||Array.isArray(n)&&n.every(jg)||Eo(n)&&!n)return{type:t,message:jg(n)?n:"",ref:e}}var Hc=n=>Jn(n)&&!U0(n)?n:{value:n,message:""},R2=async(n,e,t,i,r)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:d,max:f,pattern:p,validate:m,name:v,valueAsNumber:x,mount:A,disabled:g}=n._f,_=Qe(e,v);if(!A||g)return{};const S=o?o[0]:s,M=W=>{i&&S.reportValidity&&(S.setCustomValidity(Eo(W)?"":W||""),S.reportValidity())},T={},P=$w(s),B=Gf(s),D=P||B,L=(x||Zw(s))&&Ln(s.value)&&Ln(_)||k0(s)&&s.value===""||_===""||Array.isArray(_)&&!_.length,I=WW.bind(null,v,t,T),H=(W,ee,z,Q=go.maxLength,Z=go.minLength)=>{const ce=W?ee:z;T[v]={type:W?Q:Z,message:ce,ref:s,...I(W?Q:Z,ce)}};if(r?!Array.isArray(_)||!_.length:a&&(!D&&(L||Hi(_))||Eo(_)&&!_||B&&!_D(o).isValid||P&&!AD(o).isValid)){const{value:W,message:ee}=jg(a)?{value:!!a,message:a}:Hc(a);if(W&&(T[v]={type:go.required,message:ee,ref:S,...I(go.required,ee)},!t))return M(ee),T}if(!L&&(!Hi(d)||!Hi(f))){let W,ee;const z=Hc(f),Q=Hc(d);if(!Hi(_)&&!isNaN(_)){const Z=s.valueAsNumber||_&&+_;Hi(z.value)||(W=Z>z.value),Hi(Q.value)||(ee=Z<Q.value)}else{const Z=s.valueAsDate||new Date(_),ce=j=>new Date(new Date().toDateString()+" "+j),N=s.type=="time",V=s.type=="week";js(z.value)&&_&&(W=N?ce(_)>ce(z.value):V?_>z.value:Z>new Date(z.value)),js(Q.value)&&_&&(ee=N?ce(_)<ce(Q.value):V?_<Q.value:Z<new Date(Q.value))}if((W||ee)&&(H(!!W,z.message,Q.message,go.max,go.min),!t))return M(T[v].message),T}if((l||c)&&!L&&(js(_)||r&&Array.isArray(_))){const W=Hc(l),ee=Hc(c),z=!Hi(W.value)&&_.length>+W.value,Q=!Hi(ee.value)&&_.length<+ee.value;if((z||Q)&&(H(z,W.message,ee.message),!t))return M(T[v].message),T}if(p&&!L&&js(_)){const{value:W,message:ee}=Hc(p);if(U0(W)&&!_.match(W)&&(T[v]={type:go.pattern,message:ee,ref:s,...I(go.pattern,ee)},!t))return M(ee),T}if(m){if(ba(m)){const W=await m(_,e),ee=T2(W,S);if(ee&&(T[v]={...ee,...I(go.validate,ee.message)},!t))return M(ee.message),T}else if(Jn(m)){let W={};for(const ee in m){if(!Jr(W)&&!t)break;const z=T2(await m[ee](_,e),S,ee);z&&(W={...z,...I(ee,z.message)},M(z.message),t&&(T[v]=W))}if(!Jr(W)&&(T[v]={ref:S,...W},!t))return T}}return M(!0),T};function JW(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=Ln(n)?i++:n[e[i++]];return n}function qW(n){for(const e in n)if(n.hasOwnProperty(e)&&!Ln(n[e]))return!1;return!0}function di(n,e){const t=Array.isArray(e)?e:Qw(e)?[e]:xD(e),i=t.length===1?n:JW(n,t),r=t.length-1,s=t[r];return i&&delete i[s],r!==0&&(Jn(i)&&Jr(i)||Array.isArray(i)&&qW(i))&&di(n,t.slice(0,-1)),n}var s_=()=>{let n=[];return{get observers(){return n},next:r=>{for(const s of n)s.next&&s.next(r)},subscribe:r=>(n.push(r),{unsubscribe:()=>{n=n.filter(s=>s!==r)}}),unsubscribe:()=>{n=[]}}},z0=n=>Hi(n)||!yD(n);function Hl(n,e){if(z0(n)||z0(e))return n===e;if(Pu(n)&&Pu(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const r of t){const s=n[r];if(!i.includes(r))return!1;if(r!=="ref"){const o=e[r];if(Pu(s)&&Pu(o)||Jn(s)&&Jn(o)||Array.isArray(s)&&Array.isArray(o)?!Hl(s,o):s!==o)return!1}}return!0}var SD=n=>n.type==="select-multiple",YW=n=>$w(n)||Gf(n),o_=n=>k0(n)&&n.isConnected,wD=n=>{for(const e in n)if(ba(n[e]))return!0;return!1};function H0(n,e={}){const t=Array.isArray(n);if(Jn(n)||t)for(const i in n)Array.isArray(n[i])||Jn(n[i])&&!wD(n[i])?(e[i]=Array.isArray(n[i])?[]:{},H0(n[i],e[i])):Hi(n[i])||(e[i]=!0);return e}function MD(n,e,t){const i=Array.isArray(n);if(Jn(n)||i)for(const r in n)Array.isArray(n[r])||Jn(n[r])&&!wD(n[r])?Ln(e)||z0(t[r])?t[r]=Array.isArray(n[r])?H0(n[r],[]):{...H0(n[r])}:MD(n[r],Hi(e)?{}:e[r],t[r]):t[r]=!Hl(n[r],e[r]);return t}var a_=(n,e)=>MD(n,e,H0(e)),bD=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>Ln(n)?n:e?n===""?NaN:n&&+n:t&&js(n)?new Date(n):i?i(n):n;function l_(n){const e=n.ref;if(!(n.refs?n.refs.every(t=>t.disabled):e.disabled))return Zw(e)?e.files:$w(e)?AD(n.refs).value:SD(e)?[...e.selectedOptions].map(({value:t})=>t):Gf(e)?_D(n.refs).value:bD(Ln(e.value)?n.ref.value:e.value,n)}var KW=(n,e,t,i)=>{const r={};for(const s of n){const o=Qe(e,s);o&&an(r,s,o._f)}return{criteriaMode:t,names:[...n],fields:r,shouldUseNativeValidation:i}},$d=n=>Ln(n)?n:U0(n)?n.source:Jn(n)?U0(n.value)?n.value.source:n.value:n,QW=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function P2(n,e,t){const i=Qe(n,t);if(i||Qw(t))return{error:i,name:t};const r=t.split(".");for(;r.length;){const s=r.join("."),o=Qe(e,s),a=Qe(n,s);if(o&&!Array.isArray(o)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};r.pop()}return{name:t}}var ZW=(n,e,t,i,r)=>r.isOnAll?!1:!t&&r.isOnTouch?!(e||n):(t?i.isOnBlur:r.isOnBlur)?!n:(t?i.isOnChange:r.isOnChange)?n:!0,$W=(n,e)=>!Vf(Qe(n,e)).length&&di(n,e);const e7={mode:gs.onSubmit,reValidateMode:gs.onChange,shouldFocusError:!0};function t7(n={},e){let t={...e7,...n},i={submitCount:0,isDirty:!1,isLoading:ba(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:t.errors||{},disabled:!1},r={},s=Jn(t.defaultValues)||Jn(t.values)?wo(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:wo(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:s_(),array:s_(),state:s_()},m=n.resetOptions&&n.resetOptions.keepDirtyValues,v=w2(t.mode),x=w2(t.reValidateMode),A=t.criteriaMode===gs.all,g=E=>O=>{clearTimeout(d),d=setTimeout(E,O)},_=async E=>{if(f.isValid||E){const O=t.resolver?Jr((await I()).errors):await W(r,!0);O!==i.isValid&&p.state.next({isValid:O})}},S=E=>f.isValidating&&p.state.next({isValidating:E}),M=(E,O=[],J,se,te=!0,ue=!0)=>{if(se&&J){if(a.action=!0,ue&&Array.isArray(Qe(r,E))){const ge=J(Qe(r,E),se.argA,se.argB);te&&an(r,E,ge)}if(ue&&Array.isArray(Qe(i.errors,E))){const ge=J(Qe(i.errors,E),se.argA,se.argB);te&&an(i.errors,E,ge),$W(i.errors,E)}if(f.touchedFields&&ue&&Array.isArray(Qe(i.touchedFields,E))){const ge=J(Qe(i.touchedFields,E),se.argA,se.argB);te&&an(i.touchedFields,E,ge)}f.dirtyFields&&(i.dirtyFields=a_(s,o)),p.state.next({name:E,isDirty:z(E,O),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else an(o,E,O)},T=(E,O)=>{an(i.errors,E,O),p.state.next({errors:i.errors})},P=E=>{i.errors=E,p.state.next({errors:i.errors,isValid:!1})},B=(E,O,J,se)=>{const te=Qe(r,E);if(te){const ue=Qe(o,E,Ln(J)?Qe(s,E):J);Ln(ue)||se&&se.defaultChecked||O?an(o,E,O?ue:l_(te._f)):ce(E,ue),a.mount&&_()}},D=(E,O,J,se,te)=>{let ue=!1,ge=!1;const Te={name:E},ke=!!(Qe(r,E)&&Qe(r,E)._f.disabled);if(!J||se){f.isDirty&&(ge=i.isDirty,i.isDirty=Te.isDirty=z(),ue=ge!==Te.isDirty);const st=ke||Hl(Qe(s,E),O);ge=!!(!ke&&Qe(i.dirtyFields,E)),st||ke?di(i.dirtyFields,E):an(i.dirtyFields,E,!0),Te.dirtyFields=i.dirtyFields,ue=ue||f.dirtyFields&&ge!==!st}if(J){const st=Qe(i.touchedFields,E);st||(an(i.touchedFields,E,J),Te.touchedFields=i.touchedFields,ue=ue||f.touchedFields&&st!==J)}return ue&&te&&p.state.next(Te),ue?Te:{}},L=(E,O,J,se)=>{const te=Qe(i.errors,E),ue=f.isValid&&Eo(O)&&i.isValid!==O;if(n.delayError&&J?(c=g(()=>T(E,J)),c(n.delayError)):(clearTimeout(d),c=null,J?an(i.errors,E,J):di(i.errors,E)),(J?!Hl(te,J):te)||!Jr(se)||ue){const ge={...se,...ue&&Eo(O)?{isValid:O}:{},errors:i.errors,name:E};i={...i,...ge},p.state.next(ge)}S(!1)},I=async E=>t.resolver(o,t.context,KW(E||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation)),H=async E=>{const{errors:O}=await I(E);if(E)for(const J of E){const se=Qe(O,J);se?an(i.errors,J,se):di(i.errors,J)}else i.errors=O;return O},W=async(E,O,J={valid:!0})=>{for(const se in E){const te=E[se];if(te){const{_f:ue,...ge}=te;if(ue){const Te=l.array.has(ue.name),ke=await R2(te,o,A,t.shouldUseNativeValidation&&!O,Te);if(ke[ue.name]&&(J.valid=!1,O))break;!O&&(Qe(ke,ue.name)?Te?XW(i.errors,ke,ue.name):an(i.errors,ue.name,ke[ue.name]):di(i.errors,ue.name))}ge&&await W(ge,O,J)}}return J.valid},ee=()=>{for(const E of l.unMount){const O=Qe(r,E);O&&(O._f.refs?O._f.refs.every(J=>!o_(J)):!o_(O._f.ref))&&rt(E)}l.unMount=new Set},z=(E,O)=>(E&&O&&an(o,E,O),!Hl(re(),s)),Q=(E,O,J)=>jW(E,l,{...a.mount?o:Ln(O)?s:js(E)?{[E]:O}:O},J,O),Z=E=>Vf(Qe(a.mount?o:s,E,n.shouldUnregister?Qe(s,E,[]):[])),ce=(E,O,J={})=>{const se=Qe(r,E);let te=O;if(se){const ue=se._f;ue&&(!ue.disabled&&an(o,E,bD(O,ue)),te=k0(ue.ref)&&Hi(O)?"":O,SD(ue.ref)?[...ue.ref.options].forEach(ge=>ge.selected=te.includes(ge.value)):ue.refs?Gf(ue.ref)?ue.refs.length>1?ue.refs.forEach(ge=>(!ge.defaultChecked||!ge.disabled)&&(ge.checked=Array.isArray(te)?!!te.find(Te=>Te===ge.value):te===ge.value)):ue.refs[0]&&(ue.refs[0].checked=!!te):ue.refs.forEach(ge=>ge.checked=ge.value===te):Zw(ue.ref)?ue.ref.value="":(ue.ref.value=te,ue.ref.type||p.values.next({name:E,values:{...o}})))}(J.shouldDirty||J.shouldTouch)&&D(E,te,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&ie(E)},N=(E,O,J)=>{for(const se in O){const te=O[se],ue=`${E}.${se}`,ge=Qe(r,ue);(l.array.has(E)||!z0(te)||ge&&!ge._f)&&!Pu(te)?N(ue,te,J):ce(ue,te,J)}},V=(E,O,J={})=>{const se=Qe(r,E),te=l.array.has(E),ue=wo(O);an(o,E,ue),te?(p.array.next({name:E,values:{...o}}),(f.isDirty||f.dirtyFields)&&J.shouldDirty&&p.state.next({name:E,dirtyFields:a_(s,o),isDirty:z(E,ue)})):se&&!se._f&&!Hi(ue)?N(E,ue,J):ce(E,ue,J),M2(E,l)&&p.state.next({...i}),p.values.next({name:E,values:{...o}}),!a.mount&&e()},j=async E=>{const O=E.target;let J=O.name,se=!0;const te=Qe(r,J),ue=()=>O.type?l_(te._f):OW(E),ge=Te=>{se=Number.isNaN(Te)||Te===Qe(o,J,Te)};if(te){let Te,ke;const st=ue(),Me=E.type===S2.BLUR||E.type===S2.FOCUS_OUT,Pt=!QW(te._f)&&!t.resolver&&!Qe(i.errors,J)&&!te._f.deps||ZW(Me,Qe(i.touchedFields,J),i.isSubmitted,x,v),yt=M2(J,l,Me);an(o,J,st),Me?(te._f.onBlur&&te._f.onBlur(E),c&&c(0)):te._f.onChange&&te._f.onChange(E);const lt=D(J,st,Me,!1),et=!Jr(lt)||yt;if(!Me&&p.values.next({name:J,type:E.type,values:{...o}}),Pt)return f.isValid&&_(),et&&p.state.next({name:J,...yt?{}:lt});if(!Me&&yt&&p.state.next({...i}),S(!0),t.resolver){const{errors:je}=await I([J]);if(ge(st),se){const Y=P2(i.errors,r,J),Ae=P2(je,r,Y.name||J);Te=Ae.error,J=Ae.name,ke=Jr(je)}}else Te=(await R2(te,o,A,t.shouldUseNativeValidation))[J],ge(st),se&&(Te?ke=!1:f.isValid&&(ke=await W(r,!0)));se&&(te._f.deps&&ie(te._f.deps),L(J,ke,Te,lt))}},K=(E,O)=>{if(Qe(i.errors,O)&&E.focus)return E.focus(),1},ie=async(E,O={})=>{let J,se;const te=r_(E);if(S(!0),t.resolver){const ue=await H(Ln(E)?E:te);J=Jr(ue),se=E?!te.some(ge=>Qe(ue,ge)):J}else E?(se=(await Promise.all(te.map(async ue=>{const ge=Qe(r,ue);return await W(ge&&ge._f?{[ue]:ge}:ge)}))).every(Boolean),!(!se&&!i.isValid)&&_()):se=J=await W(r);return p.state.next({...!js(E)||f.isValid&&J!==i.isValid?{}:{name:E},...t.resolver||!E?{isValid:J}:{},errors:i.errors,isValidating:!1}),O.shouldFocus&&!se&&kh(r,K,E?te:l.mount),se},re=E=>{const O={...s,...a.mount?o:{}};return Ln(E)?O:js(E)?Qe(O,E):E.map(J=>Qe(O,J))},fe=(E,O)=>({invalid:!!Qe((O||i).errors,E),isDirty:!!Qe((O||i).dirtyFields,E),isTouched:!!Qe((O||i).touchedFields,E),error:Qe((O||i).errors,E)}),we=E=>{E&&r_(E).forEach(O=>di(i.errors,O)),p.state.next({errors:E?i.errors:{}})},Ce=(E,O,J)=>{const se=(Qe(r,E,{_f:{}})._f||{}).ref;an(i.errors,E,{...O,ref:se}),p.state.next({name:E,errors:i.errors,isValid:!1}),J&&J.shouldFocus&&se&&se.focus&&se.focus()},Le=(E,O)=>ba(E)?p.values.subscribe({next:J=>E(Q(void 0,O),J)}):Q(E,O,!0),rt=(E,O={})=>{for(const J of E?r_(E):l.mount)l.mount.delete(J),l.array.delete(J),O.keepValue||(di(r,J),di(o,J)),!O.keepError&&di(i.errors,J),!O.keepDirty&&di(i.dirtyFields,J),!O.keepTouched&&di(i.touchedFields,J),!t.shouldUnregister&&!O.keepDefaultValue&&di(s,J);p.values.next({values:{...o}}),p.state.next({...i,...O.keepDirty?{isDirty:z()}:{}}),!O.keepIsValid&&_()},ot=({disabled:E,name:O,field:J,fields:se,value:te})=>{if(Eo(E)){const ue=E?void 0:Ln(te)?l_(J?J._f:Qe(se,O)._f):te;an(o,O,ue),D(O,ue,!1,!1,!0)}},ze=(E,O={})=>{let J=Qe(r,E);const se=Eo(O.disabled);return an(r,E,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:E}},name:E,mount:!0,...O}}),l.mount.add(E),J?ot({field:J,disabled:O.disabled,name:E,value:O.value}):B(E,!0,O.value),{...se?{disabled:O.disabled}:{},...t.progressive?{required:!!O.required,min:$d(O.min),max:$d(O.max),minLength:$d(O.minLength),maxLength:$d(O.maxLength),pattern:$d(O.pattern)}:{},name:E,onChange:j,onBlur:j,ref:te=>{if(te){ze(E,O),J=Qe(r,E);const ue=Ln(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,ge=YW(ue),Te=J._f.refs||[];if(ge?Te.find(ke=>ke===ue):ue===J._f.ref)return;an(r,E,{_f:{...J._f,...ge?{refs:[...Te.filter(o_),ue,...Array.isArray(Qe(s,E))?[{}]:[]],ref:{type:ue.type,name:E}}:{ref:ue}}}),B(E,!1,void 0,ue)}else J=Qe(r,E,{}),J._f&&(J._f.mount=!1),(t.shouldUnregister||O.shouldUnregister)&&!(UW(l.array,E)&&a.action)&&l.unMount.add(E)}}},We=()=>t.shouldFocusError&&kh(r,K,l.mount),X=E=>{Eo(E)&&(p.state.next({disabled:E}),kh(r,(O,J)=>{let se=E;const te=Qe(r,J);te&&Eo(te._f.disabled)&&(se||(se=te._f.disabled)),O.disabled=se},0,!1))},be=(E,O)=>async J=>{J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let se=wo(o);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:te,values:ue}=await I();i.errors=te,se=ue}else await W(r);di(i.errors,"root"),Jr(i.errors)?(p.state.next({errors:{}}),await E(se,J)):(O&&await O({...i.errors},J),We(),setTimeout(We)),p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jr(i.errors),submitCount:i.submitCount+1,errors:i.errors})},_e=(E,O={})=>{Qe(r,E)&&(Ln(O.defaultValue)?V(E,Qe(s,E)):(V(E,O.defaultValue),an(s,E,O.defaultValue)),O.keepTouched||di(i.touchedFields,E),O.keepDirty||(di(i.dirtyFields,E),i.isDirty=O.defaultValue?z(E,Qe(s,E)):z()),O.keepError||(di(i.errors,E),f.isValid&&_()),p.state.next({...i}))},Re=(E,O={})=>{const J=E?wo(E):s,se=wo(J),te=E&&!Jr(E)?se:s;if(O.keepDefaultValues||(s=J),!O.keepValues){if(O.keepDirtyValues||m)for(const ue of l.mount)Qe(i.dirtyFields,ue)?an(te,ue,Qe(o,ue)):V(ue,Qe(te,ue));else{if(Kw&&Ln(E))for(const ue of l.mount){const ge=Qe(r,ue);if(ge&&ge._f){const Te=Array.isArray(ge._f.refs)?ge._f.refs[0]:ge._f.ref;if(k0(Te)){const ke=Te.closest("form");if(ke){ke.reset();break}}}}r={}}o=n.shouldUnregister?O.keepDefaultValues?wo(s):{}:wo(te),p.array.next({values:{...te}}),p.values.next({values:{...te}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!f.isValid||!!O.keepIsValid,a.watch=!!n.shouldUnregister,p.state.next({submitCount:O.keepSubmitCount?i.submitCount:0,isDirty:O.keepDirty?i.isDirty:!!(O.keepDefaultValues&&!Hl(E,s)),isSubmitted:O.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:O.keepDirtyValues?i.dirtyFields:O.keepDefaultValues&&E?a_(s,E):{},touchedFields:O.keepTouched?i.touchedFields:{},errors:O.keepErrors?i.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?i.isSubmitSuccessful:!1,isSubmitting:!1})},ye=(E,O)=>Re(ba(E)?E(o):E,O);return{control:{register:ze,unregister:rt,getFieldState:fe,handleSubmit:be,setError:Ce,_executeSchema:I,_getWatch:Q,_getDirty:z,_updateValid:_,_removeUnmounted:ee,_updateFieldArray:M,_updateDisabledField:ot,_getFieldArray:Z,_reset:Re,_resetDefaultValues:()=>ba(t.defaultValues)&&t.defaultValues().then(E=>{ye(E,t.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:E=>{i={...i,...E}},_disableForm:X,_subjects:p,_proxyFormState:f,_setErrors:P,get _fields(){return r},get _formValues(){return o},get _state(){return a},set _state(E){a=E},get _defaultValues(){return s},get _names(){return l},set _names(E){l=E},get _formState(){return i},set _formState(E){i=E},get _options(){return t},set _options(E){t={...t,...E}}},trigger:ie,register:ze,handleSubmit:be,watch:Le,setValue:V,getValues:re,reset:ye,resetField:_e,clearErrors:we,unregister:rt,setError:Ce,setFocus:(E,O={})=>{const J=Qe(r,E),se=J&&J._f;if(se){const te=se.refs?se.refs[0]:se.ref;te.focus&&(te.focus(),O.shouldSelect&&te.select())}},getFieldState:fe}}function n7(n={}){const e=hn.useRef(),t=hn.useRef(),[i,r]=hn.useState({isDirty:!1,isValidating:!1,isLoading:ba(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:n.errors||{},disabled:!1,defaultValues:ba(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...t7(n,()=>r(o=>({...o}))),formState:i});const s=e.current.control;return s._options=n,VW({subject:s._subjects.state,next:o=>{GW(o,s._proxyFormState,s._updateFormState,!0)&&r({...s._formState})}}),hn.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),hn.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==i.isDirty&&s._subjects.state.next({isDirty:o})}},[s,i.isDirty]),hn.useEffect(()=>{n.values&&!Hl(n.values,t.current)?(s._reset(n.values,s._options.resetOptions),t.current=n.values,r(o=>({...o}))):s._resetDefaultValues()},[n.values,s]),hn.useEffect(()=>{n.errors&&s._setErrors(n.errors)},[n.errors,s]),hn.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=HW(i,s),e.current}const pf={_origin:"https://api.emailjs.com"},i7=(n,e="https://api.emailjs.com")=>{pf._userID=n,pf._origin=e},ED=(n,e,t)=>{if(!n)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class L2{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const CD=(n,e,t={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new L2(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new L2(o))}),s.open("POST",pf._origin+n,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),r7=(n,e,t,i)=>{const r=i||pf._userID;return ED(r,n,e),CD("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},s7=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},o7=(n,e,t,i)=>{const r=i||pf._userID,s=s7(t);ED(r,n,e);const o=new FormData(s);return o.append("lib_version","3.11.0"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",r),CD("/api/v1.0/email/send-form",o)},a7={init:i7,send:r7,sendForm:o7},l7="service_hgawynv",c7="template_clt36qe",u7="eoPJ5KwYUNr5YwcQL",Pm=["Let's get started","Let's get in touch","Let's collaborate","Let's get going","Let's do this"];function TD(){const[n,e]=ae.useState(Pm[Math.floor(Math.random()*Pm.length)]),[t,i]=ae.useState(null),r=window.innerWidth<1024,{register:s,handleSubmit:o,formState:{errors:a}}=n7(),l=c=>{a7.send(l7,c7,c,u7).then(()=>{i(!0)},()=>{i(!1)})};return C.jsxs("form",{onSubmit:o(l),className:`${r?"":"w-1/2 max-w-50"} p-5 rounded shadow-lg bg-[#0d0d0e]`,style:{borderRadius:"1rem"},children:[C.jsxs("div",{className:"mb-4 relative",children:[C.jsx("h1",{className:`${r?"text-3xl":"text-6xl"} font-bold text-2xl bg-clip-text text-transparent bg-gradient-to-r from-[#ccf0ff] via-[#ffd7ff] to-[#f1b3cf] text-center`,style:{fontFamily:"Feijoa,serif",height:r?"8vh":"14vh"},children:n}),C.jsx("p",{className:"text-gray-500 text-sm text-center",style:{fontWeight:"normal"},children:"Vous avez un projet ? Une idée ? Un besoin ? Contactez-moi !"}),t===!0&&C.jsx("div",{className:"text-green-500 text-sm text-center",children:"Votre message a bien été envoyé !"}),t===!1&&C.jsx("div",{className:"text-red-500 text-sm text-center",children:"Une erreur est survenue, veuillez réessayer."})]}),C.jsxs("div",{className:"mb-4 relative",children:[C.jsx("label",{htmlFor:"name",className:"absolute text-base font-bold bg-clip-text text-transparent bg-gradient-to-r from-[#ccf0ff] via-[#ffd7ff] to-[#f1b3cf] top-0 left-0",style:{paddingLeft:"10px"},children:"Nom"}),C.jsx("input",{id:"name",...s("name",{required:!0}),className:"shadow appearance-none border-2 rounded w-full py-5 px-3 text-white bg-black leading-tight focus:outline-none focus:shadow-outline pl-20 text-lg",style:{border:"1px solid #3f3f46",paddingLeft:"10px"}}),a.name&&C.jsx("span",{className:"text-red-500 text-xs italic",children:"Ce champ est requis"})]}),C.jsxs("div",{className:"mb-4 relative",children:[C.jsx("label",{htmlFor:"email",className:"absolute text-base font-bold bg-clip-text text-transparent bg-gradient-to-r from-[#ccf0ff] via-[#ffd7ff] to-[#f1b3cf] top-0 left-0",style:{paddingLeft:"10px"},children:"Email"}),C.jsx("input",{id:"email",type:"email",...s("email",{required:!0}),className:"shadow appearance-none border-2 rounded w-full py-5 px-3 text-white bg-black leading-tight focus:outline-none focus:shadow-outline pl-20 text-lg",style:{border:"1px solid #3f3f46",paddingLeft:"10px"}}),a.email&&C.jsx("span",{className:"text-red-500 text-xs italic",children:"Ce champ est requis"})]}),C.jsxs("div",{className:"mb-4 relative",children:[C.jsx("label",{htmlFor:"message",className:"absolute text-base font-bold bg-clip-text text-transparent bg-gradient-to-r from-[#ccf0ff] via-[#ffd7ff] to-[#f1b3cf] top-0 left-0",style:{paddingLeft:"10px"},children:"Message"}),C.jsx("textarea",{id:"message",...s("message",{required:!0}),className:"shadow appearance-none border-2 rounded w-full py-5 px-3 text-white bg-black leading-tight focus:outline-none focus:shadow-outline pl-20 text-lg",style:{border:"1px solid #3f3f46",paddingLeft:"10px"}}),a.message&&C.jsx("span",{className:"text-red-500 text-xs italic",children:"Ce champ est requis"})]}),C.jsx("div",{children:C.jsx("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:()=>{e(Pm[Math.floor(Math.random()*Pm.length)])},children:"Envoyer"})})]})}function d7(){const n=window.innerWidth<1024,[e,t]=ae.useState(!1),{ref:i,inView:r}=Yw({triggerOnce:!1});return ae.useEffect(()=>{document.body.style.backgroundColor=r?"#040404":"white"},[r]),C.jsxs(C.Fragment,{children:[C.jsx("h2",{id:"contact"}),C.jsxs("section",{ref:i,className:"flex flex-col md:flex-row items-center justify-center p-10",children:[C.jsx("div",{className:`flex flex-col items-center justify-center mb-3 ${n?"":"w-1/2 ml-32"}`,children:C.jsxs("div",{className:"w-full flex flex-col items-start",children:[C.jsx("a",{href:"#realisations",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:C.jsx("h1",{className:`${n?"text-3xl":"text-5xl"} font-bold mb-5 bg-clip-text text-transparent hover:bg-[#e0a4ff] transition-colors duration-200 bg-[#3f3f46] text-left hover:text-[#e0a4ff]`,style:{fontFamily:"Sohne,sans-serif"},children:C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("div",{children:"RÉALISATIONS"}),C.jsx(pB,{size:50,className:"transition-colors duration-200",style:{color:e?"#e0a4ff":"#3f3f46"}})]})})}),C.jsx("a",{href:"#competences",children:C.jsx("h1",{className:`${n?"text-3xl":"text-5xl"} font-bold mb-5 bg-clip-text text-transparent hover:bg-[#feea9e] transition-colors duration-200 bg-[#3f3f46] text-left hover:text-[#feea9e]`,style:{fontFamily:"Sohne,sans-serif"},children:"COMPÉTENCES"})}),C.jsx("a",{href:"#about",children:C.jsx("h1",{className:`${n?"text-3xl":"text-5xl"} font-bold mb-5 bg-clip-text text-transparent hover:bg-[#98edff] transition-colors duration-200 bg-[#3f3f46] text-left hover:text-[#98edff]`,style:{fontFamily:"Sohne,sans-serif"},children:"PARCOURS"})})]})}),C.jsx(TD,{})]}),C.jsx(vD,{})]})}function RD(n,e){return function(){return n.apply(e,arguments)}}const{toString:h7}=Object.prototype,{getPrototypeOf:eM}=Object,Mv=(n=>e=>{const t=h7.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),oo=n=>(n=n.toLowerCase(),e=>Mv(e)===n),bv=n=>e=>typeof e===n,{isArray:gd}=Array,mf=bv("undefined");function f7(n){return n!==null&&!mf(n)&&n.constructor!==null&&!mf(n.constructor)&&Zr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const PD=oo("ArrayBuffer");function p7(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&PD(n.buffer),e}const m7=bv("string"),Zr=bv("function"),LD=bv("number"),Ev=n=>n!==null&&typeof n=="object",g7=n=>n===!0||n===!1,Wg=n=>{if(Mv(n)!=="object")return!1;const e=eM(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},v7=oo("Date"),y7=oo("File"),x7=oo("Blob"),_7=oo("FileList"),A7=n=>Ev(n)&&Zr(n.pipe),S7=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Zr(n.append)&&((e=Mv(n))==="formdata"||e==="object"&&Zr(n.toString)&&n.toString()==="[object FormData]"))},w7=oo("URLSearchParams"),M7=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),gd(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,n[a],a,n)}}function BD(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const ID=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,DD=n=>!mf(n)&&n!==ID;function MA(){const{caseless:n}=DD(this)&&this||{},e={},t=(i,r)=>{const s=n&&BD(e,r)||r;Wg(e[s])&&Wg(i)?e[s]=MA(e[s],i):Wg(i)?e[s]=MA({},i):gd(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&jf(arguments[i],t);return e}const b7=(n,e,t,{allOwnKeys:i}={})=>(jf(e,(r,s)=>{t&&Zr(r)?n[s]=RD(r,t):n[s]=r},{allOwnKeys:i}),n),E7=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),C7=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},T7=(n,e,t,i)=>{let r,s,o;const a={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)o=r[s],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&eM(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},R7=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},P7=n=>{if(!n)return null;if(gd(n))return n;let e=n.length;if(!LD(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},L7=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&eM(Uint8Array)),B7=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(n,s[0],s[1])}},I7=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},D7=oo("HTMLFormElement"),N7=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),B2=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),F7=oo("RegExp"),ND=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};jf(t,(r,s)=>{let o;(o=e(r,s,n))!==!1&&(i[s]=o||r)}),Object.defineProperties(n,i)},O7=n=>{ND(n,(e,t)=>{if(Zr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Zr(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},k7=(n,e)=>{const t={},i=r=>{r.forEach(s=>{t[s]=!0})};return gd(n)?i(n):i(String(n).split(e)),t},U7=()=>{},z7=(n,e)=>(n=+n,Number.isFinite(n)?n:e),c_="abcdefghijklmnopqrstuvwxyz",I2="0123456789",FD={DIGIT:I2,ALPHA:c_,ALPHA_DIGIT:c_+c_.toUpperCase()+I2},H7=(n=16,e=FD.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function G7(n){return!!(n&&Zr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const V7=n=>{const e=new Array(10),t=(i,r)=>{if(Ev(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=gd(i)?[]:{};return jf(i,(o,a)=>{const l=t(o,r+1);!mf(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return t(n,0)},j7=oo("AsyncFunction"),W7=n=>n&&(Ev(n)||Zr(n))&&Zr(n.then)&&Zr(n.catch),Se={isArray:gd,isArrayBuffer:PD,isBuffer:f7,isFormData:S7,isArrayBufferView:p7,isString:m7,isNumber:LD,isBoolean:g7,isObject:Ev,isPlainObject:Wg,isUndefined:mf,isDate:v7,isFile:y7,isBlob:x7,isRegExp:F7,isFunction:Zr,isStream:A7,isURLSearchParams:w7,isTypedArray:L7,isFileList:_7,forEach:jf,merge:MA,extend:b7,trim:M7,stripBOM:E7,inherits:C7,toFlatObject:T7,kindOf:Mv,kindOfTest:oo,endsWith:R7,toArray:P7,forEachEntry:B7,matchAll:I7,isHTMLForm:D7,hasOwnProperty:B2,hasOwnProp:B2,reduceDescriptors:ND,freezeMethods:O7,toObjectSet:k7,toCamelCase:N7,noop:U7,toFiniteNumber:z7,findKey:BD,global:ID,isContextDefined:DD,ALPHABET:FD,generateString:H7,isSpecCompliantForm:G7,toJSONObject:V7,isAsyncFn:j7,isThenable:W7};function Ft(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r)}Se.inherits(Ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Se.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const OD=Ft.prototype,kD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{kD[n]={value:n}});Object.defineProperties(Ft,kD);Object.defineProperty(OD,"isAxiosError",{value:!0});Ft.from=(n,e,t,i,r,s)=>{const o=Object.create(OD);return Se.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ft.call(o,n.message,e,t,i,r),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const X7=null;function bA(n){return Se.isPlainObject(n)||Se.isArray(n)}function UD(n){return Se.endsWith(n,"[]")?n.slice(0,-2):n}function D2(n,e,t){return n?n.concat(e).map(function(r,s){return r=UD(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function J7(n){return Se.isArray(n)&&!n.some(bA)}const q7=Se.toFlatObject(Se,{},null,function(e){return/^is[A-Z]/.test(e)});function Cv(n,e,t){if(!Se.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Se.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,A){return!Se.isUndefined(A[x])});const i=t.metaTokens,r=t.visitor||d,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&Se.isSpecCompliantForm(e);if(!Se.isFunction(r))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(Se.isDate(v))return v.toISOString();if(!l&&Se.isBlob(v))throw new Ft("Blob is not supported. Use a Buffer instead.");return Se.isArrayBuffer(v)||Se.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,x,A){let g=v;if(v&&!A&&typeof v=="object"){if(Se.endsWith(x,"{}"))x=i?x:x.slice(0,-2),v=JSON.stringify(v);else if(Se.isArray(v)&&J7(v)||(Se.isFileList(v)||Se.endsWith(x,"[]"))&&(g=Se.toArray(v)))return x=UD(x),g.forEach(function(S,M){!(Se.isUndefined(S)||S===null)&&e.append(o===!0?D2([x],M,s):o===null?x:x+"[]",c(S))}),!1}return bA(v)?!0:(e.append(D2(A,x,s),c(v)),!1)}const f=[],p=Object.assign(q7,{defaultVisitor:d,convertValue:c,isVisitable:bA});function m(v,x){if(!Se.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(v),Se.forEach(v,function(g,_){(!(Se.isUndefined(g)||g===null)&&r.call(e,g,Se.isString(_)?_.trim():_,x,p))===!0&&m(g,x?x.concat(_):[_])}),f.pop()}}if(!Se.isObject(n))throw new TypeError("data must be an object");return m(n),e}function N2(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function tM(n,e){this._pairs=[],n&&Cv(n,this,e)}const zD=tM.prototype;zD.append=function(e,t){this._pairs.push([e,t])};zD.toString=function(e){const t=e?function(i){return e.call(this,i,N2)}:N2;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function Y7(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HD(n,e,t){if(!e)return n;const i=t&&t.encode||Y7,r=t&&t.serialize;let s;if(r?s=r(e,t):s=Se.isURLSearchParams(e)?e.toString():new tM(e,t).toString(i),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class F2{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Se.forEach(this.handlers,function(i){i!==null&&e(i)})}}const GD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},K7=typeof URLSearchParams<"u"?URLSearchParams:tM,Q7=typeof FormData<"u"?FormData:null,Z7=typeof Blob<"u"?Blob:null,$7={isBrowser:!0,classes:{URLSearchParams:K7,FormData:Q7,Blob:Z7},protocols:["http","https","file","blob","url","data"]},VD=typeof window<"u"&&typeof document<"u",eX=(n=>VD&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),tX=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nX=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:VD,hasStandardBrowserEnv:eX,hasStandardBrowserWebWorkerEnv:tX},Symbol.toStringTag,{value:"Module"})),Ws={...nX,...$7};function iX(n,e){return Cv(n,new Ws.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,s){return Ws.isNode&&Se.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function rX(n){return Se.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sX(n){const e={},t=Object.keys(n);let i;const r=t.length;let s;for(i=0;i<r;i++)s=t[i],e[s]=n[s];return e}function jD(n){function e(t,i,r,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&Se.isArray(r)?r.length:o,l?(Se.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!Se.isObject(r[o]))&&(r[o]=[]),e(t,i,r[o],s)&&Se.isArray(r[o])&&(r[o]=sX(r[o])),!a)}if(Se.isFormData(n)&&Se.isFunction(n.entries)){const t={};return Se.forEachEntry(n,(i,r)=>{e(rX(i),r,t,0)}),t}return null}function oX(n,e,t){if(Se.isString(n))try{return(e||JSON.parse)(n),Se.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const nM={transitional:GD,adapter:["xhr","http"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,s=Se.isObject(e);if(s&&Se.isHTMLForm(e)&&(e=new FormData(e)),Se.isFormData(e))return r&&r?JSON.stringify(jD(e)):e;if(Se.isArrayBuffer(e)||Se.isBuffer(e)||Se.isStream(e)||Se.isFile(e)||Se.isBlob(e))return e;if(Se.isArrayBufferView(e))return e.buffer;if(Se.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return iX(e,this.formSerializer).toString();if((a=Se.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Cv(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),oX(e)):e}],transformResponse:[function(e){const t=this.transitional||nM.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(e&&Se.isString(e)&&(i&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ft.from(a,Ft.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ws.classes.FormData,Blob:Ws.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Se.forEach(["delete","get","head","post","put","patch"],n=>{nM.headers[n]={}});const iM=nM,aX=Se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lX=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!t||e[t]&&aX[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},O2=Symbol("internals");function eh(n){return n&&String(n).trim().toLowerCase()}function Xg(n){return n===!1||n==null?n:Se.isArray(n)?n.map(Xg):String(n)}function cX(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const uX=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function u_(n,e,t,i,r){if(Se.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!Se.isString(e)){if(Se.isString(i))return e.indexOf(i)!==-1;if(Se.isRegExp(i))return i.test(e)}}function dX(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function hX(n,e){const t=Se.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}class Tv{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function s(a,l,c){const d=eh(l);if(!d)throw new Error("header name must be a non-empty string");const f=Se.findKey(r,d);(!f||r[f]===void 0||c===!0||c===void 0&&r[f]!==!1)&&(r[f||l]=Xg(a))}const o=(a,l)=>Se.forEach(a,(c,d)=>s(c,d,l));return Se.isPlainObject(e)||e instanceof this.constructor?o(e,t):Se.isString(e)&&(e=e.trim())&&!uX(e)?o(lX(e),t):e!=null&&s(t,e,i),this}get(e,t){if(e=eh(e),e){const i=Se.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return cX(r);if(Se.isFunction(t))return t.call(this,r,i);if(Se.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=eh(e),e){const i=Se.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||u_(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function s(o){if(o=eh(o),o){const a=Se.findKey(i,o);a&&(!t||u_(i,i[a],a,t))&&(delete i[a],r=!0)}}return Se.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const s=t[i];(!e||u_(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,i={};return Se.forEach(this,(r,s)=>{const o=Se.findKey(i,s);if(o){t[o]=Xg(r),delete t[s];return}const a=e?dX(s):String(s).trim();a!==s&&delete t[s],t[a]=Xg(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Se.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&Se.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[O2]=this[O2]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=eh(o);i[a]||(hX(r,o),i[a]=!0)}return Se.isArray(e)?e.forEach(s):s(e),this}}Tv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Se.reduceDescriptors(Tv.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});Se.freezeMethods(Tv);const Uo=Tv;function d_(n,e){const t=this||iM,i=e||t,r=Uo.from(i.headers);let s=i.data;return Se.forEach(n,function(a){s=a.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function WD(n){return!!(n&&n.__CANCEL__)}function Wf(n,e,t){Ft.call(this,n??"canceled",Ft.ERR_CANCELED,e,t),this.name="CanceledError"}Se.inherits(Wf,Ft,{__CANCEL__:!0});function fX(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Ft("Request failed with status code "+t.status,[Ft.ERR_BAD_REQUEST,Ft.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const pX=Ws.hasStandardBrowserEnv?{write(n,e,t,i,r,s){const o=[n+"="+encodeURIComponent(e)];Se.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Se.isString(i)&&o.push("path="+i),Se.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function mX(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function gX(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function XD(n,e){return n&&!mX(e)?gX(n,e):e}const vX=Ws.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function r(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=r(window.location.href),function(o){const a=Se.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function yX(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function xX(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=i[s];o||(o=c),t[r]=l,i[r]=c;let f=s,p=0;for(;f!==r;)p+=t[f++],f=f%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),c-o<e)return;const m=d&&c-d;return m?Math.round(p*1e3/m):void 0}}function k2(n,e){let t=0;const i=xX(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-t,l=i(a),c=s<=o;t=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:r};d[e?"download":"upload"]=!0,n(d)}}const _X=typeof XMLHttpRequest<"u",AX=_X&&function(n){return new Promise(function(t,i){let r=n.data;const s=Uo.from(n.headers).normalize();let{responseType:o,withXSRFToken:a}=n,l;function c(){n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let d;if(Se.isFormData(r)){if(Ws.hasStandardBrowserEnv||Ws.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((d=s.getContentType())!==!1){const[x,...A]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([x||"multipart/form-data",...A].join("; "))}}let f=new XMLHttpRequest;if(n.auth){const x=n.auth.username||"",A=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";s.set("Authorization","Basic "+btoa(x+":"+A))}const p=XD(n.baseURL,n.url);f.open(n.method.toUpperCase(),HD(p,n.params,n.paramsSerializer),!0),f.timeout=n.timeout;function m(){if(!f)return;const x=Uo.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:x,config:n,request:f};fX(function(S){t(S),c()},function(S){i(S),c()},g),f=null}if("onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){f&&(i(new Ft("Request aborted",Ft.ECONNABORTED,n,f)),f=null)},f.onerror=function(){i(new Ft("Network Error",Ft.ERR_NETWORK,n,f)),f=null},f.ontimeout=function(){let A=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const g=n.transitional||GD;n.timeoutErrorMessage&&(A=n.timeoutErrorMessage),i(new Ft(A,g.clarifyTimeoutError?Ft.ETIMEDOUT:Ft.ECONNABORTED,n,f)),f=null},Ws.hasStandardBrowserEnv&&(a&&Se.isFunction(a)&&(a=a(n)),a||a!==!1&&vX(p))){const x=n.xsrfHeaderName&&n.xsrfCookieName&&pX.read(n.xsrfCookieName);x&&s.set(n.xsrfHeaderName,x)}r===void 0&&s.setContentType(null),"setRequestHeader"in f&&Se.forEach(s.toJSON(),function(A,g){f.setRequestHeader(g,A)}),Se.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),o&&o!=="json"&&(f.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&f.addEventListener("progress",k2(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",k2(n.onUploadProgress)),(n.cancelToken||n.signal)&&(l=x=>{f&&(i(!x||x.type?new Wf(null,n,f):x),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const v=yX(p);if(v&&Ws.protocols.indexOf(v)===-1){i(new Ft("Unsupported protocol "+v+":",Ft.ERR_BAD_REQUEST,n));return}f.send(r||null)})},EA={http:X7,xhr:AX};Se.forEach(EA,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const U2=n=>`- ${n}`,SX=n=>Se.isFunction(n)||n===null||n===!1,JD={getAdapter:n=>{n=Se.isArray(n)?n:[n];const{length:e}=n;let t,i;const r={};for(let s=0;s<e;s++){t=n[s];let o;if(i=t,!SX(t)&&(i=EA[(o=String(t)).toLowerCase()],i===void 0))throw new Ft(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(U2).join(`
`):" "+U2(s[0]):"as no adapter specified";throw new Ft("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:EA};function h_(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Wf(null,n)}function z2(n){return h_(n),n.headers=Uo.from(n.headers),n.data=d_.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),JD.getAdapter(n.adapter||iM.adapter)(n).then(function(i){return h_(n),i.data=d_.call(n,n.transformResponse,i),i.headers=Uo.from(i.headers),i},function(i){return WD(i)||(h_(n),i&&i.response&&(i.response.data=d_.call(n,n.transformResponse,i.response),i.response.headers=Uo.from(i.response.headers))),Promise.reject(i)})}const H2=n=>n instanceof Uo?n.toJSON():n;function td(n,e){e=e||{};const t={};function i(c,d,f){return Se.isPlainObject(c)&&Se.isPlainObject(d)?Se.merge.call({caseless:f},c,d):Se.isPlainObject(d)?Se.merge({},d):Se.isArray(d)?d.slice():d}function r(c,d,f){if(Se.isUndefined(d)){if(!Se.isUndefined(c))return i(void 0,c,f)}else return i(c,d,f)}function s(c,d){if(!Se.isUndefined(d))return i(void 0,d)}function o(c,d){if(Se.isUndefined(d)){if(!Se.isUndefined(c))return i(void 0,c)}else return i(void 0,d)}function a(c,d,f){if(f in e)return i(c,d);if(f in n)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d)=>r(H2(c),H2(d),!0)};return Se.forEach(Object.keys(Object.assign({},n,e)),function(d){const f=l[d]||r,p=f(n[d],e[d],d);Se.isUndefined(p)&&f!==a||(t[d]=p)}),t}const qD="1.6.5",rM={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{rM[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const G2={};rM.transitional=function(e,t,i){function r(s,o){return"[Axios v"+qD+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new Ft(r(o," has been removed"+(t?" in "+t:"")),Ft.ERR_DEPRECATED);return t&&!G2[o]&&(G2[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function wX(n,e,t){if(typeof n!="object")throw new Ft("options must be an object",Ft.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new Ft("option "+s+" must be "+l,Ft.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ft("Unknown option "+s,Ft.ERR_BAD_OPTION)}}const CA={assertOptions:wX,validators:rM},sa=CA.validators;class G0{constructor(e){this.defaults=e,this.interceptors={request:new F2,response:new F2}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=td(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:s}=t;i!==void 0&&CA.assertOptions(i,{silentJSONParsing:sa.transitional(sa.boolean),forcedJSONParsing:sa.transitional(sa.boolean),clarifyTimeoutError:sa.transitional(sa.boolean)},!1),r!=null&&(Se.isFunction(r)?t.paramsSerializer={serialize:r}:CA.assertOptions(r,{encode:sa.function,serialize:sa.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&Se.merge(s.common,s[t.method]);s&&Se.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),t.headers=Uo.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(l=l&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let d,f=0,p;if(!l){const v=[z2.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,c),p=v.length,d=Promise.resolve(t);f<p;)d=d.then(v[f++],v[f++]);return d}p=a.length;let m=t;for(f=0;f<p;){const v=a[f++],x=a[f++];try{m=v(m)}catch(A){x.call(this,A);break}}try{d=z2.call(this,m)}catch(v){return Promise.reject(v)}for(f=0,p=c.length;f<p;)d=d.then(c[f++],c[f++]);return d}getUri(e){e=td(this.defaults,e);const t=XD(e.baseURL,e.url);return HD(t,e.params,e.paramsSerializer)}}Se.forEach(["delete","get","head","options"],function(e){G0.prototype[e]=function(t,i){return this.request(td(i||{},{method:e,url:t,data:(i||{}).data}))}});Se.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,a){return this.request(td(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}G0.prototype[e]=t(),G0.prototype[e+"Form"]=t(!0)});const Jg=G0;class sM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new Wf(s,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new sM(function(r){e=r}),cancel:e}}}const MX=sM;function bX(n){return function(t){return n.apply(null,t)}}function EX(n){return Se.isObject(n)&&n.isAxiosError===!0}const TA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(TA).forEach(([n,e])=>{TA[e]=n});const CX=TA;function YD(n){const e=new Jg(n),t=RD(Jg.prototype.request,e);return Se.extend(t,Jg.prototype,e,{allOwnKeys:!0}),Se.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return YD(td(n,r))},t}const Gn=YD(iM);Gn.Axios=Jg;Gn.CanceledError=Wf;Gn.CancelToken=MX;Gn.isCancel=WD;Gn.VERSION=qD;Gn.toFormData=Cv;Gn.AxiosError=Ft;Gn.Cancel=Gn.CanceledError;Gn.all=function(e){return Promise.all(e)};Gn.spread=bX;Gn.isAxiosError=EX;Gn.mergeConfig=td;Gn.AxiosHeaders=Uo;Gn.formToJSON=n=>jD(Se.isHTMLForm(n)?new FormData(n):n);Gn.getAdapter=JD.getAdapter;Gn.HttpStatusCode=CX;Gn.default=Gn;function TX({project:n,setFocus:e}){const t=n.gitLink.split("/"),i=t.pop(),r=t.pop(),[s,o]=ae.useState(null),a=window.innerWidth<1024;ae.useEffect(()=>{Gn.get(`https://api.github.com/repos/${r}/${i}`).then(c=>{o(c.data)}).catch(c=>console.error(c)),window.scrollTo(0,0)},[n.gitLink]);const l=()=>{ms(100,1,-20,n.tag.secColor,"canvas-bubble-consult","rgba(255,255,255,0.1)"),ms(90,90,10,n.tag.secColor,"canvas-bubble-consult","rgba(255,255,255,0.1)"),ms(90,120,10,n.tag.secGradientColor,"canvas-bubble-consult","rgba(255,255,255,0.1)"),ms(70,215,10,n.tag.secGradientColor,"canvas-bubble-consult","rgba(255,255,255,0.1)"),ms(40,280,10,n.tag.secColor,"canvas-bubble-consult","rgba(255,255,255,0.1)")};return ae.useEffect(()=>{const c=document.getElementById("canvas-bubble-consult");c&&setTimeout(()=>{c.style.opacity="1",c.style.transition="opacity 0.5s ease-in-out"},1e3),window.addEventListener("resize",()=>{l()}),l()},[]),C.jsx("div",{className:"relative",children:C.jsxs("div",{className:"head-content",children:[C.jsx("div",{className:"absolute top-0 left-0 right-0 h-72 opacity-90 ",children:C.jsx("div",{className:"fade-in",style:{width:"100%",animationDelay:"0.6s",animationDuration:"1s"},children:C.jsx("canvas",{id:"canvas-bubble-consult",style:{width:"100%",height:a?"400px":"850px",opacity:0}})})}),C.jsxs("div",{className:"relative w-full overflow-hidden min-h-[90vh] flex justify-center pt-12 lg:py-24 px-8 lg:px-0 z-0 sm:w-screen sm:overflow-auto",style:{maxWidth:"100vw"},children:[" ",C.jsx("button",{className:"fixed top-10 right-10 z-50 w-12 h-12 bg-black rounded-full text-white flex items-center justify-center text-xl focus:outline-none focus:ring focus:ring-gray-400",onClick:()=>e(null),children:C.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 352 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})})}),C.jsxs("div",{className:"relative mb-16 max-w-4xl z-30 mt-11",style:a?{maxWidth:"80vw"}:{},children:[" ",C.jsx("h1",{className:`z-10 lg:text-8xl text-6xl font-bold bg-clip-text relative -top-px text-left mb-16 text-gray-800 ${n.title.length>20?"text-4xl":""}`,style:{wordWrap:"normal",width:a?"200px":"500px"},children:n.title}),C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"flex justify-center mb-14",children:C.jsxs("figure",{children:[C.jsx("img",{src:n.previewImg,alt:"",className:"w-full mx-auto",style:{filter:"drop-shadow(0px 0px 20px rgba(0, 0, 0, 0.25))",borderRadius:"1rem",width:"80%",display:"block"}}),C.jsxs("figcaption",{className:"text-gray-500 text-sm mt-2 text-center",children:[n.title," Preview Image"]})]})}),C.jsxs("div",{className:"col-span-6 lg:col-span-4 flex justify-center items-center",children:[C.jsxs("dl",{className:"space-y-2 col-span-6 lg:col-span-4",children:[C.jsx("dt",{className:"opacity-100 font-bold uppercase tracking-widest text-xs",children:"Tag"}),C.jsx("div",{className:"mt-4",children:C.jsx("div",{className:"inline-block rounded-md px-3 py-2 uppercase tracking-widest text-xs font-semibold",style:{background:n.tag.fadedColor,color:n.tag.color},children:n.tag.name})})]}),C.jsxs("dl",{className:"space-y-2 col-span-6 lg:col-span-4 ml-4",children:[C.jsx("dt",{className:"opacity-100 font-bold uppercase tracking-widest text-xs",children:"Date de création"}),C.jsx("div",{className:"mt-4",children:C.jsx("div",{className:"inline-block rounded-md px-3 py-2 uppercase tracking-widest text-xs font-semibold",children:n.date})})]})]}),C.jsx("div",{children:C.jsx("div",{className:"relative py-12 px-0 lg:px-16 wide text-xl text-center text-indigo-500 border-t border-b border-indigo-300 !mt-20 !mb-10",children:C.jsx("p",{children:n.shortDesc})})}),C.jsxs("div",{className:"flex flex-col sm:flex-row mb-8",children:[C.jsx("div",{className:"w-full sm:w-1/3",children:C.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[C.jsx("span",{className:"font-semibold uppercase tracking-widest text-sm text-center",children:"Technologies"}),C.jsx("dl",{className:"divide-y divide-gray-200",children:n.techs.map(c=>C.jsx("div",{className:"py-4 grid gap-4 justify-items-center",children:C.jsx("dt",{className:"text-sm font-medium text-gray-500 col-span-6 lg:col-span-6",children:c})},c))})]})}),C.jsx("div",{className:"w-full sm:w-2/3 mt-4 sm:mt-0",children:C.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[C.jsx("span",{className:"font-semibold uppercase tracking-widest text-sm text-center",children:"GitHub"}),C.jsx("div",{className:"flex justify-center overflow-hidden",children:C.jsx("img",{src:s==null?void 0:s.owner.avatar_url,alt:"",className:"w-full object-cover h-48",style:{borderRadius:"1rem"}})}),C.jsxs("div",{className:"text-left text-lg",children:[C.jsxs("span",{className:"font-normal",children:[r,"/"]}),C.jsx("span",{className:"font-bold",children:i})]}),C.jsx("div",{className:"text-left text-sm text-gray-500",children:s==null?void 0:s.description}),C.jsx("div",{className:"flex justify-center mt-8",children:C.jsxs("a",{href:s==null?void 0:s.html_url,target:"_blank",rel:"noreferrer",className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center",children:[C.jsx(yw,{className:"mr-2"}),"Voir sur GitHub"]})})]})})]}),C.jsx(wn,{color1:"#5046e5"}),C.jsxs("div",{className:"relative mb-16 max-w-4xl z-30",children:[C.jsx("h1",{className:`z-10 lg:text-5xl text-5xl font-bold bg-clip-text relative -top-px text-left mb-8 text-gray-800 ${n.title.length>20?"text-4xl":""}`,children:"Contenu"}),C.jsx("div",{className:"dev-container-project",dangerouslySetInnerHTML:{__html:n.content}})," "]}),C.jsx("div",{children:C.jsxs("button",{style:{display:"inline-flex"},className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium items-center",onClick:()=>{e(null),window.scrollTo(0,400)},children:[C.jsx(Tz,{className:"mr-2"}),"Go back"]})})]})]})]})]})})}function RX({setIsDev:n}){const[e,t]=ae.useState(null);return e===null?C.jsxs(bz,{children:[C.jsx(_W,{setIsDev:n}),C.jsx(TW,{setFocus:t}),C.jsx(RW,{}),C.jsx(PW,{}),C.jsx(d7,{})]}):C.jsx(TX,{project:gD[e],setFocus:t})}function PX({setIsDev:n}){return ae.useEffect(()=>{ms(400,0,0,os.first,"canvas-bubble"),ms(200,600,0,os.second,"canvas-bubble"),ms(400,800,0,os.second,"canvas-bubble");const e=document.getElementById("canvas-bubble");e&&setTimeout(()=>{e.style.opacity="1",e.style.transition="opacity 0.5s ease-in-out"},1e3)},[]),C.jsxs("div",{className:"relative",children:[C.jsx(GB,{color1:os.first,color2:os.second}),C.jsxs("div",{className:"head-content",children:[C.jsx("div",{className:"absolute top-0 left-0 right-0 h-72 opacity-20",children:C.jsx("div",{className:"fade-in",style:{width:"100%",height:"100%",animationDelay:"0.6s",animationDuration:"1s"},children:C.jsx("canvas",{id:"canvas-bubble",height:"360",width:"1241",style:{width:"100%",height:"100%",opacity:0}})})}),C.jsx(gB,{setIsDev:n,firstColor:os.second,secondColor:os.first})]}),C.jsx("div",{className:"py-8 lg:py-16 flex items-center px-6",children:C.jsxs("div",{className:"text-center mx-auto inline-block",children:[C.jsx("div",{className:"py-2 z-1 px-6 gradient-border-badge-photo relative bg-transparent inline-flex items-center justify-center",children:C.jsx("span",{className:"z-10 text-sm lg:text-base bg-clip-text text-transparent font-semibold relative -top-px",style:{background:`linear-gradient(to right, ${os.first}, ${os.second})`,WebkitBackgroundClip:"text",color:"transparent",textDecoration:"none"},children:"PhotoPortfolio"})}),C.jsxs("h1",{className:"text-3xl lg:text-6xl leading-tight max-w-3xl font-bold tracking-tight mt-6",children:[C.jsx("a",{style:{background:`linear-gradient(to right, ${os.first}, #000000, #000000, #000000)`,WebkitBackgroundClip:"text",color:"transparent",textDecoration:"none"},children:"Éric PHILIPPE"})," ","- Photographe"," ",C.jsx("a",{style:{background:`linear-gradient(to right, #000000, #000000, ${os.second})`,WebkitBackgroundClip:"text",color:"transparent",textDecoration:"none"},children:"Amateur"})]}),C.jsxs("div",{className:"max-w-3xl mx-auto lg:text-xl text-gray-600 mt-3 leading-normal font-light",children:["Photographe amateur de ",VB()," ans, je prends des photos pour le plaisir et pour partager mes expériences."]})]})})]})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Xf="160",Pl={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ll={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},KD=0,RA=1,QD=2,LX=3,ZD=0,Rv=1,Uh=2,ds=3,eo=0,Xi=1,vs=2,BX=2,zo=0,Kl=1,PA=2,LA=3,BA=4,$D=5,Sa=100,eN=101,tN=102,IA=103,DA=104,nN=200,iN=201,rN=202,sN=203,V0=204,j0=205,oN=206,aN=207,lN=208,cN=209,uN=210,dN=211,hN=212,fN=213,pN=214,mN=0,gN=1,vN=2,gf=3,yN=4,xN=5,_N=6,AN=7,Jf=0,SN=1,wN=2,Ks=0,MN=1,bN=2,EN=3,oM=4,CN=5,TN=6,NA="attached",RN="detached",Pv=300,Xo=301,Xa=302,vf=303,yf=304,vd=306,Ja=1e3,fi=1001,nd=1002,bn=1003,xf=1004,IX=1004,Gu=1005,DX=1005,pn=1006,Lv=1007,NX=1007,to=1008,FX=1008,Qs=1009,PN=1010,LN=1011,Bv=1012,aM=1013,Bo=1014,xs=1015,id=1016,lM=1017,cM=1018,Oa=1020,BN=1021,Vi=1023,IN=1024,DN=1025,ka=1026,cc=1027,NN=1028,uM=1029,FN=1030,dM=1031,hM=1033,qg=33776,Yg=33777,Kg=33778,Qg=33779,FA=35840,OA=35841,kA=35842,UA=35843,fM=36196,zA=37492,HA=37496,GA=37808,VA=37809,jA=37810,WA=37811,XA=37812,JA=37813,qA=37814,YA=37815,KA=37816,QA=37817,ZA=37818,$A=37819,eS=37820,tS=37821,Zg=36492,nS=36494,iS=36495,ON=36283,rS=36284,sS=36285,oS=36286,kN=2200,UN=2201,zN=2202,rd=2300,uc=2301,$g=2302,Gl=2400,Vl=2401,_f=2402,Iv=2500,pM=2501,HN=0,mM=1,W0=2,gM=3e3,Ua=3001,GN=3200,VN=3201,el=0,jN=1,xr="",Wn="srgb",no="srgb-linear",Dv="display-p3",qf="display-p3-linear",Af="linear",Kt="srgb",Sf="rec709",wf="p3",OX=0,Bl=7680,kX=7681,UX=7682,zX=7683,HX=34055,GX=34056,VX=5386,jX=512,WX=513,XX=514,JX=515,qX=516,YX=517,KX=518,aS=519,WN=512,XN=513,JN=514,vM=515,qN=516,YN=517,KN=518,QN=519,Mf=35044,QX=35048,ZX=35040,$X=35045,eJ=35049,tJ=35041,nJ=35046,iJ=35050,rJ=35042,sJ="100",lS="300 es",X0=1035,_s=2e3,sd=2001;class ao{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Mi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let V2=1234567;const Ql=Math.PI/180,od=180/Math.PI;function Mr(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Mi[n&255]+Mi[n>>8&255]+Mi[n>>16&255]+Mi[n>>24&255]+"-"+Mi[e&255]+Mi[e>>8&255]+"-"+Mi[e>>16&15|64]+Mi[e>>24&255]+"-"+Mi[t&63|128]+Mi[t>>8&255]+"-"+Mi[t>>16&255]+Mi[t>>24&255]+Mi[i&255]+Mi[i>>8&255]+Mi[i>>16&255]+Mi[i>>24&255]).toLowerCase()}function En(n,e,t){return Math.max(e,Math.min(t,n))}function yM(n,e){return(n%e+e)%e}function oJ(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function aJ(n,e,t){return n!==e?(t-n)/(e-n):0}function zh(n,e,t){return(1-t)*n+t*e}function lJ(n,e,t,i){return zh(n,e,1-Math.exp(-t*i))}function cJ(n,e=1){return e-Math.abs(yM(n,e*2)-e)}function uJ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function dJ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function hJ(n,e){return n+Math.floor(Math.random()*(e-n+1))}function fJ(n,e){return n+Math.random()*(e-n)}function pJ(n){return n*(.5-Math.random())}function mJ(n){n!==void 0&&(V2=n);let e=V2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function gJ(n){return n*Ql}function vJ(n){return n*od}function cS(n){return(n&n-1)===0&&n!==0}function yJ(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function J0(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function xJ(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),d=o((e+i)/2),f=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*f,l*p,a*c);break;case"YZY":n.set(l*p,a*d,l*f,a*c);break;case"ZXZ":n.set(l*f,l*p,a*d,a*c);break;case"XZX":n.set(a*d,l*v,l*m,a*c);break;case"YXY":n.set(l*m,a*d,l*v,a*c);break;case"ZYZ":n.set(l*v,l*m,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function nr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function bt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const ZN={DEG2RAD:Ql,RAD2DEG:od,generateUUID:Mr,clamp:En,euclideanModulo:yM,mapLinear:oJ,inverseLerp:aJ,lerp:zh,damp:lJ,pingpong:cJ,smoothstep:uJ,smootherstep:dJ,randInt:hJ,randFloat:fJ,randFloatSpread:pJ,seededRandom:mJ,degToRad:gJ,radToDeg:vJ,isPowerOfTwo:cS,ceilPowerOfTwo:yJ,floorPowerOfTwo:J0,setQuaternionFromProperEuler:xJ,normalize:bt,denormalize:nr};class xe{constructor(e=0,t=0){xe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(En(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ct{constructor(e,t,i,r,s,o,a,l,c){Ct.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],d=i[4],f=i[7],p=i[2],m=i[5],v=i[8],x=r[0],A=r[3],g=r[6],_=r[1],S=r[4],M=r[7],T=r[2],P=r[5],B=r[8];return s[0]=o*x+a*_+l*T,s[3]=o*A+a*S+l*P,s[6]=o*g+a*M+l*B,s[1]=c*x+d*_+f*T,s[4]=c*A+d*S+f*P,s[7]=c*g+d*M+f*B,s[2]=p*x+m*_+v*T,s[5]=p*A+m*S+v*P,s[8]=p*g+m*M+v*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return t*o*d-t*a*c-i*s*d+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],f=d*o-a*c,p=a*l-d*s,m=c*s-o*l,v=t*f+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=f*x,e[1]=(r*c-d*i)*x,e[2]=(a*i-r*o)*x,e[3]=p*x,e[4]=(d*t-r*l)*x,e[5]=(r*s-a*t)*x,e[6]=m*x,e[7]=(i*l-c*t)*x,e[8]=(o*t-i*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(f_.makeScale(e,t)),this}rotate(e){return this.premultiply(f_.makeRotation(-e)),this}translate(e,t){return this.premultiply(f_.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const f_=new Ct;function $N(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const _J={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Lu(n,e){return new _J[n](e)}function bf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function eF(){const n=bf("canvas");return n.style.display="block",n}const j2={};function Hh(n){n in j2||(j2[n]=!0,console.warn(n))}const W2=new Ct().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),X2=new Ct().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Lm={[no]:{transfer:Af,primaries:Sf,toReference:n=>n,fromReference:n=>n},[Wn]:{transfer:Kt,primaries:Sf,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[qf]:{transfer:Af,primaries:wf,toReference:n=>n.applyMatrix3(X2),fromReference:n=>n.applyMatrix3(W2)},[Dv]:{transfer:Kt,primaries:wf,toReference:n=>n.convertSRGBToLinear().applyMatrix3(X2),fromReference:n=>n.applyMatrix3(W2).convertLinearToSRGB()}},AJ=new Set([no,qf]),Wt={enabled:!0,_workingColorSpace:no,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!AJ.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=Lm[e].toReference,r=Lm[t].fromReference;return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return Lm[n].primaries},getTransfer:function(n){return n===xr?Af:Lm[n].transfer}};function Vu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function p_(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Gc;class xM{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Gc===void 0&&(Gc=bf("canvas")),Gc.width=e.width,Gc.height=e.height;const i=Gc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Gc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=bf("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Vu(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Vu(t[i]/255)*255):t[i]=Vu(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let SJ=0;class jl{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:SJ++}),this.uuid=Mr(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(m_(r[o].image)):s.push(m_(r[o]))}else s=m_(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function m_(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?xM.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let wJ=0;class cn extends ao{constructor(e=cn.DEFAULT_IMAGE,t=cn.DEFAULT_MAPPING,i=fi,r=fi,s=pn,o=to,a=Vi,l=Qs,c=cn.DEFAULT_ANISOTROPY,d=xr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:wJ++}),this.uuid=Mr(),this.name="",this.source=new jl(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new xe(0,0),this.repeat=new xe(1,1),this.center=new xe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ct,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof d=="string"?this.colorSpace=d:(Hh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===Ua?Wn:xr),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Pv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ja:e.x=e.x-Math.floor(e.x);break;case fi:e.x=e.x<0?0:1;break;case nd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ja:e.y=e.y-Math.floor(e.y);break;case fi:e.y=e.y<0?0:1;break;case nd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Hh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Wn?Ua:gM}set encoding(e){Hh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Ua?Wn:xr}}cn.DEFAULT_IMAGE=null;cn.DEFAULT_MAPPING=Pv;cn.DEFAULT_ANISOTROPY=1;class Xt{constructor(e=0,t=0,i=0,r=1){Xt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],d=l[4],f=l[8],p=l[1],m=l[5],v=l[9],x=l[2],A=l[6],g=l[10];if(Math.abs(d-p)<.01&&Math.abs(f-x)<.01&&Math.abs(v-A)<.01){if(Math.abs(d+p)<.1&&Math.abs(f+x)<.1&&Math.abs(v+A)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,M=(m+1)/2,T=(g+1)/2,P=(d+p)/4,B=(f+x)/4,D=(v+A)/4;return S>M&&S>T?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=P/i,s=B/i):M>T?M<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(M),i=P/r,s=D/r):T<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),i=B/s,r=D/s),this.set(i,r,s,t),this}let _=Math.sqrt((A-v)*(A-v)+(f-x)*(f-x)+(p-d)*(p-d));return Math.abs(_)<.001&&(_=1),this.x=(A-v)/_,this.y=(f-x)/_,this.z=(p-d)/_,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class tF extends ao{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Xt(0,0,e,t),this.scissorTest=!1,this.viewport=new Xt(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(Hh("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Ua?Wn:xr),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:pn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new cn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new jl(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ts extends tF{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Nv extends cn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=bn,this.minFilter=bn,this.wrapR=fi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class MJ extends Ts{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Nv(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class _M extends cn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=bn,this.minFilter=bn,this.wrapR=fi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bJ extends Ts{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new _M(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class EJ extends Ts{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class oi{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],d=i[r+2],f=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],x=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=d,e[t+3]=f;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=x;return}if(f!==x||l!==p||c!==m||d!==v){let A=1-a;const g=l*p+c*m+d*v+f*x,_=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const T=Math.sqrt(S),P=Math.atan2(T,g*_);A=Math.sin(A*P)/T,a=Math.sin(a*P)/T}const M=a*_;if(l=l*A+p*M,c=c*A+m*M,d=d*A+v*M,f=f*A+x*M,A===1-a){const T=1/Math.sqrt(l*l+c*c+d*d+f*f);l*=T,c*=T,d*=T,f*=T}}e[t]=l,e[t+1]=c,e[t+2]=d,e[t+3]=f}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],d=i[r+3],f=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+d*f+l*m-c*p,e[t+1]=l*v+d*p+c*f-a*m,e[t+2]=c*v+d*m+a*p-l*f,e[t+3]=d*v-a*f-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),d=a(r/2),f=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*d*f+c*m*v,this._y=c*m*f-p*d*v,this._z=c*d*v+p*m*f,this._w=c*d*f-p*m*v;break;case"YXZ":this._x=p*d*f+c*m*v,this._y=c*m*f-p*d*v,this._z=c*d*v-p*m*f,this._w=c*d*f+p*m*v;break;case"ZXY":this._x=p*d*f-c*m*v,this._y=c*m*f+p*d*v,this._z=c*d*v+p*m*f,this._w=c*d*f-p*m*v;break;case"ZYX":this._x=p*d*f-c*m*v,this._y=c*m*f+p*d*v,this._z=c*d*v-p*m*f,this._w=c*d*f+p*m*v;break;case"YZX":this._x=p*d*f+c*m*v,this._y=c*m*f+p*d*v,this._z=c*d*v-p*m*f,this._w=c*d*f-p*m*v;break;case"XZY":this._x=p*d*f-c*m*v,this._y=c*m*f-p*d*v,this._z=c*d*v+p*m*f,this._w=c*d*f+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],d=t[6],f=t[10],p=i+a+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>f){const m=2*Math.sqrt(1+i-a-f);this._w=(d-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>f){const m=2*Math.sqrt(1+a-i-f);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+f-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(En(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,d=t._w;return this._x=i*d+o*a+r*c-s*l,this._y=r*d+o*l+s*a-i*c,this._z=s*d+o*c+i*l-r*a,this._w=o*d-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),f=Math.sin((1-t)*d)/c,p=Math.sin(t*d)/c;return this._w=o*f+this._w*p,this._x=i*f+this._x*p,this._y=r*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class U{constructor(e=0,t=0,i=0){U.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(J2.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(J2.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),d=2*(a*t-s*r),f=2*(s*i-o*t);return this.x=t+l*c+o*f-a*d,this.y=i+l*d+a*c-s*f,this.z=r+l*f+s*d-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return g_.copy(this).projectOnVector(e),this.sub(g_)}reflect(e){return this.sub(g_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(En(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const g_=new U,J2=new oi;class Pi{constructor(e=new U(1/0,1/0,1/0),t=new U(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(as.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(as.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=as.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,as):as.fromBufferAttribute(s,o),as.applyMatrix4(e.matrixWorld),this.expandByPoint(as);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Bm.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Bm.copy(i.boundingBox)),Bm.applyMatrix4(e.matrixWorld),this.union(Bm)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,as),as.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(th),Im.subVectors(this.max,th),Vc.subVectors(e.a,th),jc.subVectors(e.b,th),Wc.subVectors(e.c,th),oa.subVectors(jc,Vc),aa.subVectors(Wc,jc),ml.subVectors(Vc,Wc);let t=[0,-oa.z,oa.y,0,-aa.z,aa.y,0,-ml.z,ml.y,oa.z,0,-oa.x,aa.z,0,-aa.x,ml.z,0,-ml.x,-oa.y,oa.x,0,-aa.y,aa.x,0,-ml.y,ml.x,0];return!v_(t,Vc,jc,Wc,Im)||(t=[1,0,0,0,1,0,0,0,1],!v_(t,Vc,jc,Wc,Im))?!1:(Dm.crossVectors(oa,aa),t=[Dm.x,Dm.y,Dm.z],v_(t,Vc,jc,Wc,Im))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,as).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(as).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(vo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),vo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),vo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),vo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),vo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),vo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),vo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),vo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(vo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const vo=[new U,new U,new U,new U,new U,new U,new U,new U],as=new U,Bm=new Pi,Vc=new U,jc=new U,Wc=new U,oa=new U,aa=new U,ml=new U,th=new U,Im=new U,Dm=new U,gl=new U;function v_(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){gl.fromArray(n,s);const a=r.x*Math.abs(gl.x)+r.y*Math.abs(gl.y)+r.z*Math.abs(gl.z),l=e.dot(gl),c=t.dot(gl),d=i.dot(gl);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const CJ=new Pi,nh=new U,y_=new U;class mi{constructor(e=new U,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):CJ.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;nh.subVectors(e,this.center);const t=nh.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(nh,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(y_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(nh.copy(e.center).add(y_)),this.expandByPoint(nh.copy(e.center).sub(y_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const yo=new U,x_=new U,Nm=new U,la=new U,__=new U,Fm=new U,A_=new U;class vc{constructor(e=new U,t=new U(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,yo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=yo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(yo.copy(this.origin).addScaledVector(this.direction,t),yo.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){x_.copy(e).add(t).multiplyScalar(.5),Nm.copy(t).sub(e).normalize(),la.copy(this.origin).sub(x_);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Nm),a=la.dot(this.direction),l=-la.dot(Nm),c=la.lengthSq(),d=Math.abs(1-o*o);let f,p,m,v;if(d>0)if(f=o*l-a,p=o*a-l,v=s*d,f>=0)if(p>=-v)if(p<=v){const x=1/d;f*=x,p*=x,m=f*(f+o*p+2*a)+p*(o*f+p+2*l)+c}else p=s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p=-s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p<=-v?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c):p<=v?(f=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(x_).addScaledVector(Nm,p),m}intersectSphere(e,t){yo.subVectors(e.center,this.origin);const i=yo.dot(this.direction),r=yo.dot(yo)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,yo)!==null}intersectTriangle(e,t,i,r,s){__.subVectors(t,e),Fm.subVectors(i,e),A_.crossVectors(__,Fm);let o=this.direction.dot(A_),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;la.subVectors(this.origin,e);const l=a*this.direction.dot(Fm.crossVectors(la,Fm));if(l<0)return null;const c=a*this.direction.dot(__.cross(la));if(c<0||l+c>o)return null;const d=-a*la.dot(A_);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class dt{constructor(e,t,i,r,s,o,a,l,c,d,f,p,m,v,x,A){dt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,d,f,p,m,v,x,A)}set(e,t,i,r,s,o,a,l,c,d,f,p,m,v,x,A){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=d,g[10]=f,g[14]=p,g[3]=m,g[7]=v,g[11]=x,g[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Xc.setFromMatrixColumn(e,0).length(),s=1/Xc.setFromMatrixColumn(e,1).length(),o=1/Xc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*f,v=a*d,x=a*f;t[0]=l*d,t[4]=-l*f,t[8]=c,t[1]=m+v*c,t[5]=p-x*c,t[9]=-a*l,t[2]=x-p*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*f,v=c*d,x=c*f;t[0]=p+x*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*f,t[5]=o*d,t[9]=-a,t[2]=m*a-v,t[6]=x+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*f,v=c*d,x=c*f;t[0]=p-x*a,t[4]=-o*f,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*d,t[9]=x-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*f,v=a*d,x=a*f;t[0]=l*d,t[4]=v*c-m,t[8]=p*c+x,t[1]=l*f,t[5]=x*c+p,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,x=a*c;t[0]=l*d,t[4]=x-p*f,t[8]=v*f+m,t[1]=f,t[5]=o*d,t[9]=-a*d,t[2]=-c*d,t[6]=m*f+v,t[10]=p-x*f}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,x=a*c;t[0]=l*d,t[4]=-f,t[8]=c*d,t[1]=p*f+x,t[5]=o*d,t[9]=m*f-v,t[2]=v*f-m,t[6]=a*d,t[10]=x*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(TJ,e,RJ)}lookAt(e,t,i){const r=this.elements;return pr.subVectors(e,t),pr.lengthSq()===0&&(pr.z=1),pr.normalize(),ca.crossVectors(i,pr),ca.lengthSq()===0&&(Math.abs(i.z)===1?pr.x+=1e-4:pr.z+=1e-4,pr.normalize(),ca.crossVectors(i,pr)),ca.normalize(),Om.crossVectors(pr,ca),r[0]=ca.x,r[4]=Om.x,r[8]=pr.x,r[1]=ca.y,r[5]=Om.y,r[9]=pr.y,r[2]=ca.z,r[6]=Om.z,r[10]=pr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],d=i[1],f=i[5],p=i[9],m=i[13],v=i[2],x=i[6],A=i[10],g=i[14],_=i[3],S=i[7],M=i[11],T=i[15],P=r[0],B=r[4],D=r[8],L=r[12],I=r[1],H=r[5],W=r[9],ee=r[13],z=r[2],Q=r[6],Z=r[10],ce=r[14],N=r[3],V=r[7],j=r[11],K=r[15];return s[0]=o*P+a*I+l*z+c*N,s[4]=o*B+a*H+l*Q+c*V,s[8]=o*D+a*W+l*Z+c*j,s[12]=o*L+a*ee+l*ce+c*K,s[1]=d*P+f*I+p*z+m*N,s[5]=d*B+f*H+p*Q+m*V,s[9]=d*D+f*W+p*Z+m*j,s[13]=d*L+f*ee+p*ce+m*K,s[2]=v*P+x*I+A*z+g*N,s[6]=v*B+x*H+A*Q+g*V,s[10]=v*D+x*W+A*Z+g*j,s[14]=v*L+x*ee+A*ce+g*K,s[3]=_*P+S*I+M*z+T*N,s[7]=_*B+S*H+M*Q+T*V,s[11]=_*D+S*W+M*Z+T*j,s[15]=_*L+S*ee+M*ce+T*K,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],f=e[6],p=e[10],m=e[14],v=e[3],x=e[7],A=e[11],g=e[15];return v*(+s*l*f-r*c*f-s*a*p+i*c*p+r*a*m-i*l*m)+x*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*d-s*l*d)+A*(+t*c*f-t*a*m-s*o*f+i*o*m+s*a*d-i*c*d)+g*(-r*a*d-t*l*f+t*a*p+r*o*f-i*o*p+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],f=e[9],p=e[10],m=e[11],v=e[12],x=e[13],A=e[14],g=e[15],_=f*A*c-x*p*c+x*l*m-a*A*m-f*l*g+a*p*g,S=v*p*c-d*A*c-v*l*m+o*A*m+d*l*g-o*p*g,M=d*x*c-v*f*c+v*a*m-o*x*m-d*a*g+o*f*g,T=v*f*l-d*x*l-v*a*p+o*x*p+d*a*A-o*f*A,P=t*_+i*S+r*M+s*T;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/P;return e[0]=_*B,e[1]=(x*p*s-f*A*s-x*r*m+i*A*m+f*r*g-i*p*g)*B,e[2]=(a*A*s-x*l*s+x*r*c-i*A*c-a*r*g+i*l*g)*B,e[3]=(f*l*s-a*p*s-f*r*c+i*p*c+a*r*m-i*l*m)*B,e[4]=S*B,e[5]=(d*A*s-v*p*s+v*r*m-t*A*m-d*r*g+t*p*g)*B,e[6]=(v*l*s-o*A*s-v*r*c+t*A*c+o*r*g-t*l*g)*B,e[7]=(o*p*s-d*l*s+d*r*c-t*p*c-o*r*m+t*l*m)*B,e[8]=M*B,e[9]=(v*f*s-d*x*s-v*i*m+t*x*m+d*i*g-t*f*g)*B,e[10]=(o*x*s-v*a*s+v*i*c-t*x*c-o*i*g+t*a*g)*B,e[11]=(d*a*s-o*f*s-d*i*c+t*f*c+o*i*m-t*a*m)*B,e[12]=T*B,e[13]=(d*x*r-v*f*r+v*i*p-t*x*p-d*i*A+t*f*A)*B,e[14]=(v*a*r-o*x*r-v*i*l+t*x*l+o*i*A-t*a*A)*B,e[15]=(o*f*r-d*a*r+d*i*l-t*f*l-o*i*p+t*a*p)*B,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,d*a+i,d*l-r*o,0,c*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,d=o+o,f=a+a,p=s*c,m=s*d,v=s*f,x=o*d,A=o*f,g=a*f,_=l*c,S=l*d,M=l*f,T=i.x,P=i.y,B=i.z;return r[0]=(1-(x+g))*T,r[1]=(m+M)*T,r[2]=(v-S)*T,r[3]=0,r[4]=(m-M)*P,r[5]=(1-(p+g))*P,r[6]=(A+_)*P,r[7]=0,r[8]=(v+S)*B,r[9]=(A-_)*B,r[10]=(1-(p+x))*B,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Xc.set(r[0],r[1],r[2]).length();const o=Xc.set(r[4],r[5],r[6]).length(),a=Xc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],ls.copy(this);const c=1/s,d=1/o,f=1/a;return ls.elements[0]*=c,ls.elements[1]*=c,ls.elements[2]*=c,ls.elements[4]*=d,ls.elements[5]*=d,ls.elements[6]*=d,ls.elements[8]*=f,ls.elements[9]*=f,ls.elements[10]*=f,t.setFromRotationMatrix(ls),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=_s){const l=this.elements,c=2*s/(t-e),d=2*s/(i-r),f=(t+e)/(t-e),p=(i+r)/(i-r);let m,v;if(a===_s)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===sd)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=d,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=_s){const l=this.elements,c=1/(t-e),d=1/(i-r),f=1/(o-s),p=(t+e)*c,m=(i+r)*d;let v,x;if(a===_s)v=(o+s)*f,x=-2*f;else if(a===sd)v=s*f,x=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Xc=new U,ls=new dt,TJ=new U(0,0,0),RJ=new U(1,1,1),ca=new U,Om=new U,pr=new U,q2=new dt,Y2=new oi;class Yf{constructor(e=0,t=0,i=0,r=Yf.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],d=r[9],f=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(En(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-En(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(En(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-En(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(En(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-En(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return q2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(q2,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Y2.setFromEuler(this),this.setFromQuaternion(Y2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Yf.DEFAULT_ORDER="XYZ";class Zl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let PJ=0;const K2=new U,Jc=new oi,xo=new dt,km=new U,ih=new U,LJ=new U,BJ=new oi,Q2=new U(1,0,0),Z2=new U(0,1,0),$2=new U(0,0,1),IJ={type:"added"},DJ={type:"removed"};class Ot extends ao{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:PJ++}),this.uuid=Mr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ot.DEFAULT_UP.clone();const e=new U,t=new Yf,i=new oi,r=new U(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new dt},normalMatrix:{value:new Ct}}),this.matrix=new dt,this.matrixWorld=new dt,this.matrixAutoUpdate=Ot.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ot.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Zl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Jc.setFromAxisAngle(e,t),this.quaternion.multiply(Jc),this}rotateOnWorldAxis(e,t){return Jc.setFromAxisAngle(e,t),this.quaternion.premultiply(Jc),this}rotateX(e){return this.rotateOnAxis(Q2,e)}rotateY(e){return this.rotateOnAxis(Z2,e)}rotateZ(e){return this.rotateOnAxis($2,e)}translateOnAxis(e,t){return K2.copy(e).applyQuaternion(this.quaternion),this.position.add(K2.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Q2,e)}translateY(e){return this.translateOnAxis(Z2,e)}translateZ(e){return this.translateOnAxis($2,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(xo.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?km.copy(e):km.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),ih.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xo.lookAt(ih,km,this.up):xo.lookAt(km,ih,this.up),this.quaternion.setFromRotationMatrix(xo),r&&(xo.extractRotation(r.matrixWorld),Jc.setFromRotationMatrix(xo),this.quaternion.premultiply(Jc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(IJ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(DJ)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),xo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),xo.multiply(e.parent.matrixWorld)),e.applyMatrix4(xo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ih,e,LJ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ih,BJ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),f.length>0&&(i.shapes=f),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Ot.DEFAULT_UP=new U(0,1,0);Ot.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ot.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const cs=new U,_o=new U,S_=new U,Ao=new U,qc=new U,Yc=new U,eR=new U,w_=new U,M_=new U,b_=new U;let Um=!1;class tr{constructor(e=new U,t=new U,i=new U){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),cs.subVectors(e,t),r.cross(cs);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){cs.subVectors(r,t),_o.subVectors(i,t),S_.subVectors(e,t);const o=cs.dot(cs),a=cs.dot(_o),l=cs.dot(S_),c=_o.dot(_o),d=_o.dot(S_),f=o*c-a*a;if(f===0)return s.set(0,0,0),null;const p=1/f,m=(c*l-a*d)*p,v=(o*d-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Ao)===null?!1:Ao.x>=0&&Ao.y>=0&&Ao.x+Ao.y<=1}static getUV(e,t,i,r,s,o,a,l){return Um===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Um=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Ao)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Ao.x),l.addScaledVector(o,Ao.y),l.addScaledVector(a,Ao.z),l)}static isFrontFacing(e,t,i,r){return cs.subVectors(i,t),_o.subVectors(e,t),cs.cross(_o).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return cs.subVectors(this.c,this.b),_o.subVectors(this.a,this.b),cs.cross(_o).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return tr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return tr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Um===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Um=!0),tr.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return tr.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return tr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return tr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;qc.subVectors(r,i),Yc.subVectors(s,i),w_.subVectors(e,i);const l=qc.dot(w_),c=Yc.dot(w_);if(l<=0&&c<=0)return t.copy(i);M_.subVectors(e,r);const d=qc.dot(M_),f=Yc.dot(M_);if(d>=0&&f<=d)return t.copy(r);const p=l*f-d*c;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(qc,o);b_.subVectors(e,s);const m=qc.dot(b_),v=Yc.dot(b_);if(v>=0&&m<=v)return t.copy(s);const x=m*c-l*v;if(x<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(i).addScaledVector(Yc,a);const A=d*v-m*f;if(A<=0&&f-d>=0&&m-v>=0)return eR.subVectors(s,r),a=(f-d)/(f-d+(m-v)),t.copy(r).addScaledVector(eR,a);const g=1/(A+x+p);return o=x*g,a=p*g,t.copy(i).addScaledVector(qc,o).addScaledVector(Yc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const nF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ua={h:0,s:0,l:0},zm={h:0,s:0,l:0};function E_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Fe{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Wn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Wt.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Wt.workingColorSpace){return this.r=e,this.g=t,this.b=i,Wt.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Wt.workingColorSpace){if(e=yM(e,1),t=En(t,0,1),i=En(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=E_(o,s,e+1/3),this.g=E_(o,s,e),this.b=E_(o,s,e-1/3)}return Wt.toWorkingColorSpace(this,r),this}setStyle(e,t=Wn){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Wn){const i=nF[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Vu(e.r),this.g=Vu(e.g),this.b=Vu(e.b),this}copyLinearToSRGB(e){return this.r=p_(e.r),this.g=p_(e.g),this.b=p_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Wn){return Wt.fromWorkingColorSpace(bi.copy(this),e),Math.round(En(bi.r*255,0,255))*65536+Math.round(En(bi.g*255,0,255))*256+Math.round(En(bi.b*255,0,255))}getHexString(e=Wn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Wt.workingColorSpace){Wt.fromWorkingColorSpace(bi.copy(this),t);const i=bi.r,r=bi.g,s=bi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=d<=.5?f/(o+a):f/(2-o-a),o){case i:l=(r-s)/f+(r<s?6:0);break;case r:l=(s-i)/f+2;break;case s:l=(i-r)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,t=Wt.workingColorSpace){return Wt.fromWorkingColorSpace(bi.copy(this),t),e.r=bi.r,e.g=bi.g,e.b=bi.b,e}getStyle(e=Wn){Wt.fromWorkingColorSpace(bi.copy(this),e);const t=bi.r,i=bi.g,r=bi.b;return e!==Wn?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(ua),this.setHSL(ua.h+e,ua.s+t,ua.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(ua),e.getHSL(zm);const i=zh(ua.h,zm.h,t),r=zh(ua.s,zm.s,t),s=zh(ua.l,zm.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const bi=new Fe;Fe.NAMES=nF;let NJ=0;class Hn extends ao{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:NJ++}),this.uuid=Mr(),this.name="",this.type="Material",this.blending=Kl,this.side=eo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=V0,this.blendDst=j0,this.blendEquation=Sa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Fe(0,0,0),this.blendAlpha=0,this.depthFunc=gf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=aS,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Bl,this.stencilZFail=Bl,this.stencilZPass=Bl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Kl&&(i.blending=this.blending),this.side!==eo&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==V0&&(i.blendSrc=this.blendSrc),this.blendDst!==j0&&(i.blendDst=this.blendDst),this.blendEquation!==Sa&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==gf&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==aS&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Bl&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Bl&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Bl&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ar extends Hn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Jf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const To=FJ();function FJ(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function $i(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=En(n,-65504,65504),To.floatView[0]=n;const e=To.uint32View[0],t=e>>23&511;return To.baseTable[t]+((e&8388607)>>To.shiftTable[t])}function Ah(n){const e=n>>10;return To.uint32View[0]=To.mantissaTable[To.offsetTable[e]+(n&1023)]+To.exponentTable[e],To.floatView[0]}const OJ={toHalfFloat:$i,fromHalfFloat:Ah},On=new U,Hm=new xe;class kt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Mf,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=xs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Hm.fromBufferAttribute(this,t),Hm.applyMatrix3(e),this.setXY(t,Hm.x,Hm.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)On.fromBufferAttribute(this,t),On.applyMatrix3(e),this.setXYZ(t,On.x,On.y,On.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)On.fromBufferAttribute(this,t),On.applyMatrix4(e),this.setXYZ(t,On.x,On.y,On.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)On.fromBufferAttribute(this,t),On.applyNormalMatrix(e),this.setXYZ(t,On.x,On.y,On.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)On.fromBufferAttribute(this,t),On.transformDirection(e),this.setXYZ(t,On.x,On.y,On.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=nr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=bt(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=nr(t,this.array)),t}setX(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=nr(t,this.array)),t}setY(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=nr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=nr(t,this.array)),t}setW(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array),r=bt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array),r=bt(r,this.array),s=bt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Mf&&(e.usage=this.usage),e}}class kJ extends kt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class UJ extends kt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class zJ extends kt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class HJ extends kt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class AM extends kt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class GJ extends kt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class SM extends kt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class VJ extends kt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Ah(this.array[e*this.itemSize]);return this.normalized&&(t=nr(t,this.array)),t}setX(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize]=$i(t),this}getY(e){let t=Ah(this.array[e*this.itemSize+1]);return this.normalized&&(t=nr(t,this.array)),t}setY(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize+1]=$i(t),this}getZ(e){let t=Ah(this.array[e*this.itemSize+2]);return this.normalized&&(t=nr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize+2]=$i(t),this}getW(e){let t=Ah(this.array[e*this.itemSize+3]);return this.normalized&&(t=nr(t,this.array)),t}setW(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize+3]=$i(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array)),this.array[e+0]=$i(t),this.array[e+1]=$i(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array),r=bt(r,this.array)),this.array[e+0]=$i(t),this.array[e+1]=$i(i),this.array[e+2]=$i(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array),r=bt(r,this.array),s=bt(s,this.array)),this.array[e+0]=$i(t),this.array[e+1]=$i(i),this.array[e+2]=$i(r),this.array[e+3]=$i(s),this}}class Ze extends kt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class jJ extends kt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let WJ=0;const jr=new dt,C_=new Ot,Kc=new U,mr=new Pi,rh=new Pi,ni=new U;class wt extends ao{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:WJ++}),this.uuid=Mr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new($N(e)?SM:AM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Ct().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return jr.makeRotationFromQuaternion(e),this.applyMatrix4(jr),this}rotateX(e){return jr.makeRotationX(e),this.applyMatrix4(jr),this}rotateY(e){return jr.makeRotationY(e),this.applyMatrix4(jr),this}rotateZ(e){return jr.makeRotationZ(e),this.applyMatrix4(jr),this}translate(e,t,i){return jr.makeTranslation(e,t,i),this.applyMatrix4(jr),this}scale(e,t,i){return jr.makeScale(e,t,i),this.applyMatrix4(jr),this}lookAt(e){return C_.lookAt(e),C_.updateMatrix(),this.applyMatrix4(C_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kc).negate(),this.translate(Kc.x,Kc.y,Kc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ze(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Pi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new U(-1/0,-1/0,-1/0),new U(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];mr.setFromBufferAttribute(s),this.morphTargetsRelative?(ni.addVectors(this.boundingBox.min,mr.min),this.boundingBox.expandByPoint(ni),ni.addVectors(this.boundingBox.max,mr.max),this.boundingBox.expandByPoint(ni)):(this.boundingBox.expandByPoint(mr.min),this.boundingBox.expandByPoint(mr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new mi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new U,1/0);return}if(e){const i=this.boundingSphere.center;if(mr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];rh.setFromBufferAttribute(a),this.morphTargetsRelative?(ni.addVectors(mr.min,rh.min),mr.expandByPoint(ni),ni.addVectors(mr.max,rh.max),mr.expandByPoint(ni)):(mr.expandByPoint(rh.min),mr.expandByPoint(rh.max))}mr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)ni.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(ni));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)ni.fromBufferAttribute(a,c),l&&(Kc.fromBufferAttribute(e,c),ni.add(Kc)),r=Math.max(r,i.distanceToSquared(ni))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new kt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let I=0;I<a;I++)c[I]=new U,d[I]=new U;const f=new U,p=new U,m=new U,v=new xe,x=new xe,A=new xe,g=new U,_=new U;function S(I,H,W){f.fromArray(r,I*3),p.fromArray(r,H*3),m.fromArray(r,W*3),v.fromArray(o,I*2),x.fromArray(o,H*2),A.fromArray(o,W*2),p.sub(f),m.sub(f),x.sub(v),A.sub(v);const ee=1/(x.x*A.y-A.x*x.y);isFinite(ee)&&(g.copy(p).multiplyScalar(A.y).addScaledVector(m,-x.y).multiplyScalar(ee),_.copy(m).multiplyScalar(x.x).addScaledVector(p,-A.x).multiplyScalar(ee),c[I].add(g),c[H].add(g),c[W].add(g),d[I].add(_),d[H].add(_),d[W].add(_))}let M=this.groups;M.length===0&&(M=[{start:0,count:i.length}]);for(let I=0,H=M.length;I<H;++I){const W=M[I],ee=W.start,z=W.count;for(let Q=ee,Z=ee+z;Q<Z;Q+=3)S(i[Q+0],i[Q+1],i[Q+2])}const T=new U,P=new U,B=new U,D=new U;function L(I){B.fromArray(s,I*3),D.copy(B);const H=c[I];T.copy(H),T.sub(B.multiplyScalar(B.dot(H))).normalize(),P.crossVectors(D,H);const ee=P.dot(d[I])<0?-1:1;l[I*4]=T.x,l[I*4+1]=T.y,l[I*4+2]=T.z,l[I*4+3]=ee}for(let I=0,H=M.length;I<H;++I){const W=M[I],ee=W.start,z=W.count;for(let Q=ee,Z=ee+z;Q<Z;Q+=3)L(i[Q+0]),L(i[Q+1]),L(i[Q+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new kt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new U,s=new U,o=new U,a=new U,l=new U,c=new U,d=new U,f=new U;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),x=e.getX(p+1),A=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,x),o.fromBufferAttribute(t,A),d.subVectors(o,s),f.subVectors(r,s),d.cross(f),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,x),c.fromBufferAttribute(i,A),a.add(d),l.add(d),c.add(d),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(x,l.x,l.y,l.z),i.setXYZ(A,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),f.subVectors(r,s),d.cross(f),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)ni.fromBufferAttribute(e,t),ni.normalize(),e.setXYZ(t,ni.x,ni.y,ni.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,f=a.normalized,p=new c.constructor(l.length*d);let m=0,v=0;for(let x=0,A=l.length;x<A;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*d;for(let g=0;g<d;g++)p[v++]=c[m++]}return new kt(p,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new wt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,f=c.length;d<f;d++){const p=c[d],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let f=0,p=c.length;f<p;f++){const m=c[f];d.push(m.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const d=r[c];this.setAttribute(c,d.clone(t))}const s=e.morphAttributes;for(const c in s){const d=[],f=s[c];for(let p=0,m=f.length;p<m;p++)d.push(f[p].clone(t));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const tR=new dt,vl=new vc,Gm=new mi,nR=new U,Qc=new U,Zc=new U,$c=new U,T_=new U,Vm=new U,jm=new xe,Wm=new xe,Xm=new xe,iR=new U,rR=new U,sR=new U,Jm=new U,qm=new U;class zn extends Ot{constructor(e=new wt,t=new Ar){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Vm.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],f=s[l];d!==0&&(T_.fromBufferAttribute(f,e),o?Vm.addScaledVector(T_,d):Vm.addScaledVector(T_.sub(t),d))}t.add(Vm)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Gm.copy(i.boundingSphere),Gm.applyMatrix4(s),vl.copy(e.ray).recast(e.near),!(Gm.containsPoint(vl.origin)===!1&&(vl.intersectSphere(Gm,nR)===null||vl.origin.distanceToSquared(nR)>(e.far-e.near)**2))&&(tR.copy(s).invert(),vl.copy(e.ray).applyMatrix4(tR),!(i.boundingBox!==null&&vl.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,vl)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,f=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const A=p[v],g=o[A.materialIndex],_=Math.max(A.start,m.start),S=Math.min(a.count,Math.min(A.start+A.count,m.start+m.count));for(let M=_,T=S;M<T;M+=3){const P=a.getX(M),B=a.getX(M+1),D=a.getX(M+2);r=Ym(this,g,e,i,c,d,f,P,B,D),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let A=v,g=x;A<g;A+=3){const _=a.getX(A),S=a.getX(A+1),M=a.getX(A+2);r=Ym(this,o,e,i,c,d,f,_,S,M),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const A=p[v],g=o[A.materialIndex],_=Math.max(A.start,m.start),S=Math.min(l.count,Math.min(A.start+A.count,m.start+m.count));for(let M=_,T=S;M<T;M+=3){const P=M,B=M+1,D=M+2;r=Ym(this,g,e,i,c,d,f,P,B,D),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let A=v,g=x;A<g;A+=3){const _=A,S=A+1,M=A+2;r=Ym(this,o,e,i,c,d,f,_,S,M),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}}}function XJ(n,e,t,i,r,s,o,a){let l;if(e.side===Xi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===eo,a),l===null)return null;qm.copy(a),qm.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(qm);return c<t.near||c>t.far?null:{distance:c,point:qm.clone(),object:n}}function Ym(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,Qc),n.getVertexPosition(l,Zc),n.getVertexPosition(c,$c);const d=XJ(n,e,t,i,Qc,Zc,$c,Jm);if(d){r&&(jm.fromBufferAttribute(r,a),Wm.fromBufferAttribute(r,l),Xm.fromBufferAttribute(r,c),d.uv=tr.getInterpolation(Jm,Qc,Zc,$c,jm,Wm,Xm,new xe)),s&&(jm.fromBufferAttribute(s,a),Wm.fromBufferAttribute(s,l),Xm.fromBufferAttribute(s,c),d.uv1=tr.getInterpolation(Jm,Qc,Zc,$c,jm,Wm,Xm,new xe),d.uv2=d.uv1),o&&(iR.fromBufferAttribute(o,a),rR.fromBufferAttribute(o,l),sR.fromBufferAttribute(o,c),d.normal=tr.getInterpolation(Jm,Qc,Zc,$c,iR,rR,sR,new U),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new U,materialIndex:0};tr.getNormal(Qc,Zc,$c,f.normal),d.face=f}return d}class yc extends wt{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],f=[];let p=0,m=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ze(c,3)),this.setAttribute("normal",new Ze(d,3)),this.setAttribute("uv",new Ze(f,2));function v(x,A,g,_,S,M,T,P,B,D,L){const I=M/B,H=T/D,W=M/2,ee=T/2,z=P/2,Q=B+1,Z=D+1;let ce=0,N=0;const V=new U;for(let j=0;j<Z;j++){const K=j*H-ee;for(let ie=0;ie<Q;ie++){const re=ie*I-W;V[x]=re*_,V[A]=K*S,V[g]=z,c.push(V.x,V.y,V.z),V[x]=0,V[A]=0,V[g]=P>0?1:-1,d.push(V.x,V.y,V.z),f.push(ie/B),f.push(1-j/D),ce+=1}}for(let j=0;j<D;j++)for(let K=0;K<B;K++){const ie=p+K+Q*j,re=p+K+Q*(j+1),fe=p+(K+1)+Q*(j+1),we=p+(K+1)+Q*j;l.push(ie,re,we),l.push(re,fe,we),N+=6}a.addGroup(m,N,L),m+=N,p+=ce}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ad(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function ki(n){const e={};for(let t=0;t<n.length;t++){const i=ad(n[t]);for(const r in i)e[r]=i[r]}return e}function JJ(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function iF(n){return n.getRenderTarget()===null?n.outputColorSpace:Wt.workingColorSpace}const rF={clone:ad,merge:ki};var qJ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,YJ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class io extends Hn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=qJ,this.fragmentShader=YJ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ad(e.uniforms),this.uniformsGroups=JJ(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Kf extends Ot{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dt,this.projectionMatrix=new dt,this.projectionMatrixInverse=new dt,this.coordinateSystem=_s}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class mn extends Kf{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=od*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ql*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return od*2*Math.atan(Math.tan(Ql*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ql*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const eu=-90,tu=1;class sF extends Ot{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new mn(eu,tu,e,t);r.layers=this.layers,this.add(r);const s=new mn(eu,tu,e,t);s.layers=this.layers,this.add(s);const o=new mn(eu,tu,e,t);o.layers=this.layers,this.add(o);const a=new mn(eu,tu,e,t);a.layers=this.layers,this.add(a);const l=new mn(eu,tu,e,t);l.layers=this.layers,this.add(l);const c=new mn(eu,tu,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===_s)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===sd)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,d]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const x=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=x,e.setRenderTarget(i,5,r),e.render(t,d),e.setRenderTarget(f,p,m),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}class Qf extends cn{constructor(e,t,i,r,s,o,a,l,c,d){e=e!==void 0?e:[],t=t!==void 0?t:Xo,super(e,t,i,r,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class oF extends Ts{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(Hh("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Ua?Wn:xr),this.texture=new Qf(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:pn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new yc(5,5,5),s=new io({name:"CubemapFromEquirect",uniforms:ad(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Xi,blending:zo});s.uniforms.tEquirect.value=t;const o=new zn(r,s),a=t.minFilter;return t.minFilter===to&&(t.minFilter=pn),new sF(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const R_=new U,KJ=new U,QJ=new Ct;class Co{constructor(e=new U(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=R_.subVectors(i,t).cross(KJ.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(R_),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||QJ.getNormalMatrix(e),r=this.coplanarPoint(R_).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const yl=new mi,Km=new U;class Zf{constructor(e=new Co,t=new Co,i=new Co,r=new Co,s=new Co,o=new Co){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=_s){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],d=r[5],f=r[6],p=r[7],m=r[8],v=r[9],x=r[10],A=r[11],g=r[12],_=r[13],S=r[14],M=r[15];if(i[0].setComponents(l-s,p-c,A-m,M-g).normalize(),i[1].setComponents(l+s,p+c,A+m,M+g).normalize(),i[2].setComponents(l+o,p+d,A+v,M+_).normalize(),i[3].setComponents(l-o,p-d,A-v,M-_).normalize(),i[4].setComponents(l-a,p-f,A-x,M-S).normalize(),t===_s)i[5].setComponents(l+a,p+f,A+x,M+S).normalize();else if(t===sd)i[5].setComponents(a,f,x,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),yl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),yl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(yl)}intersectsSprite(e){return yl.center.set(0,0,0),yl.radius=.7071067811865476,yl.applyMatrix4(e.matrixWorld),this.intersectsSphere(yl)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Km.x=r.normal.x>0?e.max.x:e.min.x,Km.y=r.normal.y>0?e.max.y:e.min.y,Km.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Km)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function aF(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function ZJ(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,d){const f=c.array,p=c.usage,m=f.byteLength,v=n.createBuffer();n.bindBuffer(d,v),n.bufferData(d,f,p),c.onUploadCallback();let x;if(f instanceof Float32Array)x=n.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)x=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)x=n.SHORT;else if(f instanceof Uint32Array)x=n.UNSIGNED_INT;else if(f instanceof Int32Array)x=n.INT;else if(f instanceof Int8Array)x=n.BYTE;else if(f instanceof Uint8Array)x=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)x=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:v,type:x,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version,size:m}}function s(c,d,f){const p=d.array,m=d._updateRange,v=d.updateRanges;if(n.bindBuffer(f,c),m.count===-1&&v.length===0&&n.bufferSubData(f,0,p),v.length!==0){for(let x=0,A=v.length;x<A;x++){const g=v[x];t?n.bufferSubData(f,g.start*p.BYTES_PER_ELEMENT,p,g.start,g.count):n.bufferSubData(f,g.start*p.BYTES_PER_ELEMENT,p.subarray(g.start,g.start+g.count))}d.clearUpdateRanges()}m.count!==-1&&(t?n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d&&(n.deleteBuffer(d.buffer),i.delete(c))}function l(c,d){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=i.get(c);if(f===void 0)i.set(c,r(c,d));else if(f.version<c.version){if(f.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(f.buffer,c,d),f.version=c.version}}return{get:o,remove:a,update:l}}class $f extends wt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,d=l+1,f=e/a,p=t/l,m=[],v=[],x=[],A=[];for(let g=0;g<d;g++){const _=g*p-o;for(let S=0;S<c;S++){const M=S*f-s;v.push(M,-_,0),x.push(0,0,1),A.push(S/a),A.push(1-g/l)}}for(let g=0;g<l;g++)for(let _=0;_<a;_++){const S=_+c*g,M=_+c*(g+1),T=_+1+c*(g+1),P=_+1+c*g;m.push(S,M,P),m.push(M,T,P)}this.setIndex(m),this.setAttribute("position",new Ze(v,3)),this.setAttribute("normal",new Ze(x,3)),this.setAttribute("uv",new Ze(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $f(e.width,e.height,e.widthSegments,e.heightSegments)}}var $J=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,eq=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,tq=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,nq=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,iq=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,rq=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,sq=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,oq=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,aq=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,lq=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,cq=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,uq=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,dq=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,hq=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,fq=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,pq=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,mq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,gq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,vq=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,yq=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,xq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,_q=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Aq=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Sq=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,wq=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Mq=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,bq=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Eq=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Cq=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Tq=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Rq="gl_FragColor = linearToOutputTexel( gl_FragColor );",Pq=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Lq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Bq=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Iq=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Dq=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Nq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Fq=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Oq=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,kq=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Uq=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,zq=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Hq=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Gq=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Vq=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,jq=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Wq=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Xq=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Jq=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,qq=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Yq=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Kq=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Qq=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Zq=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$q=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,eY=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,tY=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,nY=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,iY=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,rY=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,sY=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,oY=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,aY=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,lY=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,cY=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,uY=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,dY=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,hY=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,fY=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,pY=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,mY=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,gY=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,vY=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,yY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_Y=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,AY=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,SY=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,wY=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,MY=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,bY=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,EY=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,CY=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,TY=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,RY=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,PY=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,LY=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,BY=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,IY=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,DY=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,NY=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,FY=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,OY=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,kY=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,UY=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,zY=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,HY=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,GY=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,VY=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,jY=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,WY=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,XY=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,JY=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,qY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,YY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,KY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,QY=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ZY=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,$Y=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,eK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tK=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,iK=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,sK=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,oK=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,aK=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,lK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,cK=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uK=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,dK=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,hK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fK=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pK=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mK=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gK=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,vK=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yK=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,xK=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,_K=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SK=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,wK=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MK=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bK=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EK=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,CK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,TK=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RK=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,PK=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,LK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Mt={alphahash_fragment:$J,alphahash_pars_fragment:eq,alphamap_fragment:tq,alphamap_pars_fragment:nq,alphatest_fragment:iq,alphatest_pars_fragment:rq,aomap_fragment:sq,aomap_pars_fragment:oq,batching_pars_vertex:aq,batching_vertex:lq,begin_vertex:cq,beginnormal_vertex:uq,bsdfs:dq,iridescence_fragment:hq,bumpmap_pars_fragment:fq,clipping_planes_fragment:pq,clipping_planes_pars_fragment:mq,clipping_planes_pars_vertex:gq,clipping_planes_vertex:vq,color_fragment:yq,color_pars_fragment:xq,color_pars_vertex:_q,color_vertex:Aq,common:Sq,cube_uv_reflection_fragment:wq,defaultnormal_vertex:Mq,displacementmap_pars_vertex:bq,displacementmap_vertex:Eq,emissivemap_fragment:Cq,emissivemap_pars_fragment:Tq,colorspace_fragment:Rq,colorspace_pars_fragment:Pq,envmap_fragment:Lq,envmap_common_pars_fragment:Bq,envmap_pars_fragment:Iq,envmap_pars_vertex:Dq,envmap_physical_pars_fragment:Xq,envmap_vertex:Nq,fog_vertex:Fq,fog_pars_vertex:Oq,fog_fragment:kq,fog_pars_fragment:Uq,gradientmap_pars_fragment:zq,lightmap_fragment:Hq,lightmap_pars_fragment:Gq,lights_lambert_fragment:Vq,lights_lambert_pars_fragment:jq,lights_pars_begin:Wq,lights_toon_fragment:Jq,lights_toon_pars_fragment:qq,lights_phong_fragment:Yq,lights_phong_pars_fragment:Kq,lights_physical_fragment:Qq,lights_physical_pars_fragment:Zq,lights_fragment_begin:$q,lights_fragment_maps:eY,lights_fragment_end:tY,logdepthbuf_fragment:nY,logdepthbuf_pars_fragment:iY,logdepthbuf_pars_vertex:rY,logdepthbuf_vertex:sY,map_fragment:oY,map_pars_fragment:aY,map_particle_fragment:lY,map_particle_pars_fragment:cY,metalnessmap_fragment:uY,metalnessmap_pars_fragment:dY,morphcolor_vertex:hY,morphnormal_vertex:fY,morphtarget_pars_vertex:pY,morphtarget_vertex:mY,normal_fragment_begin:gY,normal_fragment_maps:vY,normal_pars_fragment:yY,normal_pars_vertex:xY,normal_vertex:_Y,normalmap_pars_fragment:AY,clearcoat_normal_fragment_begin:SY,clearcoat_normal_fragment_maps:wY,clearcoat_pars_fragment:MY,iridescence_pars_fragment:bY,opaque_fragment:EY,packing:CY,premultiplied_alpha_fragment:TY,project_vertex:RY,dithering_fragment:PY,dithering_pars_fragment:LY,roughnessmap_fragment:BY,roughnessmap_pars_fragment:IY,shadowmap_pars_fragment:DY,shadowmap_pars_vertex:NY,shadowmap_vertex:FY,shadowmask_pars_fragment:OY,skinbase_vertex:kY,skinning_pars_vertex:UY,skinning_vertex:zY,skinnormal_vertex:HY,specularmap_fragment:GY,specularmap_pars_fragment:VY,tonemapping_fragment:jY,tonemapping_pars_fragment:WY,transmission_fragment:XY,transmission_pars_fragment:JY,uv_pars_fragment:qY,uv_pars_vertex:YY,uv_vertex:KY,worldpos_vertex:QY,background_vert:ZY,background_frag:$Y,backgroundCube_vert:eK,backgroundCube_frag:tK,cube_vert:nK,cube_frag:iK,depth_vert:rK,depth_frag:sK,distanceRGBA_vert:oK,distanceRGBA_frag:aK,equirect_vert:lK,equirect_frag:cK,linedashed_vert:uK,linedashed_frag:dK,meshbasic_vert:hK,meshbasic_frag:fK,meshlambert_vert:pK,meshlambert_frag:mK,meshmatcap_vert:gK,meshmatcap_frag:vK,meshnormal_vert:yK,meshnormal_frag:xK,meshphong_vert:_K,meshphong_frag:AK,meshphysical_vert:SK,meshphysical_frag:wK,meshtoon_vert:MK,meshtoon_frag:bK,points_vert:EK,points_frag:CK,shadow_vert:TK,shadow_frag:RK,sprite_vert:PK,sprite_frag:LK},De={common:{diffuse:{value:new Fe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ct},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ct}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ct}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ct}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ct},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ct},normalScale:{value:new xe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ct},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ct}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ct}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ct}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Fe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Fe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0},uvTransform:{value:new Ct}},sprite:{diffuse:{value:new Fe(16777215)},opacity:{value:1},center:{value:new xe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ct},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0}}},ps={basic:{uniforms:ki([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.fog]),vertexShader:Mt.meshbasic_vert,fragmentShader:Mt.meshbasic_frag},lambert:{uniforms:ki([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.fog,De.lights,{emissive:{value:new Fe(0)}}]),vertexShader:Mt.meshlambert_vert,fragmentShader:Mt.meshlambert_frag},phong:{uniforms:ki([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.fog,De.lights,{emissive:{value:new Fe(0)},specular:{value:new Fe(1118481)},shininess:{value:30}}]),vertexShader:Mt.meshphong_vert,fragmentShader:Mt.meshphong_frag},standard:{uniforms:ki([De.common,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.roughnessmap,De.metalnessmap,De.fog,De.lights,{emissive:{value:new Fe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag},toon:{uniforms:ki([De.common,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.gradientmap,De.fog,De.lights,{emissive:{value:new Fe(0)}}]),vertexShader:Mt.meshtoon_vert,fragmentShader:Mt.meshtoon_frag},matcap:{uniforms:ki([De.common,De.bumpmap,De.normalmap,De.displacementmap,De.fog,{matcap:{value:null}}]),vertexShader:Mt.meshmatcap_vert,fragmentShader:Mt.meshmatcap_frag},points:{uniforms:ki([De.points,De.fog]),vertexShader:Mt.points_vert,fragmentShader:Mt.points_frag},dashed:{uniforms:ki([De.common,De.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mt.linedashed_vert,fragmentShader:Mt.linedashed_frag},depth:{uniforms:ki([De.common,De.displacementmap]),vertexShader:Mt.depth_vert,fragmentShader:Mt.depth_frag},normal:{uniforms:ki([De.common,De.bumpmap,De.normalmap,De.displacementmap,{opacity:{value:1}}]),vertexShader:Mt.meshnormal_vert,fragmentShader:Mt.meshnormal_frag},sprite:{uniforms:ki([De.sprite,De.fog]),vertexShader:Mt.sprite_vert,fragmentShader:Mt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ct},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Mt.background_vert,fragmentShader:Mt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Mt.backgroundCube_vert,fragmentShader:Mt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mt.cube_vert,fragmentShader:Mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mt.equirect_vert,fragmentShader:Mt.equirect_frag},distanceRGBA:{uniforms:ki([De.common,De.displacementmap,{referencePosition:{value:new U},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mt.distanceRGBA_vert,fragmentShader:Mt.distanceRGBA_frag},shadow:{uniforms:ki([De.lights,De.fog,{color:{value:new Fe(0)},opacity:{value:1}}]),vertexShader:Mt.shadow_vert,fragmentShader:Mt.shadow_frag}};ps.physical={uniforms:ki([ps.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ct},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ct},clearcoatNormalScale:{value:new xe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ct},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ct},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ct},sheen:{value:0},sheenColor:{value:new Fe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ct},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ct},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ct},transmissionSamplerSize:{value:new xe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ct},attenuationDistance:{value:0},attenuationColor:{value:new Fe(0)},specularColor:{value:new Fe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ct},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ct},anisotropyVector:{value:new xe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ct}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag};const Qm={r:0,b:0,g:0};function BK(n,e,t,i,r,s,o){const a=new Fe(0);let l=s===!0?0:1,c,d,f=null,p=0,m=null;function v(A,g){let _=!1,S=g.isScene===!0?g.background:null;S&&S.isTexture&&(S=(g.backgroundBlurriness>0?t:e).get(S)),S===null?x(a,l):S&&S.isColor&&(x(S,1),_=!0);const M=n.xr.getEnvironmentBlendMode();M==="additive"?i.buffers.color.setClear(0,0,0,1,o):M==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===vd)?(d===void 0&&(d=new zn(new yc(1,1,1),new io({name:"BackgroundCubeMaterial",uniforms:ad(ps.backgroundCube.uniforms),vertexShader:ps.backgroundCube.vertexShader,fragmentShader:ps.backgroundCube.fragmentShader,side:Xi,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(T,P,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=S,d.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,d.material.toneMapped=Wt.getTransfer(S.colorSpace)!==Kt,(f!==S||p!==S.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,f=S,p=S.version,m=n.toneMapping),d.layers.enableAll(),A.unshift(d,d.geometry,d.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new zn(new $f(2,2),new io({name:"BackgroundMaterial",uniforms:ad(ps.background.uniforms),vertexShader:ps.background.vertexShader,fragmentShader:ps.background.fragmentShader,side:eo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=Wt.getTransfer(S.colorSpace)!==Kt,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(f!==S||p!==S.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,f=S,p=S.version,m=n.toneMapping),c.layers.enableAll(),A.unshift(c,c.geometry,c.material,0,0,null))}function x(A,g){A.getRGB(Qm,iF(n)),i.buffers.color.setClear(Qm.r,Qm.g,Qm.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(A,g=1){a.set(A),l=g,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,x(a,l)},render:v}}function IK(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=A(null);let c=l,d=!1;function f(z,Q,Z,ce,N){let V=!1;if(o){const j=x(ce,Z,Q);c!==j&&(c=j,m(c.object)),V=g(z,ce,Z,N),V&&_(z,ce,Z,N)}else{const j=Q.wireframe===!0;(c.geometry!==ce.id||c.program!==Z.id||c.wireframe!==j)&&(c.geometry=ce.id,c.program=Z.id,c.wireframe=j,V=!0)}N!==null&&t.update(N,n.ELEMENT_ARRAY_BUFFER),(V||d)&&(d=!1,D(z,Q,Z,ce),N!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(N).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(z){return i.isWebGL2?n.bindVertexArray(z):s.bindVertexArrayOES(z)}function v(z){return i.isWebGL2?n.deleteVertexArray(z):s.deleteVertexArrayOES(z)}function x(z,Q,Z){const ce=Z.wireframe===!0;let N=a[z.id];N===void 0&&(N={},a[z.id]=N);let V=N[Q.id];V===void 0&&(V={},N[Q.id]=V);let j=V[ce];return j===void 0&&(j=A(p()),V[ce]=j),j}function A(z){const Q=[],Z=[],ce=[];for(let N=0;N<r;N++)Q[N]=0,Z[N]=0,ce[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Q,enabledAttributes:Z,attributeDivisors:ce,object:z,attributes:{},index:null}}function g(z,Q,Z,ce){const N=c.attributes,V=Q.attributes;let j=0;const K=Z.getAttributes();for(const ie in K)if(K[ie].location>=0){const fe=N[ie];let we=V[ie];if(we===void 0&&(ie==="instanceMatrix"&&z.instanceMatrix&&(we=z.instanceMatrix),ie==="instanceColor"&&z.instanceColor&&(we=z.instanceColor)),fe===void 0||fe.attribute!==we||we&&fe.data!==we.data)return!0;j++}return c.attributesNum!==j||c.index!==ce}function _(z,Q,Z,ce){const N={},V=Q.attributes;let j=0;const K=Z.getAttributes();for(const ie in K)if(K[ie].location>=0){let fe=V[ie];fe===void 0&&(ie==="instanceMatrix"&&z.instanceMatrix&&(fe=z.instanceMatrix),ie==="instanceColor"&&z.instanceColor&&(fe=z.instanceColor));const we={};we.attribute=fe,fe&&fe.data&&(we.data=fe.data),N[ie]=we,j++}c.attributes=N,c.attributesNum=j,c.index=ce}function S(){const z=c.newAttributes;for(let Q=0,Z=z.length;Q<Z;Q++)z[Q]=0}function M(z){T(z,0)}function T(z,Q){const Z=c.newAttributes,ce=c.enabledAttributes,N=c.attributeDivisors;Z[z]=1,ce[z]===0&&(n.enableVertexAttribArray(z),ce[z]=1),N[z]!==Q&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](z,Q),N[z]=Q)}function P(){const z=c.newAttributes,Q=c.enabledAttributes;for(let Z=0,ce=Q.length;Z<ce;Z++)Q[Z]!==z[Z]&&(n.disableVertexAttribArray(Z),Q[Z]=0)}function B(z,Q,Z,ce,N,V,j){j===!0?n.vertexAttribIPointer(z,Q,Z,N,V):n.vertexAttribPointer(z,Q,Z,ce,N,V)}function D(z,Q,Z,ce){if(i.isWebGL2===!1&&(z.isInstancedMesh||ce.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const N=ce.attributes,V=Z.getAttributes(),j=Q.defaultAttributeValues;for(const K in V){const ie=V[K];if(ie.location>=0){let re=N[K];if(re===void 0&&(K==="instanceMatrix"&&z.instanceMatrix&&(re=z.instanceMatrix),K==="instanceColor"&&z.instanceColor&&(re=z.instanceColor)),re!==void 0){const fe=re.normalized,we=re.itemSize,Ce=t.get(re);if(Ce===void 0)continue;const Le=Ce.buffer,rt=Ce.type,ot=Ce.bytesPerElement,ze=i.isWebGL2===!0&&(rt===n.INT||rt===n.UNSIGNED_INT||re.gpuType===aM);if(re.isInterleavedBufferAttribute){const We=re.data,X=We.stride,be=re.offset;if(We.isInstancedInterleavedBuffer){for(let _e=0;_e<ie.locationSize;_e++)T(ie.location+_e,We.meshPerAttribute);z.isInstancedMesh!==!0&&ce._maxInstanceCount===void 0&&(ce._maxInstanceCount=We.meshPerAttribute*We.count)}else for(let _e=0;_e<ie.locationSize;_e++)M(ie.location+_e);n.bindBuffer(n.ARRAY_BUFFER,Le);for(let _e=0;_e<ie.locationSize;_e++)B(ie.location+_e,we/ie.locationSize,rt,fe,X*ot,(be+we/ie.locationSize*_e)*ot,ze)}else{if(re.isInstancedBufferAttribute){for(let We=0;We<ie.locationSize;We++)T(ie.location+We,re.meshPerAttribute);z.isInstancedMesh!==!0&&ce._maxInstanceCount===void 0&&(ce._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let We=0;We<ie.locationSize;We++)M(ie.location+We);n.bindBuffer(n.ARRAY_BUFFER,Le);for(let We=0;We<ie.locationSize;We++)B(ie.location+We,we/ie.locationSize,rt,fe,we*ot,we/ie.locationSize*We*ot,ze)}}else if(j!==void 0){const fe=j[K];if(fe!==void 0)switch(fe.length){case 2:n.vertexAttrib2fv(ie.location,fe);break;case 3:n.vertexAttrib3fv(ie.location,fe);break;case 4:n.vertexAttrib4fv(ie.location,fe);break;default:n.vertexAttrib1fv(ie.location,fe)}}}}P()}function L(){W();for(const z in a){const Q=a[z];for(const Z in Q){const ce=Q[Z];for(const N in ce)v(ce[N].object),delete ce[N];delete Q[Z]}delete a[z]}}function I(z){if(a[z.id]===void 0)return;const Q=a[z.id];for(const Z in Q){const ce=Q[Z];for(const N in ce)v(ce[N].object),delete ce[N];delete Q[Z]}delete a[z.id]}function H(z){for(const Q in a){const Z=a[Q];if(Z[z.id]===void 0)continue;const ce=Z[z.id];for(const N in ce)v(ce[N].object),delete ce[N];delete Z[z.id]}}function W(){ee(),d=!0,c!==l&&(c=l,m(c.object))}function ee(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:W,resetDefaultState:ee,dispose:L,releaseStatesOfGeometry:I,releaseStatesOfProgram:H,initAttributes:S,enableAttribute:M,disableUnusedAttributes:P}}function DK(n,e,t,i){const r=i.isWebGL2;let s;function o(d){s=d}function a(d,f){n.drawArrays(s,d,f),t.update(f,s,1)}function l(d,f,p){if(p===0)return;let m,v;if(r)m=n,v="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](s,d,f,p),t.update(f,s,p)}function c(d,f,p){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<p;v++)this.render(d[v],f[v]);else{m.multiDrawArraysWEBGL(s,d,0,f,0,p);let v=0;for(let x=0;x<p;x++)v+=f[x];t.update(v,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=c}function NK(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(B){if(B==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),A=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),_=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),S=p>0,M=o||e.has("OES_texture_float"),T=S&&M,P=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:f,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:x,maxVertexUniforms:A,maxVaryings:g,maxFragmentUniforms:_,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:T,maxSamples:P}}function FK(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Co,a=new Ct,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||i!==0||r;return r=p,i=f.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){t=d(f,p,0)},this.setState=function(f,p,m){const v=f.clippingPlanes,x=f.clipIntersection,A=f.clipShadows,g=n.get(f);if(!r||v===null||v.length===0||s&&!A)s?d(null):c();else{const _=s?0:i,S=_*4;let M=g.clippingState||null;l.value=M,M=d(v,p,S,m);for(let T=0;T!==S;++T)M[T]=t[T];g.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(f,p,m,v){const x=f!==null?f.length:0;let A=null;if(x!==0){if(A=l.value,v!==!0||A===null){const g=m+x*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(A===null||A.length<g)&&(A=new Float32Array(g));for(let S=0,M=m;S!==x;++S,M+=4)o.copy(f[S]).applyMatrix4(_,a),o.normal.toArray(A,M),A[M+3]=o.constant}l.value=A,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,A}}function OK(n){let e=new WeakMap;function t(o,a){return a===vf?o.mapping=Xo:a===yf&&(o.mapping=Xa),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===vf||a===yf)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new oF(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Xs extends Kf{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Bu=4,oR=[.125,.215,.35,.446,.526,.582],Dl=20,P_=new Xs,aR=new Fe;let L_=null,B_=0,I_=0;const Il=(1+Math.sqrt(5))/2,nu=1/Il,lR=[new U(1,1,1),new U(-1,1,1),new U(1,1,-1),new U(-1,1,-1),new U(0,Il,nu),new U(0,Il,-nu),new U(nu,0,Il),new U(-nu,0,Il),new U(Il,nu,0),new U(-Il,nu,0)];class uS{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){L_=this._renderer.getRenderTarget(),B_=this._renderer.getActiveCubeFace(),I_=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=dR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=uR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(L_,B_,I_),e.scissorTest=!1,Zm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Xo||e.mapping===Xa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),L_=this._renderer.getRenderTarget(),B_=this._renderer.getActiveCubeFace(),I_=this._renderer.getActiveMipmapLevel();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:pn,minFilter:pn,generateMipmaps:!1,type:id,format:Vi,colorSpace:no,depthBuffer:!1},r=cR(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=cR(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=kK(s)),this._blurMaterial=UK(s,e,t)}return r}_compileMaterial(e){const t=new zn(this._lodPlanes[0],e);this._renderer.compile(t,P_)}_sceneToCubeUV(e,t,i,r){const a=new mn(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,p=d.toneMapping;d.getClearColor(aR),d.toneMapping=Ks,d.autoClear=!1;const m=new Ar({name:"PMREM.Background",side:Xi,depthWrite:!1,depthTest:!1}),v=new zn(new yc,m);let x=!1;const A=e.background;A?A.isColor&&(m.color.copy(A),e.background=null,x=!0):(m.color.copy(aR),x=!0);for(let g=0;g<6;g++){const _=g%3;_===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):_===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const S=this._cubeSize;Zm(r,_*S,g>2?S:0,S,S),d.setRenderTarget(r),x&&d.render(v,a),d.render(e,a)}v.geometry.dispose(),v.material.dispose(),d.toneMapping=p,d.autoClear=f,e.background=A}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Xo||e.mapping===Xa;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=dR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=uR());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new zn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Zm(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,P_)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=lR[(r-1)%lR.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new zn(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Dl-1),x=s/v,A=isFinite(s)?1+Math.floor(d*x):Dl;A>Dl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${Dl}`);const g=[];let _=0;for(let B=0;B<Dl;++B){const D=B/x,L=Math.exp(-D*D/2);g.push(L),B===0?_+=L:B<A&&(_+=2*L)}for(let B=0;B<g.length;B++)g[B]=g[B]/_;p.envMap.value=e.texture,p.samples.value=A,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=v,p.mipInt.value=S-i;const M=this._sizeLods[r],T=3*M*(r>S-Bu?r-S+Bu:0),P=4*(this._cubeSize-M);Zm(t,T,P,3*M,2*M),l.setRenderTarget(t),l.render(f,P_)}}function kK(n){const e=[],t=[],i=[];let r=n;const s=n-Bu+1+oR.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Bu?l=oR[o-n+Bu-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),d=-c,f=1+c,p=[d,d,f,d,f,f,d,d,f,f,d,f],m=6,v=6,x=3,A=2,g=1,_=new Float32Array(x*v*m),S=new Float32Array(A*v*m),M=new Float32Array(g*v*m);for(let P=0;P<m;P++){const B=P%3*2/3-1,D=P>2?0:-1,L=[B,D,0,B+2/3,D,0,B+2/3,D+1,0,B,D,0,B+2/3,D+1,0,B,D+1,0];_.set(L,x*v*P),S.set(p,A*v*P);const I=[P,P,P,P,P,P];M.set(I,g*v*P)}const T=new wt;T.setAttribute("position",new kt(_,x)),T.setAttribute("uv",new kt(S,A)),T.setAttribute("faceIndex",new kt(M,g)),e.push(T),r>Bu&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function cR(n,e,t){const i=new Ts(n,e,t);return i.texture.mapping=vd,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Zm(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function UK(n,e,t){const i=new Float32Array(Dl),r=new U(0,1,0);return new io({name:"SphericalGaussianBlur",defines:{n:Dl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:wM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:zo,depthTest:!1,depthWrite:!1})}function uR(){return new io({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:wM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:zo,depthTest:!1,depthWrite:!1})}function dR(){return new io({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:wM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:zo,depthTest:!1,depthWrite:!1})}function wM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function zK(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===vf||l===yf,d=l===Xo||l===Xa;if(c||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new uS(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||d&&f&&r(f)){t===null&&(t=new uS(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function HK(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?(t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance")):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function GK(n,e,t,i){const r={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const x=p.morphAttributes[v];for(let A=0,g=x.length;A<g;A++)e.remove(x[A])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(f,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(f){const p=f.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const m=f.morphAttributes;for(const v in m){const x=m[v];for(let A=0,g=x.length;A<g;A++)e.update(x[A],n.ARRAY_BUFFER)}}function c(f){const p=[],m=f.index,v=f.attributes.position;let x=0;if(m!==null){const _=m.array;x=m.version;for(let S=0,M=_.length;S<M;S+=3){const T=_[S+0],P=_[S+1],B=_[S+2];p.push(T,P,P,B,B,T)}}else if(v!==void 0){const _=v.array;x=v.version;for(let S=0,M=_.length/3-1;S<M;S+=3){const T=S+0,P=S+1,B=S+2;p.push(T,P,P,B,B,T)}}else return;const A=new($N(p)?SM:AM)(p,1);A.version=x;const g=s.get(f);g&&e.remove(g),s.set(f,A)}function d(f){const p=s.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:d}}function VK(n,e,t,i){const r=i.isWebGL2;let s;function o(m){s=m}let a,l;function c(m){a=m.type,l=m.bytesPerElement}function d(m,v){n.drawElements(s,v,a,m*l),t.update(v,s,1)}function f(m,v,x){if(x===0)return;let A,g;if(r)A=n,g="drawElementsInstanced";else if(A=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",A===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}A[g](s,v,a,m*l,x),t.update(v,s,x)}function p(m,v,x){if(x===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let g=0;g<x;g++)this.render(m[g]/l,v[g]);else{A.multiDrawElementsWEBGL(s,v,0,a,m,0,x);let g=0;for(let _=0;_<x;_++)g+=v[_];t.update(g,s,1)}}this.setMode=o,this.setIndex=c,this.render=d,this.renderInstances=f,this.renderMultiDraw=p}function jK(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function WK(n,e){return n[0]-e[0]}function XK(n,e){return Math.abs(e[1])-Math.abs(n[1])}function JK(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Xt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,d,f){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,x=v!==void 0?v.length:0;let A=s.get(d);if(A===void 0||A.count!==x){let Q=function(){ee.dispose(),s.delete(d),d.removeEventListener("dispose",Q)};var m=Q;A!==void 0&&A.texture.dispose();const S=d.morphAttributes.position!==void 0,M=d.morphAttributes.normal!==void 0,T=d.morphAttributes.color!==void 0,P=d.morphAttributes.position||[],B=d.morphAttributes.normal||[],D=d.morphAttributes.color||[];let L=0;S===!0&&(L=1),M===!0&&(L=2),T===!0&&(L=3);let I=d.attributes.position.count*L,H=1;I>e.maxTextureSize&&(H=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const W=new Float32Array(I*H*4*x),ee=new Nv(W,I,H,x);ee.type=xs,ee.needsUpdate=!0;const z=L*4;for(let Z=0;Z<x;Z++){const ce=P[Z],N=B[Z],V=D[Z],j=I*H*4*Z;for(let K=0;K<ce.count;K++){const ie=K*z;S===!0&&(o.fromBufferAttribute(ce,K),W[j+ie+0]=o.x,W[j+ie+1]=o.y,W[j+ie+2]=o.z,W[j+ie+3]=0),M===!0&&(o.fromBufferAttribute(N,K),W[j+ie+4]=o.x,W[j+ie+5]=o.y,W[j+ie+6]=o.z,W[j+ie+7]=0),T===!0&&(o.fromBufferAttribute(V,K),W[j+ie+8]=o.x,W[j+ie+9]=o.y,W[j+ie+10]=o.z,W[j+ie+11]=V.itemSize===4?o.w:1)}}A={count:x,texture:ee,size:new xe(I,H)},s.set(d,A),d.addEventListener("dispose",Q)}let g=0;for(let S=0;S<p.length;S++)g+=p[S];const _=d.morphTargetsRelative?1:1-g;f.getUniforms().setValue(n,"morphTargetBaseInfluence",_),f.getUniforms().setValue(n,"morphTargetInfluences",p),f.getUniforms().setValue(n,"morphTargetsTexture",A.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",A.size)}else{const v=p===void 0?0:p.length;let x=i[d.id];if(x===void 0||x.length!==v){x=[];for(let M=0;M<v;M++)x[M]=[M,0];i[d.id]=x}for(let M=0;M<v;M++){const T=x[M];T[0]=M,T[1]=p[M]}x.sort(XK);for(let M=0;M<8;M++)M<v&&x[M][1]?(a[M][0]=x[M][0],a[M][1]=x[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(WK);const A=d.morphAttributes.position,g=d.morphAttributes.normal;let _=0;for(let M=0;M<8;M++){const T=a[M],P=T[0],B=T[1];P!==Number.MAX_SAFE_INTEGER&&B?(A&&d.getAttribute("morphTarget"+M)!==A[P]&&d.setAttribute("morphTarget"+M,A[P]),g&&d.getAttribute("morphNormal"+M)!==g[P]&&d.setAttribute("morphNormal"+M,g[P]),r[M]=B,_+=B):(A&&d.hasAttribute("morphTarget"+M)===!0&&d.deleteAttribute("morphTarget"+M),g&&d.hasAttribute("morphNormal"+M)===!0&&d.deleteAttribute("morphNormal"+M),r[M]=0)}const S=d.morphTargetsRelative?1:1-_;f.getUniforms().setValue(n,"morphTargetBaseInfluence",S),f.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function qK(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,d=l.geometry,f=e.get(l,d);if(r.get(f)!==c&&(e.update(f),r.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return f}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class MM extends cn{constructor(e,t,i,r,s,o,a,l,c,d){if(d=d!==void 0?d:ka,d!==ka&&d!==cc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===ka&&(i=Bo),i===void 0&&d===cc&&(i=Oa),super(null,r,s,o,a,l,d,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:bn,this.minFilter=l!==void 0?l:bn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const lF=new cn,cF=new MM(1,1);cF.compareFunction=vM;const uF=new Nv,dF=new _M,hF=new Qf,hR=[],fR=[],pR=new Float32Array(16),mR=new Float32Array(9),gR=new Float32Array(4);function yd(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=hR[r];if(s===void 0&&(s=new Float32Array(r),hR[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function qn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Yn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Fv(n,e){let t=fR[e];t===void 0&&(t=new Int32Array(e),fR[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function YK(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function KK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qn(t,e))return;n.uniform2fv(this.addr,e),Yn(t,e)}}function QK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(qn(t,e))return;n.uniform3fv(this.addr,e),Yn(t,e)}}function ZK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qn(t,e))return;n.uniform4fv(this.addr,e),Yn(t,e)}}function $K(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(qn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Yn(t,e)}else{if(qn(t,i))return;gR.set(i),n.uniformMatrix2fv(this.addr,!1,gR),Yn(t,i)}}function eQ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(qn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Yn(t,e)}else{if(qn(t,i))return;mR.set(i),n.uniformMatrix3fv(this.addr,!1,mR),Yn(t,i)}}function tQ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(qn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Yn(t,e)}else{if(qn(t,i))return;pR.set(i),n.uniformMatrix4fv(this.addr,!1,pR),Yn(t,i)}}function nQ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function iQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qn(t,e))return;n.uniform2iv(this.addr,e),Yn(t,e)}}function rQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(qn(t,e))return;n.uniform3iv(this.addr,e),Yn(t,e)}}function sQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qn(t,e))return;n.uniform4iv(this.addr,e),Yn(t,e)}}function oQ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function aQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qn(t,e))return;n.uniform2uiv(this.addr,e),Yn(t,e)}}function lQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(qn(t,e))return;n.uniform3uiv(this.addr,e),Yn(t,e)}}function cQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qn(t,e))return;n.uniform4uiv(this.addr,e),Yn(t,e)}}function uQ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);const s=this.type===n.SAMPLER_2D_SHADOW?cF:lF;t.setTexture2D(e||s,r)}function dQ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||dF,r)}function hQ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||hF,r)}function fQ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||uF,r)}function pQ(n){switch(n){case 5126:return YK;case 35664:return KK;case 35665:return QK;case 35666:return ZK;case 35674:return $K;case 35675:return eQ;case 35676:return tQ;case 5124:case 35670:return nQ;case 35667:case 35671:return iQ;case 35668:case 35672:return rQ;case 35669:case 35673:return sQ;case 5125:return oQ;case 36294:return aQ;case 36295:return lQ;case 36296:return cQ;case 35678:case 36198:case 36298:case 36306:case 35682:return uQ;case 35679:case 36299:case 36307:return dQ;case 35680:case 36300:case 36308:case 36293:return hQ;case 36289:case 36303:case 36311:case 36292:return fQ}}function mQ(n,e){n.uniform1fv(this.addr,e)}function gQ(n,e){const t=yd(e,this.size,2);n.uniform2fv(this.addr,t)}function vQ(n,e){const t=yd(e,this.size,3);n.uniform3fv(this.addr,t)}function yQ(n,e){const t=yd(e,this.size,4);n.uniform4fv(this.addr,t)}function xQ(n,e){const t=yd(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function _Q(n,e){const t=yd(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function AQ(n,e){const t=yd(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function SQ(n,e){n.uniform1iv(this.addr,e)}function wQ(n,e){n.uniform2iv(this.addr,e)}function MQ(n,e){n.uniform3iv(this.addr,e)}function bQ(n,e){n.uniform4iv(this.addr,e)}function EQ(n,e){n.uniform1uiv(this.addr,e)}function CQ(n,e){n.uniform2uiv(this.addr,e)}function TQ(n,e){n.uniform3uiv(this.addr,e)}function RQ(n,e){n.uniform4uiv(this.addr,e)}function PQ(n,e,t){const i=this.cache,r=e.length,s=Fv(t,r);qn(i,s)||(n.uniform1iv(this.addr,s),Yn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||lF,s[o])}function LQ(n,e,t){const i=this.cache,r=e.length,s=Fv(t,r);qn(i,s)||(n.uniform1iv(this.addr,s),Yn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||dF,s[o])}function BQ(n,e,t){const i=this.cache,r=e.length,s=Fv(t,r);qn(i,s)||(n.uniform1iv(this.addr,s),Yn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||hF,s[o])}function IQ(n,e,t){const i=this.cache,r=e.length,s=Fv(t,r);qn(i,s)||(n.uniform1iv(this.addr,s),Yn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||uF,s[o])}function DQ(n){switch(n){case 5126:return mQ;case 35664:return gQ;case 35665:return vQ;case 35666:return yQ;case 35674:return xQ;case 35675:return _Q;case 35676:return AQ;case 5124:case 35670:return SQ;case 35667:case 35671:return wQ;case 35668:case 35672:return MQ;case 35669:case 35673:return bQ;case 5125:return EQ;case 36294:return CQ;case 36295:return TQ;case 36296:return RQ;case 35678:case 36198:case 36298:case 36306:case 35682:return PQ;case 35679:case 36299:case 36307:return LQ;case 35680:case 36300:case 36308:case 36293:return BQ;case 36289:case 36303:case 36311:case 36292:return IQ}}class NQ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=pQ(t.type)}}class FQ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=DQ(t.type)}}class OQ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const D_=/(\w+)(\])?(\[|\.)?/g;function vR(n,e){n.seq.push(e),n.map[e.id]=e}function kQ(n,e,t){const i=n.name,r=i.length;for(D_.lastIndex=0;;){const s=D_.exec(i),o=D_.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){vR(t,c===void 0?new NQ(a,n,e):new FQ(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new OQ(a),vR(t,f)),t=f}}}class e0{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);kQ(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function yR(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const UQ=37297;let zQ=0;function HQ(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function GQ(n){const e=Wt.getPrimaries(Wt.workingColorSpace),t=Wt.getPrimaries(n);let i;switch(e===t?i="":e===wf&&t===Sf?i="LinearDisplayP3ToLinearSRGB":e===Sf&&t===wf&&(i="LinearSRGBToLinearDisplayP3"),n){case no:case qf:return[i,"LinearTransferOETF"];case Wn:case Dv:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function xR(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+HQ(n.getShaderSource(e),o)}else return r}function VQ(n,e){const t=GQ(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function jQ(n,e){let t;switch(e){case MN:t="Linear";break;case bN:t="Reinhard";break;case EN:t="OptimizedCineon";break;case oM:t="ACESFilmic";break;case TN:t="AgX";break;case CN:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function WQ(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Iu).join(`
`)}function XQ(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(Iu).join(`
`)}function JQ(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function qQ(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Iu(n){return n!==""}function _R(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function AR(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const YQ=/^[ \t]*#include +<([\w\d./]+)>/gm;function dS(n){return n.replace(YQ,QQ)}const KQ=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function QQ(n,e){let t=Mt[e];if(t===void 0){const i=KQ.get(e);if(i!==void 0)t=Mt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return dS(t)}const ZQ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function SR(n){return n.replace(ZQ,$Q)}function $Q(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function wR(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function eZ(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Rv?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Uh?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ds&&(e="SHADOWMAP_TYPE_VSM"),e}function tZ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Xo:case Xa:e="ENVMAP_TYPE_CUBE";break;case vd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function nZ(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Xa:e="ENVMAP_MODE_REFRACTION";break}return e}function iZ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Jf:e="ENVMAP_BLENDING_MULTIPLY";break;case SN:e="ENVMAP_BLENDING_MIX";break;case wN:e="ENVMAP_BLENDING_ADD";break}return e}function rZ(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function sZ(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=eZ(t),c=tZ(t),d=nZ(t),f=iZ(t),p=rZ(t),m=t.isWebGL2?"":WQ(t),v=XQ(t),x=JQ(s),A=r.createProgram();let g,_,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(Iu).join(`
`),g.length>0&&(g+=`
`),_=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(Iu).join(`
`),_.length>0&&(_+=`
`)):(g=[wR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Iu).join(`
`),_=[m,wR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ks?"#define TONE_MAPPING":"",t.toneMapping!==Ks?Mt.tonemapping_pars_fragment:"",t.toneMapping!==Ks?jQ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Mt.colorspace_pars_fragment,VQ("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Iu).join(`
`)),o=dS(o),o=_R(o,t),o=AR(o,t),a=dS(a),a=_R(a,t),a=AR(a,t),o=SR(o),a=SR(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,g=[v,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,_=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===lS?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===lS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const M=S+g+o,T=S+_+a,P=yR(r,r.VERTEX_SHADER,M),B=yR(r,r.FRAGMENT_SHADER,T);r.attachShader(A,P),r.attachShader(A,B),t.index0AttributeName!==void 0?r.bindAttribLocation(A,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(A,0,"position"),r.linkProgram(A);function D(W){if(n.debug.checkShaderErrors){const ee=r.getProgramInfoLog(A).trim(),z=r.getShaderInfoLog(P).trim(),Q=r.getShaderInfoLog(B).trim();let Z=!0,ce=!0;if(r.getProgramParameter(A,r.LINK_STATUS)===!1)if(Z=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,A,P,B);else{const N=xR(r,P,"vertex"),V=xR(r,B,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(A,r.VALIDATE_STATUS)+`

Program Info Log: `+ee+`
`+N+`
`+V)}else ee!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ee):(z===""||Q==="")&&(ce=!1);ce&&(W.diagnostics={runnable:Z,programLog:ee,vertexShader:{log:z,prefix:g},fragmentShader:{log:Q,prefix:_}})}r.deleteShader(P),r.deleteShader(B),L=new e0(r,A),I=qQ(r,A)}let L;this.getUniforms=function(){return L===void 0&&D(this),L};let I;this.getAttributes=function(){return I===void 0&&D(this),I};let H=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return H===!1&&(H=r.getProgramParameter(A,UQ)),H},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(A),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=zQ++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=P,this.fragmentShader=B,this}let oZ=0;class aZ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new lZ(e),t.set(e,i)),i}}class lZ{constructor(e){this.id=oZ++,this.code=e,this.usedTimes=0}}function cZ(n,e,t,i,r,s,o){const a=new Zl,l=new aZ,c=[],d=r.isWebGL2,f=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(L){return L===0?"uv":`uv${L}`}function A(L,I,H,W,ee){const z=W.fog,Q=ee.geometry,Z=L.isMeshStandardMaterial?W.environment:null,ce=(L.isMeshStandardMaterial?t:e).get(L.envMap||Z),N=ce&&ce.mapping===vd?ce.image.height:null,V=v[L.type];L.precision!==null&&(m=r.getMaxPrecision(L.precision),m!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",m,"instead."));const j=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,K=j!==void 0?j.length:0;let ie=0;Q.morphAttributes.position!==void 0&&(ie=1),Q.morphAttributes.normal!==void 0&&(ie=2),Q.morphAttributes.color!==void 0&&(ie=3);let re,fe,we,Ce;if(V){const sn=ps[V];re=sn.vertexShader,fe=sn.fragmentShader}else re=L.vertexShader,fe=L.fragmentShader,l.update(L),we=l.getVertexShaderID(L),Ce=l.getFragmentShaderID(L);const Le=n.getRenderTarget(),rt=ee.isInstancedMesh===!0,ot=ee.isBatchedMesh===!0,ze=!!L.map,We=!!L.matcap,X=!!ce,be=!!L.aoMap,_e=!!L.lightMap,Re=!!L.bumpMap,ye=!!L.normalMap,$e=!!L.displacementMap,Oe=!!L.emissiveMap,F=!!L.metalnessMap,E=!!L.roughnessMap,O=L.anisotropy>0,J=L.clearcoat>0,se=L.iridescence>0,te=L.sheen>0,ue=L.transmission>0,ge=O&&!!L.anisotropyMap,Te=J&&!!L.clearcoatMap,ke=J&&!!L.clearcoatNormalMap,st=J&&!!L.clearcoatRoughnessMap,Me=se&&!!L.iridescenceMap,Pt=se&&!!L.iridescenceThicknessMap,yt=te&&!!L.sheenColorMap,lt=te&&!!L.sheenRoughnessMap,et=!!L.specularMap,je=!!L.specularColorMap,Y=!!L.specularIntensityMap,Ae=ue&&!!L.transmissionMap,Ve=ue&&!!L.thicknessMap,He=!!L.gradientMap,Ee=!!L.alphaMap,q=L.alphaTest>0,Ie=!!L.alphaHash,Ne=!!L.extensions,ct=!!Q.attributes.uv1,Ke=!!Q.attributes.uv2,Lt=!!Q.attributes.uv3;let It=Ks;return L.toneMapped&&(Le===null||Le.isXRRenderTarget===!0)&&(It=n.toneMapping),{isWebGL2:d,shaderID:V,shaderType:L.type,shaderName:L.name,vertexShader:re,fragmentShader:fe,defines:L.defines,customVertexShaderID:we,customFragmentShaderID:Ce,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:m,batching:ot,instancing:rt,instancingColor:rt&&ee.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Le===null?n.outputColorSpace:Le.isXRRenderTarget===!0?Le.texture.colorSpace:no,map:ze,matcap:We,envMap:X,envMapMode:X&&ce.mapping,envMapCubeUVHeight:N,aoMap:be,lightMap:_e,bumpMap:Re,normalMap:ye,displacementMap:p&&$e,emissiveMap:Oe,normalMapObjectSpace:ye&&L.normalMapType===jN,normalMapTangentSpace:ye&&L.normalMapType===el,metalnessMap:F,roughnessMap:E,anisotropy:O,anisotropyMap:ge,clearcoat:J,clearcoatMap:Te,clearcoatNormalMap:ke,clearcoatRoughnessMap:st,iridescence:se,iridescenceMap:Me,iridescenceThicknessMap:Pt,sheen:te,sheenColorMap:yt,sheenRoughnessMap:lt,specularMap:et,specularColorMap:je,specularIntensityMap:Y,transmission:ue,transmissionMap:Ae,thicknessMap:Ve,gradientMap:He,opaque:L.transparent===!1&&L.blending===Kl,alphaMap:Ee,alphaTest:q,alphaHash:Ie,combine:L.combine,mapUv:ze&&x(L.map.channel),aoMapUv:be&&x(L.aoMap.channel),lightMapUv:_e&&x(L.lightMap.channel),bumpMapUv:Re&&x(L.bumpMap.channel),normalMapUv:ye&&x(L.normalMap.channel),displacementMapUv:$e&&x(L.displacementMap.channel),emissiveMapUv:Oe&&x(L.emissiveMap.channel),metalnessMapUv:F&&x(L.metalnessMap.channel),roughnessMapUv:E&&x(L.roughnessMap.channel),anisotropyMapUv:ge&&x(L.anisotropyMap.channel),clearcoatMapUv:Te&&x(L.clearcoatMap.channel),clearcoatNormalMapUv:ke&&x(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:st&&x(L.clearcoatRoughnessMap.channel),iridescenceMapUv:Me&&x(L.iridescenceMap.channel),iridescenceThicknessMapUv:Pt&&x(L.iridescenceThicknessMap.channel),sheenColorMapUv:yt&&x(L.sheenColorMap.channel),sheenRoughnessMapUv:lt&&x(L.sheenRoughnessMap.channel),specularMapUv:et&&x(L.specularMap.channel),specularColorMapUv:je&&x(L.specularColorMap.channel),specularIntensityMapUv:Y&&x(L.specularIntensityMap.channel),transmissionMapUv:Ae&&x(L.transmissionMap.channel),thicknessMapUv:Ve&&x(L.thicknessMap.channel),alphaMapUv:Ee&&x(L.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(ye||O),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,vertexUv1s:ct,vertexUv2s:Ke,vertexUv3s:Lt,pointsUvs:ee.isPoints===!0&&!!Q.attributes.uv&&(ze||Ee),fog:!!z,useFog:L.fog===!0,fogExp2:z&&z.isFogExp2,flatShading:L.flatShading===!0,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:ee.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:K,morphTextureStride:ie,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:n.shadowMap.enabled&&H.length>0,shadowMapType:n.shadowMap.type,toneMapping:It,useLegacyLights:n._useLegacyLights,decodeVideoTexture:ze&&L.map.isVideoTexture===!0&&Wt.getTransfer(L.map.colorSpace)===Kt,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===vs,flipSided:L.side===Xi,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionDerivatives:Ne&&L.extensions.derivatives===!0,extensionFragDepth:Ne&&L.extensions.fragDepth===!0,extensionDrawBuffers:Ne&&L.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ne&&L.extensions.shaderTextureLOD===!0,extensionClipCullDistance:Ne&&L.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()}}function g(L){const I=[];if(L.shaderID?I.push(L.shaderID):(I.push(L.customVertexShaderID),I.push(L.customFragmentShaderID)),L.defines!==void 0)for(const H in L.defines)I.push(H),I.push(L.defines[H]);return L.isRawShaderMaterial===!1&&(_(I,L),S(I,L),I.push(n.outputColorSpace)),I.push(L.customProgramCacheKey),I.join()}function _(L,I){L.push(I.precision),L.push(I.outputColorSpace),L.push(I.envMapMode),L.push(I.envMapCubeUVHeight),L.push(I.mapUv),L.push(I.alphaMapUv),L.push(I.lightMapUv),L.push(I.aoMapUv),L.push(I.bumpMapUv),L.push(I.normalMapUv),L.push(I.displacementMapUv),L.push(I.emissiveMapUv),L.push(I.metalnessMapUv),L.push(I.roughnessMapUv),L.push(I.anisotropyMapUv),L.push(I.clearcoatMapUv),L.push(I.clearcoatNormalMapUv),L.push(I.clearcoatRoughnessMapUv),L.push(I.iridescenceMapUv),L.push(I.iridescenceThicknessMapUv),L.push(I.sheenColorMapUv),L.push(I.sheenRoughnessMapUv),L.push(I.specularMapUv),L.push(I.specularColorMapUv),L.push(I.specularIntensityMapUv),L.push(I.transmissionMapUv),L.push(I.thicknessMapUv),L.push(I.combine),L.push(I.fogExp2),L.push(I.sizeAttenuation),L.push(I.morphTargetsCount),L.push(I.morphAttributeCount),L.push(I.numDirLights),L.push(I.numPointLights),L.push(I.numSpotLights),L.push(I.numSpotLightMaps),L.push(I.numHemiLights),L.push(I.numRectAreaLights),L.push(I.numDirLightShadows),L.push(I.numPointLightShadows),L.push(I.numSpotLightShadows),L.push(I.numSpotLightShadowsWithMaps),L.push(I.numLightProbes),L.push(I.shadowMapType),L.push(I.toneMapping),L.push(I.numClippingPlanes),L.push(I.numClipIntersection),L.push(I.depthPacking)}function S(L,I){a.disableAll(),I.isWebGL2&&a.enable(0),I.supportsVertexTextures&&a.enable(1),I.instancing&&a.enable(2),I.instancingColor&&a.enable(3),I.matcap&&a.enable(4),I.envMap&&a.enable(5),I.normalMapObjectSpace&&a.enable(6),I.normalMapTangentSpace&&a.enable(7),I.clearcoat&&a.enable(8),I.iridescence&&a.enable(9),I.alphaTest&&a.enable(10),I.vertexColors&&a.enable(11),I.vertexAlphas&&a.enable(12),I.vertexUv1s&&a.enable(13),I.vertexUv2s&&a.enable(14),I.vertexUv3s&&a.enable(15),I.vertexTangents&&a.enable(16),I.anisotropy&&a.enable(17),I.alphaHash&&a.enable(18),I.batching&&a.enable(19),L.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.skinning&&a.enable(4),I.morphTargets&&a.enable(5),I.morphNormals&&a.enable(6),I.morphColors&&a.enable(7),I.premultipliedAlpha&&a.enable(8),I.shadowMapEnabled&&a.enable(9),I.useLegacyLights&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.transmission&&a.enable(15),I.sheen&&a.enable(16),I.opaque&&a.enable(17),I.pointsUvs&&a.enable(18),I.decodeVideoTexture&&a.enable(19),L.push(a.mask)}function M(L){const I=v[L.type];let H;if(I){const W=ps[I];H=rF.clone(W.uniforms)}else H=L.uniforms;return H}function T(L,I){let H;for(let W=0,ee=c.length;W<ee;W++){const z=c[W];if(z.cacheKey===I){H=z,++H.usedTimes;break}}return H===void 0&&(H=new sZ(n,I,L,s),c.push(H)),H}function P(L){if(--L.usedTimes===0){const I=c.indexOf(L);c[I]=c[c.length-1],c.pop(),L.destroy()}}function B(L){l.remove(L)}function D(){l.dispose()}return{getParameters:A,getProgramCacheKey:g,getUniforms:M,acquireProgram:T,releaseProgram:P,releaseShaderCache:B,programs:c,dispose:D}}function uZ(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function dZ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function MR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function bR(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(f,p,m,v,x,A){let g=n[e];return g===void 0?(g={id:f.id,object:f,geometry:p,material:m,groupOrder:v,renderOrder:f.renderOrder,z:x,group:A},n[e]=g):(g.id=f.id,g.object=f,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=f.renderOrder,g.z=x,g.group=A),e++,g}function a(f,p,m,v,x,A){const g=o(f,p,m,v,x,A);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(f,p,m,v,x,A){const g=o(f,p,m,v,x,A);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function c(f,p){t.length>1&&t.sort(f||dZ),i.length>1&&i.sort(p||MR),r.length>1&&r.sort(p||MR)}function d(){for(let f=e,p=n.length;f<p;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:c}}function hZ(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new bR,n.set(i,[o])):r>=s.length?(o=new bR,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function fZ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new U,color:new Fe};break;case"SpotLight":t={position:new U,direction:new U,color:new Fe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new U,color:new Fe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new U,skyColor:new Fe,groundColor:new Fe};break;case"RectAreaLight":t={color:new Fe,position:new U,halfWidth:new U,halfHeight:new U};break}return n[e.id]=t,t}}}function pZ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let mZ=0;function gZ(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function vZ(n,e){const t=new fZ,i=pZ(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)r.probe.push(new U);const s=new U,o=new dt,a=new dt;function l(d,f){let p=0,m=0,v=0;for(let W=0;W<9;W++)r.probe[W].set(0,0,0);let x=0,A=0,g=0,_=0,S=0,M=0,T=0,P=0,B=0,D=0,L=0;d.sort(gZ);const I=f===!0?Math.PI:1;for(let W=0,ee=d.length;W<ee;W++){const z=d[W],Q=z.color,Z=z.intensity,ce=z.distance,N=z.shadow&&z.shadow.map?z.shadow.map.texture:null;if(z.isAmbientLight)p+=Q.r*Z*I,m+=Q.g*Z*I,v+=Q.b*Z*I;else if(z.isLightProbe){for(let V=0;V<9;V++)r.probe[V].addScaledVector(z.sh.coefficients[V],Z);L++}else if(z.isDirectionalLight){const V=t.get(z);if(V.color.copy(z.color).multiplyScalar(z.intensity*I),z.castShadow){const j=z.shadow,K=i.get(z);K.shadowBias=j.bias,K.shadowNormalBias=j.normalBias,K.shadowRadius=j.radius,K.shadowMapSize=j.mapSize,r.directionalShadow[x]=K,r.directionalShadowMap[x]=N,r.directionalShadowMatrix[x]=z.shadow.matrix,M++}r.directional[x]=V,x++}else if(z.isSpotLight){const V=t.get(z);V.position.setFromMatrixPosition(z.matrixWorld),V.color.copy(Q).multiplyScalar(Z*I),V.distance=ce,V.coneCos=Math.cos(z.angle),V.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),V.decay=z.decay,r.spot[g]=V;const j=z.shadow;if(z.map&&(r.spotLightMap[B]=z.map,B++,j.updateMatrices(z),z.castShadow&&D++),r.spotLightMatrix[g]=j.matrix,z.castShadow){const K=i.get(z);K.shadowBias=j.bias,K.shadowNormalBias=j.normalBias,K.shadowRadius=j.radius,K.shadowMapSize=j.mapSize,r.spotShadow[g]=K,r.spotShadowMap[g]=N,P++}g++}else if(z.isRectAreaLight){const V=t.get(z);V.color.copy(Q).multiplyScalar(Z),V.halfWidth.set(z.width*.5,0,0),V.halfHeight.set(0,z.height*.5,0),r.rectArea[_]=V,_++}else if(z.isPointLight){const V=t.get(z);if(V.color.copy(z.color).multiplyScalar(z.intensity*I),V.distance=z.distance,V.decay=z.decay,z.castShadow){const j=z.shadow,K=i.get(z);K.shadowBias=j.bias,K.shadowNormalBias=j.normalBias,K.shadowRadius=j.radius,K.shadowMapSize=j.mapSize,K.shadowCameraNear=j.camera.near,K.shadowCameraFar=j.camera.far,r.pointShadow[A]=K,r.pointShadowMap[A]=N,r.pointShadowMatrix[A]=z.shadow.matrix,T++}r.point[A]=V,A++}else if(z.isHemisphereLight){const V=t.get(z);V.skyColor.copy(z.color).multiplyScalar(Z*I),V.groundColor.copy(z.groundColor).multiplyScalar(Z*I),r.hemi[S]=V,S++}}_>0&&(e.isWebGL2?n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=De.LTC_FLOAT_1,r.rectAreaLTC2=De.LTC_FLOAT_2):(r.rectAreaLTC1=De.LTC_HALF_1,r.rectAreaLTC2=De.LTC_HALF_2):n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=De.LTC_FLOAT_1,r.rectAreaLTC2=De.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=De.LTC_HALF_1,r.rectAreaLTC2=De.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=v;const H=r.hash;(H.directionalLength!==x||H.pointLength!==A||H.spotLength!==g||H.rectAreaLength!==_||H.hemiLength!==S||H.numDirectionalShadows!==M||H.numPointShadows!==T||H.numSpotShadows!==P||H.numSpotMaps!==B||H.numLightProbes!==L)&&(r.directional.length=x,r.spot.length=g,r.rectArea.length=_,r.point.length=A,r.hemi.length=S,r.directionalShadow.length=M,r.directionalShadowMap.length=M,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=M,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=P+B-D,r.spotLightMap.length=B,r.numSpotLightShadowsWithMaps=D,r.numLightProbes=L,H.directionalLength=x,H.pointLength=A,H.spotLength=g,H.rectAreaLength=_,H.hemiLength=S,H.numDirectionalShadows=M,H.numPointShadows=T,H.numSpotShadows=P,H.numSpotMaps=B,H.numLightProbes=L,r.version=mZ++)}function c(d,f){let p=0,m=0,v=0,x=0,A=0;const g=f.matrixWorldInverse;for(let _=0,S=d.length;_<S;_++){const M=d[_];if(M.isDirectionalLight){const T=r.directional[p];T.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),p++}else if(M.isSpotLight){const T=r.spot[v];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(g),T.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),v++}else if(M.isRectAreaLight){const T=r.rectArea[x];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(g),a.identity(),o.copy(M.matrixWorld),o.premultiply(g),a.extractRotation(o),T.halfWidth.set(M.width*.5,0,0),T.halfHeight.set(0,M.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),x++}else if(M.isPointLight){const T=r.point[m];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(g),m++}else if(M.isHemisphereLight){const T=r.hemi[A];T.direction.setFromMatrixPosition(M.matrixWorld),T.direction.transformDirection(g),A++}}}return{setup:l,setupView:c,state:r}}function ER(n,e){const t=new vZ(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(f){i.push(f)}function a(f){r.push(f)}function l(f){t.setup(i,f)}function c(f){t.setupView(i,f)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function yZ(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new ER(n,e),t.set(s,[l])):o>=a.length?(l=new ER(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class bM extends Hn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=GN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class EM extends Hn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const xZ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,_Z=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function AZ(n,e,t){let i=new Zf;const r=new xe,s=new xe,o=new Xt,a=new bM({depthPacking:VN}),l=new EM,c={},d=t.maxTextureSize,f={[eo]:Xi,[Xi]:eo,[vs]:vs},p=new io({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new xe},radius:{value:4}},vertexShader:xZ,fragmentShader:_Z}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new wt;v.setAttribute("position",new kt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new zn(v,p),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Rv;let g=this.type;this.render=function(P,B,D){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||P.length===0)return;const L=n.getRenderTarget(),I=n.getActiveCubeFace(),H=n.getActiveMipmapLevel(),W=n.state;W.setBlending(zo),W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const ee=g!==ds&&this.type===ds,z=g===ds&&this.type!==ds;for(let Q=0,Z=P.length;Q<Z;Q++){const ce=P[Q],N=ce.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",ce,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;r.copy(N.mapSize);const V=N.getFrameExtents();if(r.multiply(V),s.copy(N.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/V.x),r.x=s.x*V.x,N.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/V.y),r.y=s.y*V.y,N.mapSize.y=s.y)),N.map===null||ee===!0||z===!0){const K=this.type!==ds?{minFilter:bn,magFilter:bn}:{};N.map!==null&&N.map.dispose(),N.map=new Ts(r.x,r.y,K),N.map.texture.name=ce.name+".shadowMap",N.camera.updateProjectionMatrix()}n.setRenderTarget(N.map),n.clear();const j=N.getViewportCount();for(let K=0;K<j;K++){const ie=N.getViewport(K);o.set(s.x*ie.x,s.y*ie.y,s.x*ie.z,s.y*ie.w),W.viewport(o),N.updateMatrices(ce,K),i=N.getFrustum(),M(B,D,N.camera,ce,this.type)}N.isPointLightShadow!==!0&&this.type===ds&&_(N,D),N.needsUpdate=!1}g=this.type,A.needsUpdate=!1,n.setRenderTarget(L,I,H)};function _(P,B){const D=e.update(x);p.defines.VSM_SAMPLES!==P.blurSamples&&(p.defines.VSM_SAMPLES=P.blurSamples,m.defines.VSM_SAMPLES=P.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new Ts(r.x,r.y)),p.uniforms.shadow_pass.value=P.map.texture,p.uniforms.resolution.value=P.mapSize,p.uniforms.radius.value=P.radius,n.setRenderTarget(P.mapPass),n.clear(),n.renderBufferDirect(B,null,D,p,x,null),m.uniforms.shadow_pass.value=P.mapPass.texture,m.uniforms.resolution.value=P.mapSize,m.uniforms.radius.value=P.radius,n.setRenderTarget(P.map),n.clear(),n.renderBufferDirect(B,null,D,m,x,null)}function S(P,B,D,L){let I=null;const H=D.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(H!==void 0)I=H;else if(I=D.isPointLight===!0?l:a,n.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0){const W=I.uuid,ee=B.uuid;let z=c[W];z===void 0&&(z={},c[W]=z);let Q=z[ee];Q===void 0&&(Q=I.clone(),z[ee]=Q,B.addEventListener("dispose",T)),I=Q}if(I.visible=B.visible,I.wireframe=B.wireframe,L===ds?I.side=B.shadowSide!==null?B.shadowSide:B.side:I.side=B.shadowSide!==null?B.shadowSide:f[B.side],I.alphaMap=B.alphaMap,I.alphaTest=B.alphaTest,I.map=B.map,I.clipShadows=B.clipShadows,I.clippingPlanes=B.clippingPlanes,I.clipIntersection=B.clipIntersection,I.displacementMap=B.displacementMap,I.displacementScale=B.displacementScale,I.displacementBias=B.displacementBias,I.wireframeLinewidth=B.wireframeLinewidth,I.linewidth=B.linewidth,D.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const W=n.properties.get(I);W.light=D}return I}function M(P,B,D,L,I){if(P.visible===!1)return;if(P.layers.test(B.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&I===ds)&&(!P.frustumCulled||i.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,P.matrixWorld);const ee=e.update(P),z=P.material;if(Array.isArray(z)){const Q=ee.groups;for(let Z=0,ce=Q.length;Z<ce;Z++){const N=Q[Z],V=z[N.materialIndex];if(V&&V.visible){const j=S(P,V,L,I);P.onBeforeShadow(n,P,B,D,ee,j,N),n.renderBufferDirect(D,null,ee,j,P,N),P.onAfterShadow(n,P,B,D,ee,j,N)}}}else if(z.visible){const Q=S(P,z,L,I);P.onBeforeShadow(n,P,B,D,ee,Q,null),n.renderBufferDirect(D,null,ee,Q,P,null),P.onAfterShadow(n,P,B,D,ee,Q,null)}}const W=P.children;for(let ee=0,z=W.length;ee<z;ee++)M(W[ee],B,D,L,I)}function T(P){P.target.removeEventListener("dispose",T);for(const D in c){const L=c[D],I=P.target.uuid;I in L&&(L[I].dispose(),delete L[I])}}}function SZ(n,e,t){const i=t.isWebGL2;function r(){let q=!1;const Ie=new Xt;let Ne=null;const ct=new Xt(0,0,0,0);return{setMask:function(Ke){Ne!==Ke&&!q&&(n.colorMask(Ke,Ke,Ke,Ke),Ne=Ke)},setLocked:function(Ke){q=Ke},setClear:function(Ke,Lt,It,qt,sn){sn===!0&&(Ke*=qt,Lt*=qt,It*=qt),Ie.set(Ke,Lt,It,qt),ct.equals(Ie)===!1&&(n.clearColor(Ke,Lt,It,qt),ct.copy(Ie))},reset:function(){q=!1,Ne=null,ct.set(-1,0,0,0)}}}function s(){let q=!1,Ie=null,Ne=null,ct=null;return{setTest:function(Ke){Ke?ot(n.DEPTH_TEST):ze(n.DEPTH_TEST)},setMask:function(Ke){Ie!==Ke&&!q&&(n.depthMask(Ke),Ie=Ke)},setFunc:function(Ke){if(Ne!==Ke){switch(Ke){case mN:n.depthFunc(n.NEVER);break;case gN:n.depthFunc(n.ALWAYS);break;case vN:n.depthFunc(n.LESS);break;case gf:n.depthFunc(n.LEQUAL);break;case yN:n.depthFunc(n.EQUAL);break;case xN:n.depthFunc(n.GEQUAL);break;case _N:n.depthFunc(n.GREATER);break;case AN:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Ne=Ke}},setLocked:function(Ke){q=Ke},setClear:function(Ke){ct!==Ke&&(n.clearDepth(Ke),ct=Ke)},reset:function(){q=!1,Ie=null,Ne=null,ct=null}}}function o(){let q=!1,Ie=null,Ne=null,ct=null,Ke=null,Lt=null,It=null,qt=null,sn=null;return{setTest:function(Ut){q||(Ut?ot(n.STENCIL_TEST):ze(n.STENCIL_TEST))},setMask:function(Ut){Ie!==Ut&&!q&&(n.stencilMask(Ut),Ie=Ut)},setFunc:function(Ut,ai,Lr){(Ne!==Ut||ct!==ai||Ke!==Lr)&&(n.stencilFunc(Ut,ai,Lr),Ne=Ut,ct=ai,Ke=Lr)},setOp:function(Ut,ai,Lr){(Lt!==Ut||It!==ai||qt!==Lr)&&(n.stencilOp(Ut,ai,Lr),Lt=Ut,It=ai,qt=Lr)},setLocked:function(Ut){q=Ut},setClear:function(Ut){sn!==Ut&&(n.clearStencil(Ut),sn=Ut)},reset:function(){q=!1,Ie=null,Ne=null,ct=null,Ke=null,Lt=null,It=null,qt=null,sn=null}}}const a=new r,l=new s,c=new o,d=new WeakMap,f=new WeakMap;let p={},m={},v=new WeakMap,x=[],A=null,g=!1,_=null,S=null,M=null,T=null,P=null,B=null,D=null,L=new Fe(0,0,0),I=0,H=!1,W=null,ee=null,z=null,Q=null,Z=null;const ce=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let N=!1,V=0;const j=n.getParameter(n.VERSION);j.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(j)[1]),N=V>=1):j.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),N=V>=2);let K=null,ie={};const re=n.getParameter(n.SCISSOR_BOX),fe=n.getParameter(n.VIEWPORT),we=new Xt().fromArray(re),Ce=new Xt().fromArray(fe);function Le(q,Ie,Ne,ct){const Ke=new Uint8Array(4),Lt=n.createTexture();n.bindTexture(q,Lt),n.texParameteri(q,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(q,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let It=0;It<Ne;It++)i&&(q===n.TEXTURE_3D||q===n.TEXTURE_2D_ARRAY)?n.texImage3D(Ie,0,n.RGBA,1,1,ct,0,n.RGBA,n.UNSIGNED_BYTE,Ke):n.texImage2D(Ie+It,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ke);return Lt}const rt={};rt[n.TEXTURE_2D]=Le(n.TEXTURE_2D,n.TEXTURE_2D,1),rt[n.TEXTURE_CUBE_MAP]=Le(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(rt[n.TEXTURE_2D_ARRAY]=Le(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),rt[n.TEXTURE_3D]=Le(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ot(n.DEPTH_TEST),l.setFunc(gf),Oe(!1),F(RA),ot(n.CULL_FACE),ye(zo);function ot(q){p[q]!==!0&&(n.enable(q),p[q]=!0)}function ze(q){p[q]!==!1&&(n.disable(q),p[q]=!1)}function We(q,Ie){return m[q]!==Ie?(n.bindFramebuffer(q,Ie),m[q]=Ie,i&&(q===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=Ie),q===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=Ie)),!0):!1}function X(q,Ie){let Ne=x,ct=!1;if(q)if(Ne=v.get(Ie),Ne===void 0&&(Ne=[],v.set(Ie,Ne)),q.isWebGLMultipleRenderTargets){const Ke=q.texture;if(Ne.length!==Ke.length||Ne[0]!==n.COLOR_ATTACHMENT0){for(let Lt=0,It=Ke.length;Lt<It;Lt++)Ne[Lt]=n.COLOR_ATTACHMENT0+Lt;Ne.length=Ke.length,ct=!0}}else Ne[0]!==n.COLOR_ATTACHMENT0&&(Ne[0]=n.COLOR_ATTACHMENT0,ct=!0);else Ne[0]!==n.BACK&&(Ne[0]=n.BACK,ct=!0);ct&&(t.isWebGL2?n.drawBuffers(Ne):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ne))}function be(q){return A!==q?(n.useProgram(q),A=q,!0):!1}const _e={[Sa]:n.FUNC_ADD,[eN]:n.FUNC_SUBTRACT,[tN]:n.FUNC_REVERSE_SUBTRACT};if(i)_e[IA]=n.MIN,_e[DA]=n.MAX;else{const q=e.get("EXT_blend_minmax");q!==null&&(_e[IA]=q.MIN_EXT,_e[DA]=q.MAX_EXT)}const Re={[nN]:n.ZERO,[iN]:n.ONE,[rN]:n.SRC_COLOR,[V0]:n.SRC_ALPHA,[uN]:n.SRC_ALPHA_SATURATE,[lN]:n.DST_COLOR,[oN]:n.DST_ALPHA,[sN]:n.ONE_MINUS_SRC_COLOR,[j0]:n.ONE_MINUS_SRC_ALPHA,[cN]:n.ONE_MINUS_DST_COLOR,[aN]:n.ONE_MINUS_DST_ALPHA,[dN]:n.CONSTANT_COLOR,[hN]:n.ONE_MINUS_CONSTANT_COLOR,[fN]:n.CONSTANT_ALPHA,[pN]:n.ONE_MINUS_CONSTANT_ALPHA};function ye(q,Ie,Ne,ct,Ke,Lt,It,qt,sn,Ut){if(q===zo){g===!0&&(ze(n.BLEND),g=!1);return}if(g===!1&&(ot(n.BLEND),g=!0),q!==$D){if(q!==_||Ut!==H){if((S!==Sa||P!==Sa)&&(n.blendEquation(n.FUNC_ADD),S=Sa,P=Sa),Ut)switch(q){case Kl:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case PA:n.blendFunc(n.ONE,n.ONE);break;case LA:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case BA:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",q);break}else switch(q){case Kl:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case PA:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case LA:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case BA:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",q);break}M=null,T=null,B=null,D=null,L.set(0,0,0),I=0,_=q,H=Ut}return}Ke=Ke||Ie,Lt=Lt||Ne,It=It||ct,(Ie!==S||Ke!==P)&&(n.blendEquationSeparate(_e[Ie],_e[Ke]),S=Ie,P=Ke),(Ne!==M||ct!==T||Lt!==B||It!==D)&&(n.blendFuncSeparate(Re[Ne],Re[ct],Re[Lt],Re[It]),M=Ne,T=ct,B=Lt,D=It),(qt.equals(L)===!1||sn!==I)&&(n.blendColor(qt.r,qt.g,qt.b,sn),L.copy(qt),I=sn),_=q,H=!1}function $e(q,Ie){q.side===vs?ze(n.CULL_FACE):ot(n.CULL_FACE);let Ne=q.side===Xi;Ie&&(Ne=!Ne),Oe(Ne),q.blending===Kl&&q.transparent===!1?ye(zo):ye(q.blending,q.blendEquation,q.blendSrc,q.blendDst,q.blendEquationAlpha,q.blendSrcAlpha,q.blendDstAlpha,q.blendColor,q.blendAlpha,q.premultipliedAlpha),l.setFunc(q.depthFunc),l.setTest(q.depthTest),l.setMask(q.depthWrite),a.setMask(q.colorWrite);const ct=q.stencilWrite;c.setTest(ct),ct&&(c.setMask(q.stencilWriteMask),c.setFunc(q.stencilFunc,q.stencilRef,q.stencilFuncMask),c.setOp(q.stencilFail,q.stencilZFail,q.stencilZPass)),O(q.polygonOffset,q.polygonOffsetFactor,q.polygonOffsetUnits),q.alphaToCoverage===!0?ot(n.SAMPLE_ALPHA_TO_COVERAGE):ze(n.SAMPLE_ALPHA_TO_COVERAGE)}function Oe(q){W!==q&&(q?n.frontFace(n.CW):n.frontFace(n.CCW),W=q)}function F(q){q!==KD?(ot(n.CULL_FACE),q!==ee&&(q===RA?n.cullFace(n.BACK):q===QD?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ze(n.CULL_FACE),ee=q}function E(q){q!==z&&(N&&n.lineWidth(q),z=q)}function O(q,Ie,Ne){q?(ot(n.POLYGON_OFFSET_FILL),(Q!==Ie||Z!==Ne)&&(n.polygonOffset(Ie,Ne),Q=Ie,Z=Ne)):ze(n.POLYGON_OFFSET_FILL)}function J(q){q?ot(n.SCISSOR_TEST):ze(n.SCISSOR_TEST)}function se(q){q===void 0&&(q=n.TEXTURE0+ce-1),K!==q&&(n.activeTexture(q),K=q)}function te(q,Ie,Ne){Ne===void 0&&(K===null?Ne=n.TEXTURE0+ce-1:Ne=K);let ct=ie[Ne];ct===void 0&&(ct={type:void 0,texture:void 0},ie[Ne]=ct),(ct.type!==q||ct.texture!==Ie)&&(K!==Ne&&(n.activeTexture(Ne),K=Ne),n.bindTexture(q,Ie||rt[q]),ct.type=q,ct.texture=Ie)}function ue(){const q=ie[K];q!==void 0&&q.type!==void 0&&(n.bindTexture(q.type,null),q.type=void 0,q.texture=void 0)}function ge(){try{n.compressedTexImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Te(){try{n.compressedTexImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function ke(){try{n.texSubImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function st(){try{n.texSubImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Me(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Pt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function yt(){try{n.texStorage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function lt(){try{n.texStorage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function et(){try{n.texImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function je(){try{n.texImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Y(q){we.equals(q)===!1&&(n.scissor(q.x,q.y,q.z,q.w),we.copy(q))}function Ae(q){Ce.equals(q)===!1&&(n.viewport(q.x,q.y,q.z,q.w),Ce.copy(q))}function Ve(q,Ie){let Ne=f.get(Ie);Ne===void 0&&(Ne=new WeakMap,f.set(Ie,Ne));let ct=Ne.get(q);ct===void 0&&(ct=n.getUniformBlockIndex(Ie,q.name),Ne.set(q,ct))}function He(q,Ie){const ct=f.get(Ie).get(q);d.get(Ie)!==ct&&(n.uniformBlockBinding(Ie,ct,q.__bindingPointIndex),d.set(Ie,ct))}function Ee(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},K=null,ie={},m={},v=new WeakMap,x=[],A=null,g=!1,_=null,S=null,M=null,T=null,P=null,B=null,D=null,L=new Fe(0,0,0),I=0,H=!1,W=null,ee=null,z=null,Q=null,Z=null,we.set(0,0,n.canvas.width,n.canvas.height),Ce.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ot,disable:ze,bindFramebuffer:We,drawBuffers:X,useProgram:be,setBlending:ye,setMaterial:$e,setFlipSided:Oe,setCullFace:F,setLineWidth:E,setPolygonOffset:O,setScissorTest:J,activeTexture:se,bindTexture:te,unbindTexture:ue,compressedTexImage2D:ge,compressedTexImage3D:Te,texImage2D:et,texImage3D:je,updateUBOMapping:Ve,uniformBlockBinding:He,texStorage2D:yt,texStorage3D:lt,texSubImage2D:ke,texSubImage3D:st,compressedTexSubImage2D:Me,compressedTexSubImage3D:Pt,scissor:Y,viewport:Ae,reset:Ee}}function wZ(n,e,t,i,r,s,o){const a=r.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new WeakMap;let f;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(F,E){return m?new OffscreenCanvas(F,E):bf("canvas")}function x(F,E,O,J){let se=1;if((F.width>J||F.height>J)&&(se=J/Math.max(F.width,F.height)),se<1||E===!0)if(typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&F instanceof ImageBitmap){const te=E?J0:Math.floor,ue=te(se*F.width),ge=te(se*F.height);f===void 0&&(f=v(ue,ge));const Te=O?v(ue,ge):f;return Te.width=ue,Te.height=ge,Te.getContext("2d").drawImage(F,0,0,ue,ge),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+F.width+"x"+F.height+") to ("+ue+"x"+ge+")."),Te}else return"data"in F&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+F.width+"x"+F.height+")."),F;return F}function A(F){return cS(F.width)&&cS(F.height)}function g(F){return a?!1:F.wrapS!==fi||F.wrapT!==fi||F.minFilter!==bn&&F.minFilter!==pn}function _(F,E){return F.generateMipmaps&&E&&F.minFilter!==bn&&F.minFilter!==pn}function S(F){n.generateMipmap(F)}function M(F,E,O,J,se=!1){if(a===!1)return E;if(F!==null){if(n[F]!==void 0)return n[F];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let te=E;if(E===n.RED&&(O===n.FLOAT&&(te=n.R32F),O===n.HALF_FLOAT&&(te=n.R16F),O===n.UNSIGNED_BYTE&&(te=n.R8)),E===n.RED_INTEGER&&(O===n.UNSIGNED_BYTE&&(te=n.R8UI),O===n.UNSIGNED_SHORT&&(te=n.R16UI),O===n.UNSIGNED_INT&&(te=n.R32UI),O===n.BYTE&&(te=n.R8I),O===n.SHORT&&(te=n.R16I),O===n.INT&&(te=n.R32I)),E===n.RG&&(O===n.FLOAT&&(te=n.RG32F),O===n.HALF_FLOAT&&(te=n.RG16F),O===n.UNSIGNED_BYTE&&(te=n.RG8)),E===n.RGBA){const ue=se?Af:Wt.getTransfer(J);O===n.FLOAT&&(te=n.RGBA32F),O===n.HALF_FLOAT&&(te=n.RGBA16F),O===n.UNSIGNED_BYTE&&(te=ue===Kt?n.SRGB8_ALPHA8:n.RGBA8),O===n.UNSIGNED_SHORT_4_4_4_4&&(te=n.RGBA4),O===n.UNSIGNED_SHORT_5_5_5_1&&(te=n.RGB5_A1)}return(te===n.R16F||te===n.R32F||te===n.RG16F||te===n.RG32F||te===n.RGBA16F||te===n.RGBA32F)&&e.get("EXT_color_buffer_float"),te}function T(F,E,O){return _(F,O)===!0||F.isFramebufferTexture&&F.minFilter!==bn&&F.minFilter!==pn?Math.log2(Math.max(E.width,E.height))+1:F.mipmaps!==void 0&&F.mipmaps.length>0?F.mipmaps.length:F.isCompressedTexture&&Array.isArray(F.image)?E.mipmaps.length:1}function P(F){return F===bn||F===xf||F===Gu?n.NEAREST:n.LINEAR}function B(F){const E=F.target;E.removeEventListener("dispose",B),L(E),E.isVideoTexture&&d.delete(E)}function D(F){const E=F.target;E.removeEventListener("dispose",D),H(E)}function L(F){const E=i.get(F);if(E.__webglInit===void 0)return;const O=F.source,J=p.get(O);if(J){const se=J[E.__cacheKey];se.usedTimes--,se.usedTimes===0&&I(F),Object.keys(J).length===0&&p.delete(O)}i.remove(F)}function I(F){const E=i.get(F);n.deleteTexture(E.__webglTexture);const O=F.source,J=p.get(O);delete J[E.__cacheKey],o.memory.textures--}function H(F){const E=F.texture,O=i.get(F),J=i.get(E);if(J.__webglTexture!==void 0&&(n.deleteTexture(J.__webglTexture),o.memory.textures--),F.depthTexture&&F.depthTexture.dispose(),F.isWebGLCubeRenderTarget)for(let se=0;se<6;se++){if(Array.isArray(O.__webglFramebuffer[se]))for(let te=0;te<O.__webglFramebuffer[se].length;te++)n.deleteFramebuffer(O.__webglFramebuffer[se][te]);else n.deleteFramebuffer(O.__webglFramebuffer[se]);O.__webglDepthbuffer&&n.deleteRenderbuffer(O.__webglDepthbuffer[se])}else{if(Array.isArray(O.__webglFramebuffer))for(let se=0;se<O.__webglFramebuffer.length;se++)n.deleteFramebuffer(O.__webglFramebuffer[se]);else n.deleteFramebuffer(O.__webglFramebuffer);if(O.__webglDepthbuffer&&n.deleteRenderbuffer(O.__webglDepthbuffer),O.__webglMultisampledFramebuffer&&n.deleteFramebuffer(O.__webglMultisampledFramebuffer),O.__webglColorRenderbuffer)for(let se=0;se<O.__webglColorRenderbuffer.length;se++)O.__webglColorRenderbuffer[se]&&n.deleteRenderbuffer(O.__webglColorRenderbuffer[se]);O.__webglDepthRenderbuffer&&n.deleteRenderbuffer(O.__webglDepthRenderbuffer)}if(F.isWebGLMultipleRenderTargets)for(let se=0,te=E.length;se<te;se++){const ue=i.get(E[se]);ue.__webglTexture&&(n.deleteTexture(ue.__webglTexture),o.memory.textures--),i.remove(E[se])}i.remove(E),i.remove(F)}let W=0;function ee(){W=0}function z(){const F=W;return F>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+r.maxTextures),W+=1,F}function Q(F){const E=[];return E.push(F.wrapS),E.push(F.wrapT),E.push(F.wrapR||0),E.push(F.magFilter),E.push(F.minFilter),E.push(F.anisotropy),E.push(F.internalFormat),E.push(F.format),E.push(F.type),E.push(F.generateMipmaps),E.push(F.premultiplyAlpha),E.push(F.flipY),E.push(F.unpackAlignment),E.push(F.colorSpace),E.join()}function Z(F,E){const O=i.get(F);if(F.isVideoTexture&&$e(F),F.isRenderTargetTexture===!1&&F.version>0&&O.__version!==F.version){const J=F.image;if(J===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(J.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{we(O,F,E);return}}t.bindTexture(n.TEXTURE_2D,O.__webglTexture,n.TEXTURE0+E)}function ce(F,E){const O=i.get(F);if(F.version>0&&O.__version!==F.version){we(O,F,E);return}t.bindTexture(n.TEXTURE_2D_ARRAY,O.__webglTexture,n.TEXTURE0+E)}function N(F,E){const O=i.get(F);if(F.version>0&&O.__version!==F.version){we(O,F,E);return}t.bindTexture(n.TEXTURE_3D,O.__webglTexture,n.TEXTURE0+E)}function V(F,E){const O=i.get(F);if(F.version>0&&O.__version!==F.version){Ce(O,F,E);return}t.bindTexture(n.TEXTURE_CUBE_MAP,O.__webglTexture,n.TEXTURE0+E)}const j={[Ja]:n.REPEAT,[fi]:n.CLAMP_TO_EDGE,[nd]:n.MIRRORED_REPEAT},K={[bn]:n.NEAREST,[xf]:n.NEAREST_MIPMAP_NEAREST,[Gu]:n.NEAREST_MIPMAP_LINEAR,[pn]:n.LINEAR,[Lv]:n.LINEAR_MIPMAP_NEAREST,[to]:n.LINEAR_MIPMAP_LINEAR},ie={[WN]:n.NEVER,[QN]:n.ALWAYS,[XN]:n.LESS,[vM]:n.LEQUAL,[JN]:n.EQUAL,[KN]:n.GEQUAL,[qN]:n.GREATER,[YN]:n.NOTEQUAL};function re(F,E,O){if(O?(n.texParameteri(F,n.TEXTURE_WRAP_S,j[E.wrapS]),n.texParameteri(F,n.TEXTURE_WRAP_T,j[E.wrapT]),(F===n.TEXTURE_3D||F===n.TEXTURE_2D_ARRAY)&&n.texParameteri(F,n.TEXTURE_WRAP_R,j[E.wrapR]),n.texParameteri(F,n.TEXTURE_MAG_FILTER,K[E.magFilter]),n.texParameteri(F,n.TEXTURE_MIN_FILTER,K[E.minFilter])):(n.texParameteri(F,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(F,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(F===n.TEXTURE_3D||F===n.TEXTURE_2D_ARRAY)&&n.texParameteri(F,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(E.wrapS!==fi||E.wrapT!==fi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(F,n.TEXTURE_MAG_FILTER,P(E.magFilter)),n.texParameteri(F,n.TEXTURE_MIN_FILTER,P(E.minFilter)),E.minFilter!==bn&&E.minFilter!==pn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),E.compareFunction&&(n.texParameteri(F,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(F,n.TEXTURE_COMPARE_FUNC,ie[E.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const J=e.get("EXT_texture_filter_anisotropic");if(E.magFilter===bn||E.minFilter!==Gu&&E.minFilter!==to||E.type===xs&&e.has("OES_texture_float_linear")===!1||a===!1&&E.type===id&&e.has("OES_texture_half_float_linear")===!1)return;(E.anisotropy>1||i.get(E).__currentAnisotropy)&&(n.texParameterf(F,J.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(E.anisotropy,r.getMaxAnisotropy())),i.get(E).__currentAnisotropy=E.anisotropy)}}function fe(F,E){let O=!1;F.__webglInit===void 0&&(F.__webglInit=!0,E.addEventListener("dispose",B));const J=E.source;let se=p.get(J);se===void 0&&(se={},p.set(J,se));const te=Q(E);if(te!==F.__cacheKey){se[te]===void 0&&(se[te]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,O=!0),se[te].usedTimes++;const ue=se[F.__cacheKey];ue!==void 0&&(se[F.__cacheKey].usedTimes--,ue.usedTimes===0&&I(E)),F.__cacheKey=te,F.__webglTexture=se[te].texture}return O}function we(F,E,O){let J=n.TEXTURE_2D;(E.isDataArrayTexture||E.isCompressedArrayTexture)&&(J=n.TEXTURE_2D_ARRAY),E.isData3DTexture&&(J=n.TEXTURE_3D);const se=fe(F,E),te=E.source;t.bindTexture(J,F.__webglTexture,n.TEXTURE0+O);const ue=i.get(te);if(te.version!==ue.__version||se===!0){t.activeTexture(n.TEXTURE0+O);const ge=Wt.getPrimaries(Wt.workingColorSpace),Te=E.colorSpace===xr?null:Wt.getPrimaries(E.colorSpace),ke=E.colorSpace===xr||ge===Te?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,E.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,E.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,E.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ke);const st=g(E)&&A(E.image)===!1;let Me=x(E.image,st,!1,r.maxTextureSize);Me=Oe(E,Me);const Pt=A(Me)||a,yt=s.convert(E.format,E.colorSpace);let lt=s.convert(E.type),et=M(E.internalFormat,yt,lt,E.colorSpace,E.isVideoTexture);re(J,E,Pt);let je;const Y=E.mipmaps,Ae=a&&E.isVideoTexture!==!0&&et!==fM,Ve=ue.__version===void 0||se===!0,He=T(E,Me,Pt);if(E.isDepthTexture)et=n.DEPTH_COMPONENT,a?E.type===xs?et=n.DEPTH_COMPONENT32F:E.type===Bo?et=n.DEPTH_COMPONENT24:E.type===Oa?et=n.DEPTH24_STENCIL8:et=n.DEPTH_COMPONENT16:E.type===xs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),E.format===ka&&et===n.DEPTH_COMPONENT&&E.type!==Bv&&E.type!==Bo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),E.type=Bo,lt=s.convert(E.type)),E.format===cc&&et===n.DEPTH_COMPONENT&&(et=n.DEPTH_STENCIL,E.type!==Oa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),E.type=Oa,lt=s.convert(E.type))),Ve&&(Ae?t.texStorage2D(n.TEXTURE_2D,1,et,Me.width,Me.height):t.texImage2D(n.TEXTURE_2D,0,et,Me.width,Me.height,0,yt,lt,null));else if(E.isDataTexture)if(Y.length>0&&Pt){Ae&&Ve&&t.texStorage2D(n.TEXTURE_2D,He,et,Y[0].width,Y[0].height);for(let Ee=0,q=Y.length;Ee<q;Ee++)je=Y[Ee],Ae?t.texSubImage2D(n.TEXTURE_2D,Ee,0,0,je.width,je.height,yt,lt,je.data):t.texImage2D(n.TEXTURE_2D,Ee,et,je.width,je.height,0,yt,lt,je.data);E.generateMipmaps=!1}else Ae?(Ve&&t.texStorage2D(n.TEXTURE_2D,He,et,Me.width,Me.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Me.width,Me.height,yt,lt,Me.data)):t.texImage2D(n.TEXTURE_2D,0,et,Me.width,Me.height,0,yt,lt,Me.data);else if(E.isCompressedTexture)if(E.isCompressedArrayTexture){Ae&&Ve&&t.texStorage3D(n.TEXTURE_2D_ARRAY,He,et,Y[0].width,Y[0].height,Me.depth);for(let Ee=0,q=Y.length;Ee<q;Ee++)je=Y[Ee],E.format!==Vi?yt!==null?Ae?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ee,0,0,0,je.width,je.height,Me.depth,yt,je.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ee,et,je.width,je.height,Me.depth,0,je.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ae?t.texSubImage3D(n.TEXTURE_2D_ARRAY,Ee,0,0,0,je.width,je.height,Me.depth,yt,lt,je.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Ee,et,je.width,je.height,Me.depth,0,yt,lt,je.data)}else{Ae&&Ve&&t.texStorage2D(n.TEXTURE_2D,He,et,Y[0].width,Y[0].height);for(let Ee=0,q=Y.length;Ee<q;Ee++)je=Y[Ee],E.format!==Vi?yt!==null?Ae?t.compressedTexSubImage2D(n.TEXTURE_2D,Ee,0,0,je.width,je.height,yt,je.data):t.compressedTexImage2D(n.TEXTURE_2D,Ee,et,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ae?t.texSubImage2D(n.TEXTURE_2D,Ee,0,0,je.width,je.height,yt,lt,je.data):t.texImage2D(n.TEXTURE_2D,Ee,et,je.width,je.height,0,yt,lt,je.data)}else if(E.isDataArrayTexture)Ae?(Ve&&t.texStorage3D(n.TEXTURE_2D_ARRAY,He,et,Me.width,Me.height,Me.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Me.width,Me.height,Me.depth,yt,lt,Me.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,et,Me.width,Me.height,Me.depth,0,yt,lt,Me.data);else if(E.isData3DTexture)Ae?(Ve&&t.texStorage3D(n.TEXTURE_3D,He,et,Me.width,Me.height,Me.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Me.width,Me.height,Me.depth,yt,lt,Me.data)):t.texImage3D(n.TEXTURE_3D,0,et,Me.width,Me.height,Me.depth,0,yt,lt,Me.data);else if(E.isFramebufferTexture){if(Ve)if(Ae)t.texStorage2D(n.TEXTURE_2D,He,et,Me.width,Me.height);else{let Ee=Me.width,q=Me.height;for(let Ie=0;Ie<He;Ie++)t.texImage2D(n.TEXTURE_2D,Ie,et,Ee,q,0,yt,lt,null),Ee>>=1,q>>=1}}else if(Y.length>0&&Pt){Ae&&Ve&&t.texStorage2D(n.TEXTURE_2D,He,et,Y[0].width,Y[0].height);for(let Ee=0,q=Y.length;Ee<q;Ee++)je=Y[Ee],Ae?t.texSubImage2D(n.TEXTURE_2D,Ee,0,0,yt,lt,je):t.texImage2D(n.TEXTURE_2D,Ee,et,yt,lt,je);E.generateMipmaps=!1}else Ae?(Ve&&t.texStorage2D(n.TEXTURE_2D,He,et,Me.width,Me.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,yt,lt,Me)):t.texImage2D(n.TEXTURE_2D,0,et,yt,lt,Me);_(E,Pt)&&S(J),ue.__version=te.version,E.onUpdate&&E.onUpdate(E)}F.__version=E.version}function Ce(F,E,O){if(E.image.length!==6)return;const J=fe(F,E),se=E.source;t.bindTexture(n.TEXTURE_CUBE_MAP,F.__webglTexture,n.TEXTURE0+O);const te=i.get(se);if(se.version!==te.__version||J===!0){t.activeTexture(n.TEXTURE0+O);const ue=Wt.getPrimaries(Wt.workingColorSpace),ge=E.colorSpace===xr?null:Wt.getPrimaries(E.colorSpace),Te=E.colorSpace===xr||ue===ge?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,E.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,E.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,E.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Te);const ke=E.isCompressedTexture||E.image[0].isCompressedTexture,st=E.image[0]&&E.image[0].isDataTexture,Me=[];for(let Ee=0;Ee<6;Ee++)!ke&&!st?Me[Ee]=x(E.image[Ee],!1,!0,r.maxCubemapSize):Me[Ee]=st?E.image[Ee].image:E.image[Ee],Me[Ee]=Oe(E,Me[Ee]);const Pt=Me[0],yt=A(Pt)||a,lt=s.convert(E.format,E.colorSpace),et=s.convert(E.type),je=M(E.internalFormat,lt,et,E.colorSpace),Y=a&&E.isVideoTexture!==!0,Ae=te.__version===void 0||J===!0;let Ve=T(E,Pt,yt);re(n.TEXTURE_CUBE_MAP,E,yt);let He;if(ke){Y&&Ae&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ve,je,Pt.width,Pt.height);for(let Ee=0;Ee<6;Ee++){He=Me[Ee].mipmaps;for(let q=0;q<He.length;q++){const Ie=He[q];E.format!==Vi?lt!==null?Y?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,q,0,0,Ie.width,Ie.height,lt,Ie.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,q,je,Ie.width,Ie.height,0,Ie.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Y?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,q,0,0,Ie.width,Ie.height,lt,et,Ie.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,q,je,Ie.width,Ie.height,0,lt,et,Ie.data)}}}else{He=E.mipmaps,Y&&Ae&&(He.length>0&&Ve++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Ve,je,Me[0].width,Me[0].height));for(let Ee=0;Ee<6;Ee++)if(st){Y?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,Me[Ee].width,Me[Ee].height,lt,et,Me[Ee].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,je,Me[Ee].width,Me[Ee].height,0,lt,et,Me[Ee].data);for(let q=0;q<He.length;q++){const Ne=He[q].image[Ee].image;Y?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,q+1,0,0,Ne.width,Ne.height,lt,et,Ne.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,q+1,je,Ne.width,Ne.height,0,lt,et,Ne.data)}}else{Y?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,lt,et,Me[Ee]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,je,lt,et,Me[Ee]);for(let q=0;q<He.length;q++){const Ie=He[q];Y?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,q+1,0,0,lt,et,Ie.image[Ee]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,q+1,je,lt,et,Ie.image[Ee])}}}_(E,yt)&&S(n.TEXTURE_CUBE_MAP),te.__version=se.version,E.onUpdate&&E.onUpdate(E)}F.__version=E.version}function Le(F,E,O,J,se,te){const ue=s.convert(O.format,O.colorSpace),ge=s.convert(O.type),Te=M(O.internalFormat,ue,ge,O.colorSpace);if(!i.get(E).__hasExternalTextures){const st=Math.max(1,E.width>>te),Me=Math.max(1,E.height>>te);se===n.TEXTURE_3D||se===n.TEXTURE_2D_ARRAY?t.texImage3D(se,te,Te,st,Me,E.depth,0,ue,ge,null):t.texImage2D(se,te,Te,st,Me,0,ue,ge,null)}t.bindFramebuffer(n.FRAMEBUFFER,F),ye(E)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,J,se,i.get(O).__webglTexture,0,Re(E)):(se===n.TEXTURE_2D||se>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&se<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,J,se,i.get(O).__webglTexture,te),t.bindFramebuffer(n.FRAMEBUFFER,null)}function rt(F,E,O){if(n.bindRenderbuffer(n.RENDERBUFFER,F),E.depthBuffer&&!E.stencilBuffer){let J=a===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(O||ye(E)){const se=E.depthTexture;se&&se.isDepthTexture&&(se.type===xs?J=n.DEPTH_COMPONENT32F:se.type===Bo&&(J=n.DEPTH_COMPONENT24));const te=Re(E);ye(E)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,te,J,E.width,E.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,te,J,E.width,E.height)}else n.renderbufferStorage(n.RENDERBUFFER,J,E.width,E.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,F)}else if(E.depthBuffer&&E.stencilBuffer){const J=Re(E);O&&ye(E)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,J,n.DEPTH24_STENCIL8,E.width,E.height):ye(E)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,J,n.DEPTH24_STENCIL8,E.width,E.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,E.width,E.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,F)}else{const J=E.isWebGLMultipleRenderTargets===!0?E.texture:[E.texture];for(let se=0;se<J.length;se++){const te=J[se],ue=s.convert(te.format,te.colorSpace),ge=s.convert(te.type),Te=M(te.internalFormat,ue,ge,te.colorSpace),ke=Re(E);O&&ye(E)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ke,Te,E.width,E.height):ye(E)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ke,Te,E.width,E.height):n.renderbufferStorage(n.RENDERBUFFER,Te,E.width,E.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ot(F,E){if(E&&E.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,F),!(E.depthTexture&&E.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(E.depthTexture).__webglTexture||E.depthTexture.image.width!==E.width||E.depthTexture.image.height!==E.height)&&(E.depthTexture.image.width=E.width,E.depthTexture.image.height=E.height,E.depthTexture.needsUpdate=!0),Z(E.depthTexture,0);const J=i.get(E.depthTexture).__webglTexture,se=Re(E);if(E.depthTexture.format===ka)ye(E)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,J,0,se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,J,0);else if(E.depthTexture.format===cc)ye(E)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,J,0,se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,J,0);else throw new Error("Unknown depthTexture format")}function ze(F){const E=i.get(F),O=F.isWebGLCubeRenderTarget===!0;if(F.depthTexture&&!E.__autoAllocateDepthBuffer){if(O)throw new Error("target.depthTexture not supported in Cube render targets");ot(E.__webglFramebuffer,F)}else if(O){E.__webglDepthbuffer=[];for(let J=0;J<6;J++)t.bindFramebuffer(n.FRAMEBUFFER,E.__webglFramebuffer[J]),E.__webglDepthbuffer[J]=n.createRenderbuffer(),rt(E.__webglDepthbuffer[J],F,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,E.__webglFramebuffer),E.__webglDepthbuffer=n.createRenderbuffer(),rt(E.__webglDepthbuffer,F,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function We(F,E,O){const J=i.get(F);E!==void 0&&Le(J.__webglFramebuffer,F,F.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),O!==void 0&&ze(F)}function X(F){const E=F.texture,O=i.get(F),J=i.get(E);F.addEventListener("dispose",D),F.isWebGLMultipleRenderTargets!==!0&&(J.__webglTexture===void 0&&(J.__webglTexture=n.createTexture()),J.__version=E.version,o.memory.textures++);const se=F.isWebGLCubeRenderTarget===!0,te=F.isWebGLMultipleRenderTargets===!0,ue=A(F)||a;if(se){O.__webglFramebuffer=[];for(let ge=0;ge<6;ge++)if(a&&E.mipmaps&&E.mipmaps.length>0){O.__webglFramebuffer[ge]=[];for(let Te=0;Te<E.mipmaps.length;Te++)O.__webglFramebuffer[ge][Te]=n.createFramebuffer()}else O.__webglFramebuffer[ge]=n.createFramebuffer()}else{if(a&&E.mipmaps&&E.mipmaps.length>0){O.__webglFramebuffer=[];for(let ge=0;ge<E.mipmaps.length;ge++)O.__webglFramebuffer[ge]=n.createFramebuffer()}else O.__webglFramebuffer=n.createFramebuffer();if(te)if(r.drawBuffers){const ge=F.texture;for(let Te=0,ke=ge.length;Te<ke;Te++){const st=i.get(ge[Te]);st.__webglTexture===void 0&&(st.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&F.samples>0&&ye(F)===!1){const ge=te?E:[E];O.__webglMultisampledFramebuffer=n.createFramebuffer(),O.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,O.__webglMultisampledFramebuffer);for(let Te=0;Te<ge.length;Te++){const ke=ge[Te];O.__webglColorRenderbuffer[Te]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,O.__webglColorRenderbuffer[Te]);const st=s.convert(ke.format,ke.colorSpace),Me=s.convert(ke.type),Pt=M(ke.internalFormat,st,Me,ke.colorSpace,F.isXRRenderTarget===!0),yt=Re(F);n.renderbufferStorageMultisample(n.RENDERBUFFER,yt,Pt,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Te,n.RENDERBUFFER,O.__webglColorRenderbuffer[Te])}n.bindRenderbuffer(n.RENDERBUFFER,null),F.depthBuffer&&(O.__webglDepthRenderbuffer=n.createRenderbuffer(),rt(O.__webglDepthRenderbuffer,F,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(se){t.bindTexture(n.TEXTURE_CUBE_MAP,J.__webglTexture),re(n.TEXTURE_CUBE_MAP,E,ue);for(let ge=0;ge<6;ge++)if(a&&E.mipmaps&&E.mipmaps.length>0)for(let Te=0;Te<E.mipmaps.length;Te++)Le(O.__webglFramebuffer[ge][Te],F,E,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Te);else Le(O.__webglFramebuffer[ge],F,E,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0);_(E,ue)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(te){const ge=F.texture;for(let Te=0,ke=ge.length;Te<ke;Te++){const st=ge[Te],Me=i.get(st);t.bindTexture(n.TEXTURE_2D,Me.__webglTexture),re(n.TEXTURE_2D,st,ue),Le(O.__webglFramebuffer,F,st,n.COLOR_ATTACHMENT0+Te,n.TEXTURE_2D,0),_(st,ue)&&S(n.TEXTURE_2D)}t.unbindTexture()}else{let ge=n.TEXTURE_2D;if((F.isWebGL3DRenderTarget||F.isWebGLArrayRenderTarget)&&(a?ge=F.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ge,J.__webglTexture),re(ge,E,ue),a&&E.mipmaps&&E.mipmaps.length>0)for(let Te=0;Te<E.mipmaps.length;Te++)Le(O.__webglFramebuffer[Te],F,E,n.COLOR_ATTACHMENT0,ge,Te);else Le(O.__webglFramebuffer,F,E,n.COLOR_ATTACHMENT0,ge,0);_(E,ue)&&S(ge),t.unbindTexture()}F.depthBuffer&&ze(F)}function be(F){const E=A(F)||a,O=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let J=0,se=O.length;J<se;J++){const te=O[J];if(_(te,E)){const ue=F.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,ge=i.get(te).__webglTexture;t.bindTexture(ue,ge),S(ue),t.unbindTexture()}}}function _e(F){if(a&&F.samples>0&&ye(F)===!1){const E=F.isWebGLMultipleRenderTargets?F.texture:[F.texture],O=F.width,J=F.height;let se=n.COLOR_BUFFER_BIT;const te=[],ue=F.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ge=i.get(F),Te=F.isWebGLMultipleRenderTargets===!0;if(Te)for(let ke=0;ke<E.length;ke++)t.bindFramebuffer(n.FRAMEBUFFER,ge.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ke,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ge.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ke,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ge.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ge.__webglFramebuffer);for(let ke=0;ke<E.length;ke++){te.push(n.COLOR_ATTACHMENT0+ke),F.depthBuffer&&te.push(ue);const st=ge.__ignoreDepthValues!==void 0?ge.__ignoreDepthValues:!1;if(st===!1&&(F.depthBuffer&&(se|=n.DEPTH_BUFFER_BIT),F.stencilBuffer&&(se|=n.STENCIL_BUFFER_BIT)),Te&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ge.__webglColorRenderbuffer[ke]),st===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[ue]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ue])),Te){const Me=i.get(E[ke]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Me,0)}n.blitFramebuffer(0,0,O,J,0,0,O,J,se,n.NEAREST),c&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,te)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Te)for(let ke=0;ke<E.length;ke++){t.bindFramebuffer(n.FRAMEBUFFER,ge.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ke,n.RENDERBUFFER,ge.__webglColorRenderbuffer[ke]);const st=i.get(E[ke]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ge.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ke,n.TEXTURE_2D,st,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ge.__webglMultisampledFramebuffer)}}function Re(F){return Math.min(r.maxSamples,F.samples)}function ye(F){const E=i.get(F);return a&&F.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&E.__useRenderToTexture!==!1}function $e(F){const E=o.render.frame;d.get(F)!==E&&(d.set(F,E),F.update())}function Oe(F,E){const O=F.colorSpace,J=F.format,se=F.type;return F.isCompressedTexture===!0||F.isVideoTexture===!0||F.format===X0||O!==no&&O!==xr&&(Wt.getTransfer(O)===Kt?a===!1?e.has("EXT_sRGB")===!0&&J===Vi?(F.format=X0,F.minFilter=pn,F.generateMipmaps=!1):E=xM.sRGBToLinear(E):(J!==Vi||se!==Qs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",O)),E}this.allocateTextureUnit=z,this.resetTextureUnits=ee,this.setTexture2D=Z,this.setTexture2DArray=ce,this.setTexture3D=N,this.setTextureCube=V,this.rebindTextures=We,this.setupRenderTarget=X,this.updateRenderTargetMipmap=be,this.updateMultisampleRenderTarget=_e,this.setupDepthRenderbuffer=ze,this.setupFrameBufferTexture=Le,this.useMultisampledRTT=ye}function fF(n,e,t){const i=t.isWebGL2;function r(s,o=xr){let a;const l=Wt.getTransfer(o);if(s===Qs)return n.UNSIGNED_BYTE;if(s===lM)return n.UNSIGNED_SHORT_4_4_4_4;if(s===cM)return n.UNSIGNED_SHORT_5_5_5_1;if(s===PN)return n.BYTE;if(s===LN)return n.SHORT;if(s===Bv)return n.UNSIGNED_SHORT;if(s===aM)return n.INT;if(s===Bo)return n.UNSIGNED_INT;if(s===xs)return n.FLOAT;if(s===id)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===BN)return n.ALPHA;if(s===Vi)return n.RGBA;if(s===IN)return n.LUMINANCE;if(s===DN)return n.LUMINANCE_ALPHA;if(s===ka)return n.DEPTH_COMPONENT;if(s===cc)return n.DEPTH_STENCIL;if(s===X0)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===NN)return n.RED;if(s===uM)return n.RED_INTEGER;if(s===FN)return n.RG;if(s===dM)return n.RG_INTEGER;if(s===hM)return n.RGBA_INTEGER;if(s===qg||s===Yg||s===Kg||s===Qg)if(l===Kt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===qg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Yg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Kg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Qg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===qg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Yg)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Kg)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Qg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===FA||s===OA||s===kA||s===UA)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===FA)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===OA)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===kA)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===UA)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===fM)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===zA||s===HA)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===zA)return l===Kt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===HA)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===GA||s===VA||s===jA||s===WA||s===XA||s===JA||s===qA||s===YA||s===KA||s===QA||s===ZA||s===$A||s===eS||s===tS)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===GA)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===VA)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===jA)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===WA)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===XA)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===JA)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===qA)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===YA)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===KA)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===QA)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===ZA)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===$A)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===eS)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===tS)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Zg||s===nS||s===iS)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Zg)return l===Kt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===nS)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===iS)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===ON||s===rS||s===sS||s===oS)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Zg)return a.COMPRESSED_RED_RGTC1_EXT;if(s===rS)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===sS)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===oS)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Oa?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class pF extends mn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Io extends Ot{constructor(){super(),this.isGroup=!0,this.type="Group"}}const MZ={type:"move"};class N_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Io,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Io,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new U,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new U),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Io,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new U,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new U),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const A=t.getJointPose(x,i),g=this._getHandJoint(c,x);A!==null&&(g.matrix.fromArray(A.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=A.radius),g.visible=A!==null}const d=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],p=d.position.distanceTo(f.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(MZ)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Io;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class bZ extends ao{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,d=null,f=null,p=null,m=null,v=null;const x=t.getContextAttributes();let A=null,g=null;const _=[],S=[],M=new xe;let T=null;const P=new mn;P.layers.enable(1),P.viewport=new Xt;const B=new mn;B.layers.enable(2),B.viewport=new Xt;const D=[P,B],L=new pF;L.layers.enable(1),L.layers.enable(2);let I=null,H=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let fe=_[re];return fe===void 0&&(fe=new N_,_[re]=fe),fe.getTargetRaySpace()},this.getControllerGrip=function(re){let fe=_[re];return fe===void 0&&(fe=new N_,_[re]=fe),fe.getGripSpace()},this.getHand=function(re){let fe=_[re];return fe===void 0&&(fe=new N_,_[re]=fe),fe.getHandSpace()};function W(re){const fe=S.indexOf(re.inputSource);if(fe===-1)return;const we=_[fe];we!==void 0&&(we.update(re.inputSource,re.frame,c||o),we.dispatchEvent({type:re.type,data:re.inputSource}))}function ee(){r.removeEventListener("select",W),r.removeEventListener("selectstart",W),r.removeEventListener("selectend",W),r.removeEventListener("squeeze",W),r.removeEventListener("squeezestart",W),r.removeEventListener("squeezeend",W),r.removeEventListener("end",ee),r.removeEventListener("inputsourceschange",z);for(let re=0;re<_.length;re++){const fe=S[re];fe!==null&&(S[re]=null,_[re].disconnect(fe))}I=null,H=null,e.setRenderTarget(A),m=null,p=null,f=null,r=null,g=null,ie.stop(),i.isPresenting=!1,e.setPixelRatio(T),e.setSize(M.width,M.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(re){s=re,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){a=re,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(re){c=re},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(re){if(r=re,r!==null){if(A=e.getRenderTarget(),r.addEventListener("select",W),r.addEventListener("selectstart",W),r.addEventListener("selectend",W),r.addEventListener("squeeze",W),r.addEventListener("squeezestart",W),r.addEventListener("squeezeend",W),r.addEventListener("end",ee),r.addEventListener("inputsourceschange",z),x.xrCompatible!==!0&&await t.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(M),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const fe={antialias:r.renderState.layers===void 0?x.antialias:!0,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,fe),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),g=new Ts(m.framebufferWidth,m.framebufferHeight,{format:Vi,type:Qs,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let fe=null,we=null,Ce=null;x.depth&&(Ce=x.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,fe=x.stencil?cc:ka,we=x.stencil?Oa:Bo);const Le={colorFormat:t.RGBA8,depthFormat:Ce,scaleFactor:s};f=new XRWebGLBinding(r,t),p=f.createProjectionLayer(Le),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),g=new Ts(p.textureWidth,p.textureHeight,{format:Vi,type:Qs,depthTexture:new MM(p.textureWidth,p.textureHeight,we,void 0,void 0,void 0,void 0,void 0,void 0,fe),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const rt=e.properties.get(g);rt.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),ie.setContext(r),ie.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function z(re){for(let fe=0;fe<re.removed.length;fe++){const we=re.removed[fe],Ce=S.indexOf(we);Ce>=0&&(S[Ce]=null,_[Ce].disconnect(we))}for(let fe=0;fe<re.added.length;fe++){const we=re.added[fe];let Ce=S.indexOf(we);if(Ce===-1){for(let rt=0;rt<_.length;rt++)if(rt>=S.length){S.push(we),Ce=rt;break}else if(S[rt]===null){S[rt]=we,Ce=rt;break}if(Ce===-1)break}const Le=_[Ce];Le&&Le.connect(we)}}const Q=new U,Z=new U;function ce(re,fe,we){Q.setFromMatrixPosition(fe.matrixWorld),Z.setFromMatrixPosition(we.matrixWorld);const Ce=Q.distanceTo(Z),Le=fe.projectionMatrix.elements,rt=we.projectionMatrix.elements,ot=Le[14]/(Le[10]-1),ze=Le[14]/(Le[10]+1),We=(Le[9]+1)/Le[5],X=(Le[9]-1)/Le[5],be=(Le[8]-1)/Le[0],_e=(rt[8]+1)/rt[0],Re=ot*be,ye=ot*_e,$e=Ce/(-be+_e),Oe=$e*-be;fe.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(Oe),re.translateZ($e),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert();const F=ot+$e,E=ze+$e,O=Re-Oe,J=ye+(Ce-Oe),se=We*ze/E*F,te=X*ze/E*F;re.projectionMatrix.makePerspective(O,J,se,te,F,E),re.projectionMatrixInverse.copy(re.projectionMatrix).invert()}function N(re,fe){fe===null?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(fe.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.updateCamera=function(re){if(r===null)return;L.near=B.near=P.near=re.near,L.far=B.far=P.far=re.far,(I!==L.near||H!==L.far)&&(r.updateRenderState({depthNear:L.near,depthFar:L.far}),I=L.near,H=L.far);const fe=re.parent,we=L.cameras;N(L,fe);for(let Ce=0;Ce<we.length;Ce++)N(we[Ce],fe);we.length===2?ce(L,P,B):L.projectionMatrix.copy(P.projectionMatrix),V(re,L,fe)};function V(re,fe,we){we===null?re.matrix.copy(fe.matrixWorld):(re.matrix.copy(we.matrixWorld),re.matrix.invert(),re.matrix.multiply(fe.matrixWorld)),re.matrix.decompose(re.position,re.quaternion,re.scale),re.updateMatrixWorld(!0),re.projectionMatrix.copy(fe.projectionMatrix),re.projectionMatrixInverse.copy(fe.projectionMatrixInverse),re.isPerspectiveCamera&&(re.fov=od*2*Math.atan(1/re.projectionMatrix.elements[5]),re.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(re){l=re,p!==null&&(p.fixedFoveation=re),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=re)};let j=null;function K(re,fe){if(d=fe.getViewerPose(c||o),v=fe,d!==null){const we=d.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let Ce=!1;we.length!==L.cameras.length&&(L.cameras.length=0,Ce=!0);for(let Le=0;Le<we.length;Le++){const rt=we[Le];let ot=null;if(m!==null)ot=m.getViewport(rt);else{const We=f.getViewSubImage(p,rt);ot=We.viewport,Le===0&&(e.setRenderTargetTextures(g,We.colorTexture,p.ignoreDepthValues?void 0:We.depthStencilTexture),e.setRenderTarget(g))}let ze=D[Le];ze===void 0&&(ze=new mn,ze.layers.enable(Le),ze.viewport=new Xt,D[Le]=ze),ze.matrix.fromArray(rt.transform.matrix),ze.matrix.decompose(ze.position,ze.quaternion,ze.scale),ze.projectionMatrix.fromArray(rt.projectionMatrix),ze.projectionMatrixInverse.copy(ze.projectionMatrix).invert(),ze.viewport.set(ot.x,ot.y,ot.width,ot.height),Le===0&&(L.matrix.copy(ze.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),Ce===!0&&L.cameras.push(ze)}}for(let we=0;we<_.length;we++){const Ce=S[we],Le=_[we];Ce!==null&&Le!==void 0&&Le.update(Ce,fe,c||o)}j&&j(re,fe),fe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:fe}),v=null}const ie=new aF;ie.setAnimationLoop(K),this.setAnimationLoop=function(re){j=re},this.dispose=function(){}}}function EZ(n,e){function t(A,g){A.matrixAutoUpdate===!0&&A.updateMatrix(),g.value.copy(A.matrix)}function i(A,g){g.color.getRGB(A.fogColor.value,iF(n)),g.isFog?(A.fogNear.value=g.near,A.fogFar.value=g.far):g.isFogExp2&&(A.fogDensity.value=g.density)}function r(A,g,_,S,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(A,g):g.isMeshToonMaterial?(s(A,g),f(A,g)):g.isMeshPhongMaterial?(s(A,g),d(A,g)):g.isMeshStandardMaterial?(s(A,g),p(A,g),g.isMeshPhysicalMaterial&&m(A,g,M)):g.isMeshMatcapMaterial?(s(A,g),v(A,g)):g.isMeshDepthMaterial?s(A,g):g.isMeshDistanceMaterial?(s(A,g),x(A,g)):g.isMeshNormalMaterial?s(A,g):g.isLineBasicMaterial?(o(A,g),g.isLineDashedMaterial&&a(A,g)):g.isPointsMaterial?l(A,g,_,S):g.isSpriteMaterial?c(A,g):g.isShadowMaterial?(A.color.value.copy(g.color),A.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(A,g){A.opacity.value=g.opacity,g.color&&A.diffuse.value.copy(g.color),g.emissive&&A.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(A.map.value=g.map,t(g.map,A.mapTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,t(g.alphaMap,A.alphaMapTransform)),g.bumpMap&&(A.bumpMap.value=g.bumpMap,t(g.bumpMap,A.bumpMapTransform),A.bumpScale.value=g.bumpScale,g.side===Xi&&(A.bumpScale.value*=-1)),g.normalMap&&(A.normalMap.value=g.normalMap,t(g.normalMap,A.normalMapTransform),A.normalScale.value.copy(g.normalScale),g.side===Xi&&A.normalScale.value.negate()),g.displacementMap&&(A.displacementMap.value=g.displacementMap,t(g.displacementMap,A.displacementMapTransform),A.displacementScale.value=g.displacementScale,A.displacementBias.value=g.displacementBias),g.emissiveMap&&(A.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,A.emissiveMapTransform)),g.specularMap&&(A.specularMap.value=g.specularMap,t(g.specularMap,A.specularMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest);const _=e.get(g).envMap;if(_&&(A.envMap.value=_,A.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=g.reflectivity,A.ior.value=g.ior,A.refractionRatio.value=g.refractionRatio),g.lightMap){A.lightMap.value=g.lightMap;const S=n._useLegacyLights===!0?Math.PI:1;A.lightMapIntensity.value=g.lightMapIntensity*S,t(g.lightMap,A.lightMapTransform)}g.aoMap&&(A.aoMap.value=g.aoMap,A.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,A.aoMapTransform))}function o(A,g){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,g.map&&(A.map.value=g.map,t(g.map,A.mapTransform))}function a(A,g){A.dashSize.value=g.dashSize,A.totalSize.value=g.dashSize+g.gapSize,A.scale.value=g.scale}function l(A,g,_,S){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,A.size.value=g.size*_,A.scale.value=S*.5,g.map&&(A.map.value=g.map,t(g.map,A.uvTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,t(g.alphaMap,A.alphaMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest)}function c(A,g){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,A.rotation.value=g.rotation,g.map&&(A.map.value=g.map,t(g.map,A.mapTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,t(g.alphaMap,A.alphaMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest)}function d(A,g){A.specular.value.copy(g.specular),A.shininess.value=Math.max(g.shininess,1e-4)}function f(A,g){g.gradientMap&&(A.gradientMap.value=g.gradientMap)}function p(A,g){A.metalness.value=g.metalness,g.metalnessMap&&(A.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,A.metalnessMapTransform)),A.roughness.value=g.roughness,g.roughnessMap&&(A.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,A.roughnessMapTransform)),e.get(g).envMap&&(A.envMapIntensity.value=g.envMapIntensity)}function m(A,g,_){A.ior.value=g.ior,g.sheen>0&&(A.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),A.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(A.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,A.sheenColorMapTransform)),g.sheenRoughnessMap&&(A.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,A.sheenRoughnessMapTransform))),g.clearcoat>0&&(A.clearcoat.value=g.clearcoat,A.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(A.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,A.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(A.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Xi&&A.clearcoatNormalScale.value.negate())),g.iridescence>0&&(A.iridescence.value=g.iridescence,A.iridescenceIOR.value=g.iridescenceIOR,A.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(A.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,A.iridescenceMapTransform)),g.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),g.transmission>0&&(A.transmission.value=g.transmission,A.transmissionSamplerMap.value=_.texture,A.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(A.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,A.transmissionMapTransform)),A.thickness.value=g.thickness,g.thicknessMap&&(A.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=g.attenuationDistance,A.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(A.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(A.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=g.specularIntensity,A.specularColor.value.copy(g.specularColor),g.specularColorMap&&(A.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,A.specularColorMapTransform)),g.specularIntensityMap&&(A.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,A.specularIntensityMapTransform))}function v(A,g){g.matcap&&(A.matcap.value=g.matcap)}function x(A,g){const _=e.get(g).light;A.referencePosition.value.setFromMatrixPosition(_.matrixWorld),A.nearDistance.value=_.shadow.camera.near,A.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function CZ(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(_,S){const M=S.program;i.uniformBlockBinding(_,M)}function c(_,S){let M=r[_.id];M===void 0&&(v(_),M=d(_),r[_.id]=M,_.addEventListener("dispose",A));const T=S.program;i.updateUBOMapping(_,T);const P=e.render.frame;s[_.id]!==P&&(p(_),s[_.id]=P)}function d(_){const S=f();_.__bindingPointIndex=S;const M=n.createBuffer(),T=_.__size,P=_.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,T,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,M),M}function f(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const S=r[_.id],M=_.uniforms,T=_.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let P=0,B=M.length;P<B;P++){const D=Array.isArray(M[P])?M[P]:[M[P]];for(let L=0,I=D.length;L<I;L++){const H=D[L];if(m(H,P,L,T)===!0){const W=H.__offset,ee=Array.isArray(H.value)?H.value:[H.value];let z=0;for(let Q=0;Q<ee.length;Q++){const Z=ee[Q],ce=x(Z);typeof Z=="number"||typeof Z=="boolean"?(H.__data[0]=Z,n.bufferSubData(n.UNIFORM_BUFFER,W+z,H.__data)):Z.isMatrix3?(H.__data[0]=Z.elements[0],H.__data[1]=Z.elements[1],H.__data[2]=Z.elements[2],H.__data[3]=0,H.__data[4]=Z.elements[3],H.__data[5]=Z.elements[4],H.__data[6]=Z.elements[5],H.__data[7]=0,H.__data[8]=Z.elements[6],H.__data[9]=Z.elements[7],H.__data[10]=Z.elements[8],H.__data[11]=0):(Z.toArray(H.__data,z),z+=ce.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,W,H.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(_,S,M,T){const P=_.value,B=S+"_"+M;if(T[B]===void 0)return typeof P=="number"||typeof P=="boolean"?T[B]=P:T[B]=P.clone(),!0;{const D=T[B];if(typeof P=="number"||typeof P=="boolean"){if(D!==P)return T[B]=P,!0}else if(D.equals(P)===!1)return D.copy(P),!0}return!1}function v(_){const S=_.uniforms;let M=0;const T=16;for(let B=0,D=S.length;B<D;B++){const L=Array.isArray(S[B])?S[B]:[S[B]];for(let I=0,H=L.length;I<H;I++){const W=L[I],ee=Array.isArray(W.value)?W.value:[W.value];for(let z=0,Q=ee.length;z<Q;z++){const Z=ee[z],ce=x(Z),N=M%T;N!==0&&T-N<ce.boundary&&(M+=T-N),W.__data=new Float32Array(ce.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=M,M+=ce.storage}}}const P=M%T;return P>0&&(M+=T-P),_.__size=M,_.__cache={},this}function x(_){const S={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),S}function A(_){const S=_.target;S.removeEventListener("dispose",A);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function g(){for(const _ in r)n.deleteBuffer(r[_]);o=[],r={},s={}}return{bind:l,update:c,dispose:g}}class CM{constructor(e={}){const{canvas:t=eF(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),v=new Int32Array(4);let x=null,A=null;const g=[],_=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Wn,this._useLegacyLights=!1,this.toneMapping=Ks,this.toneMappingExposure=1;const S=this;let M=!1,T=0,P=0,B=null,D=-1,L=null;const I=new Xt,H=new Xt;let W=null;const ee=new Fe(0);let z=0,Q=t.width,Z=t.height,ce=1,N=null,V=null;const j=new Xt(0,0,Q,Z),K=new Xt(0,0,Q,Z);let ie=!1;const re=new Zf;let fe=!1,we=!1,Ce=null;const Le=new dt,rt=new xe,ot=new U,ze={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function We(){return B===null?ce:1}let X=i;function be(k,oe){for(let he=0;he<k.length;he++){const pe=k[he],de=t.getContext(pe,oe);if(de!==null)return de}return null}try{const k={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Xf}`),t.addEventListener("webglcontextlost",Ee,!1),t.addEventListener("webglcontextrestored",q,!1),t.addEventListener("webglcontextcreationerror",Ie,!1),X===null){const oe=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&oe.shift(),X=be(oe,k),X===null)throw be(oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&X instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),X.getShaderPrecisionFormat===void 0&&(X.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let _e,Re,ye,$e,Oe,F,E,O,J,se,te,ue,ge,Te,ke,st,Me,Pt,yt,lt,et,je,Y,Ae;function Ve(){_e=new HK(X),Re=new NK(X,_e,e),_e.init(Re),je=new fF(X,_e,Re),ye=new SZ(X,_e,Re),$e=new jK(X),Oe=new uZ,F=new wZ(X,_e,ye,Oe,Re,je,$e),E=new OK(S),O=new zK(S),J=new ZJ(X,Re),Y=new IK(X,_e,J,Re),se=new GK(X,J,$e,Y),te=new qK(X,se,J,$e),yt=new JK(X,Re,F),st=new FK(Oe),ue=new cZ(S,E,O,_e,Re,Y,st),ge=new EZ(S,Oe),Te=new hZ,ke=new yZ(_e,Re),Pt=new BK(S,E,O,ye,te,p,l),Me=new AZ(S,te,Re),Ae=new CZ(X,$e,Re,ye),lt=new DK(X,_e,$e,Re),et=new VK(X,_e,$e,Re),$e.programs=ue.programs,S.capabilities=Re,S.extensions=_e,S.properties=Oe,S.renderLists=Te,S.shadowMap=Me,S.state=ye,S.info=$e}Ve();const He=new bZ(S,X);this.xr=He,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const k=_e.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=_e.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return ce},this.setPixelRatio=function(k){k!==void 0&&(ce=k,this.setSize(Q,Z,!1))},this.getSize=function(k){return k.set(Q,Z)},this.setSize=function(k,oe,he=!0){if(He.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Q=k,Z=oe,t.width=Math.floor(k*ce),t.height=Math.floor(oe*ce),he===!0&&(t.style.width=k+"px",t.style.height=oe+"px"),this.setViewport(0,0,k,oe)},this.getDrawingBufferSize=function(k){return k.set(Q*ce,Z*ce).floor()},this.setDrawingBufferSize=function(k,oe,he){Q=k,Z=oe,ce=he,t.width=Math.floor(k*he),t.height=Math.floor(oe*he),this.setViewport(0,0,k,oe)},this.getCurrentViewport=function(k){return k.copy(I)},this.getViewport=function(k){return k.copy(j)},this.setViewport=function(k,oe,he,pe){k.isVector4?j.set(k.x,k.y,k.z,k.w):j.set(k,oe,he,pe),ye.viewport(I.copy(j).multiplyScalar(ce).floor())},this.getScissor=function(k){return k.copy(K)},this.setScissor=function(k,oe,he,pe){k.isVector4?K.set(k.x,k.y,k.z,k.w):K.set(k,oe,he,pe),ye.scissor(H.copy(K).multiplyScalar(ce).floor())},this.getScissorTest=function(){return ie},this.setScissorTest=function(k){ye.setScissorTest(ie=k)},this.setOpaqueSort=function(k){N=k},this.setTransparentSort=function(k){V=k},this.getClearColor=function(k){return k.copy(Pt.getClearColor())},this.setClearColor=function(){Pt.setClearColor.apply(Pt,arguments)},this.getClearAlpha=function(){return Pt.getClearAlpha()},this.setClearAlpha=function(){Pt.setClearAlpha.apply(Pt,arguments)},this.clear=function(k=!0,oe=!0,he=!0){let pe=0;if(k){let de=!1;if(B!==null){const Xe=B.texture.format;de=Xe===hM||Xe===dM||Xe===uM}if(de){const Xe=B.texture.type,nt=Xe===Qs||Xe===Bo||Xe===Bv||Xe===Oa||Xe===lM||Xe===cM,ht=Pt.getClearColor(),ft=Pt.getClearAlpha(),xt=ht.r,vt=ht.g,_t=ht.b;nt?(m[0]=xt,m[1]=vt,m[2]=_t,m[3]=ft,X.clearBufferuiv(X.COLOR,0,m)):(v[0]=xt,v[1]=vt,v[2]=_t,v[3]=ft,X.clearBufferiv(X.COLOR,0,v))}else pe|=X.COLOR_BUFFER_BIT}oe&&(pe|=X.DEPTH_BUFFER_BIT),he&&(pe|=X.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),X.clear(pe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ee,!1),t.removeEventListener("webglcontextrestored",q,!1),t.removeEventListener("webglcontextcreationerror",Ie,!1),Te.dispose(),ke.dispose(),Oe.dispose(),E.dispose(),O.dispose(),te.dispose(),Y.dispose(),Ae.dispose(),ue.dispose(),He.dispose(),He.removeEventListener("sessionstart",sn),He.removeEventListener("sessionend",Ut),Ce&&(Ce.dispose(),Ce=null),ai.stop()};function Ee(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function q(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const k=$e.autoReset,oe=Me.enabled,he=Me.autoUpdate,pe=Me.needsUpdate,de=Me.type;Ve(),$e.autoReset=k,Me.enabled=oe,Me.autoUpdate=he,Me.needsUpdate=pe,Me.type=de}function Ie(k){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function Ne(k){const oe=k.target;oe.removeEventListener("dispose",Ne),ct(oe)}function ct(k){Ke(k),Oe.remove(k)}function Ke(k){const oe=Oe.get(k).programs;oe!==void 0&&(oe.forEach(function(he){ue.releaseProgram(he)}),k.isShaderMaterial&&ue.releaseShaderCache(k))}this.renderBufferDirect=function(k,oe,he,pe,de,Xe){oe===null&&(oe=ze);const nt=de.isMesh&&de.matrixWorld.determinant()<0,ht=iy(k,oe,he,pe,de);ye.setMaterial(pe,nt);let ft=he.index,xt=1;if(pe.wireframe===!0){if(ft=se.getWireframeAttribute(he),ft===void 0)return;xt=2}const vt=he.drawRange,_t=he.attributes.position;let un=vt.start*xt,li=(vt.start+vt.count)*xt;Xe!==null&&(un=Math.max(un,Xe.start*xt),li=Math.min(li,(Xe.start+Xe.count)*xt)),ft!==null?(un=Math.max(un,0),li=Math.min(li,ft.count)):_t!=null&&(un=Math.max(un,0),li=Math.min(li,_t.count));const Zt=li-un;if(Zt<0||Zt===1/0)return;Y.setup(de,pe,ht,he,ft);let Kn,pt=lt;if(ft!==null&&(Kn=J.get(ft),pt=et,pt.setIndex(Kn)),de.isMesh)pe.wireframe===!0?(ye.setLineWidth(pe.wireframeLinewidth*We()),pt.setMode(X.LINES)):pt.setMode(X.TRIANGLES);else if(de.isLine){let qe=pe.linewidth;qe===void 0&&(qe=1),ye.setLineWidth(qe*We()),de.isLineSegments?pt.setMode(X.LINES):de.isLineLoop?pt.setMode(X.LINE_LOOP):pt.setMode(X.LINE_STRIP)}else de.isPoints?pt.setMode(X.POINTS):de.isSprite&&pt.setMode(X.TRIANGLES);if(de.isBatchedMesh)pt.renderMultiDraw(de._multiDrawStarts,de._multiDrawCounts,de._multiDrawCount);else if(de.isInstancedMesh)pt.renderInstances(un,Zt,de.count);else if(he.isInstancedBufferGeometry){const qe=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,Br=Math.min(he.instanceCount,qe);pt.renderInstances(un,Zt,Br)}else pt.render(un,Zt)};function Lt(k,oe,he){k.transparent===!0&&k.side===vs&&k.forceSinglePass===!1?(k.side=Xi,k.needsUpdate=!0,wc(k,oe,he),k.side=eo,k.needsUpdate=!0,wc(k,oe,he),k.side=vs):wc(k,oe,he)}this.compile=function(k,oe,he=null){he===null&&(he=k),A=ke.get(he),A.init(),_.push(A),he.traverseVisible(function(de){de.isLight&&de.layers.test(oe.layers)&&(A.pushLight(de),de.castShadow&&A.pushShadow(de))}),k!==he&&k.traverseVisible(function(de){de.isLight&&de.layers.test(oe.layers)&&(A.pushLight(de),de.castShadow&&A.pushShadow(de))}),A.setupLights(S._useLegacyLights);const pe=new Set;return k.traverse(function(de){const Xe=de.material;if(Xe)if(Array.isArray(Xe))for(let nt=0;nt<Xe.length;nt++){const ht=Xe[nt];Lt(ht,he,de),pe.add(ht)}else Lt(Xe,he,de),pe.add(Xe)}),_.pop(),A=null,pe},this.compileAsync=function(k,oe,he=null){const pe=this.compile(k,oe,he);return new Promise(de=>{function Xe(){if(pe.forEach(function(nt){Oe.get(nt).currentProgram.isReady()&&pe.delete(nt)}),pe.size===0){de(k);return}setTimeout(Xe,10)}_e.get("KHR_parallel_shader_compile")!==null?Xe():setTimeout(Xe,10)})};let It=null;function qt(k){It&&It(k)}function sn(){ai.stop()}function Ut(){ai.start()}const ai=new aF;ai.setAnimationLoop(qt),typeof self<"u"&&ai.setContext(self),this.setAnimationLoop=function(k){It=k,He.setAnimationLoop(k),k===null?ai.stop():ai.start()},He.addEventListener("sessionstart",sn),He.addEventListener("sessionend",Ut),this.render=function(k,oe){if(oe!==void 0&&oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),oe.parent===null&&oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),He.enabled===!0&&He.isPresenting===!0&&(He.cameraAutoUpdate===!0&&He.updateCamera(oe),oe=He.getCamera()),k.isScene===!0&&k.onBeforeRender(S,k,oe,B),A=ke.get(k,_.length),A.init(),_.push(A),Le.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),re.setFromProjectionMatrix(Le),we=this.localClippingEnabled,fe=st.init(this.clippingPlanes,we),x=Te.get(k,g.length),x.init(),g.push(x),Lr(k,oe,0,S.sortObjects),x.finish(),S.sortObjects===!0&&x.sort(N,V),this.info.render.frame++,fe===!0&&st.beginShadows();const he=A.state.shadowsArray;if(Me.render(he,k,oe),fe===!0&&st.endShadows(),this.info.autoReset===!0&&this.info.reset(),Pt.render(x,k),A.setupLights(S._useLegacyLights),oe.isArrayCamera){const pe=oe.cameras;for(let de=0,Xe=pe.length;de<Xe;de++){const nt=pe[de];Ad(x,k,nt,nt.viewport)}}else Ad(x,k,oe);B!==null&&(F.updateMultisampleRenderTarget(B),F.updateRenderTargetMipmap(B)),k.isScene===!0&&k.onAfterRender(S,k,oe),Y.resetDefaultState(),D=-1,L=null,_.pop(),_.length>0?A=_[_.length-1]:A=null,g.pop(),g.length>0?x=g[g.length-1]:x=null};function Lr(k,oe,he,pe){if(k.visible===!1)return;if(k.layers.test(oe.layers)){if(k.isGroup)he=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(oe);else if(k.isLight)A.pushLight(k),k.castShadow&&A.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||re.intersectsSprite(k)){pe&&ot.setFromMatrixPosition(k.matrixWorld).applyMatrix4(Le);const nt=te.update(k),ht=k.material;ht.visible&&x.push(k,nt,ht,he,ot.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(!k.frustumCulled||re.intersectsObject(k))){const nt=te.update(k),ht=k.material;if(pe&&(k.boundingSphere!==void 0?(k.boundingSphere===null&&k.computeBoundingSphere(),ot.copy(k.boundingSphere.center)):(nt.boundingSphere===null&&nt.computeBoundingSphere(),ot.copy(nt.boundingSphere.center)),ot.applyMatrix4(k.matrixWorld).applyMatrix4(Le)),Array.isArray(ht)){const ft=nt.groups;for(let xt=0,vt=ft.length;xt<vt;xt++){const _t=ft[xt],un=ht[_t.materialIndex];un&&un.visible&&x.push(k,nt,un,he,ot.z,_t)}}else ht.visible&&x.push(k,nt,ht,he,ot.z,null)}}const Xe=k.children;for(let nt=0,ht=Xe.length;nt<ht;nt++)Lr(Xe[nt],oe,he,pe)}function Ad(k,oe,he,pe){const de=k.opaque,Xe=k.transmissive,nt=k.transparent;A.setupLightsView(he),fe===!0&&st.setGlobalState(S.clippingPlanes,he),Xe.length>0&&Sd(de,Xe,oe,he),pe&&ye.viewport(I.copy(pe)),de.length>0&&Sc(de,oe,he),Xe.length>0&&Sc(Xe,oe,he),nt.length>0&&Sc(nt,oe,he),ye.buffers.depth.setTest(!0),ye.buffers.depth.setMask(!0),ye.buffers.color.setMask(!0),ye.setPolygonOffset(!1)}function Sd(k,oe,he,pe){if((he.isScene===!0?he.overrideMaterial:null)!==null)return;const Xe=Re.isWebGL2;Ce===null&&(Ce=new Ts(1,1,{generateMipmaps:!0,type:_e.has("EXT_color_buffer_half_float")?id:Qs,minFilter:to,samples:Xe?4:0})),S.getDrawingBufferSize(rt),Xe?Ce.setSize(rt.x,rt.y):Ce.setSize(J0(rt.x),J0(rt.y));const nt=S.getRenderTarget();S.setRenderTarget(Ce),S.getClearColor(ee),z=S.getClearAlpha(),z<1&&S.setClearColor(16777215,.5),S.clear();const ht=S.toneMapping;S.toneMapping=Ks,Sc(k,he,pe),F.updateMultisampleRenderTarget(Ce),F.updateRenderTargetMipmap(Ce);let ft=!1;for(let xt=0,vt=oe.length;xt<vt;xt++){const _t=oe[xt],un=_t.object,li=_t.geometry,Zt=_t.material,Kn=_t.group;if(Zt.side===vs&&un.layers.test(pe.layers)){const pt=Zt.side;Zt.side=Xi,Zt.needsUpdate=!0,Yo(un,he,pe,li,Zt,Kn),Zt.side=pt,Zt.needsUpdate=!0,ft=!0}}ft===!0&&(F.updateMultisampleRenderTarget(Ce),F.updateRenderTargetMipmap(Ce)),S.setRenderTarget(nt),S.setClearColor(ee,z),S.toneMapping=ht}function Sc(k,oe,he){const pe=oe.isScene===!0?oe.overrideMaterial:null;for(let de=0,Xe=k.length;de<Xe;de++){const nt=k[de],ht=nt.object,ft=nt.geometry,xt=pe===null?nt.material:pe,vt=nt.group;ht.layers.test(he.layers)&&Yo(ht,oe,he,ft,xt,vt)}}function Yo(k,oe,he,pe,de,Xe){k.onBeforeRender(S,oe,he,pe,de,Xe),k.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),de.onBeforeRender(S,oe,he,pe,k,Xe),de.transparent===!0&&de.side===vs&&de.forceSinglePass===!1?(de.side=Xi,de.needsUpdate=!0,S.renderBufferDirect(he,oe,pe,de,k,Xe),de.side=eo,de.needsUpdate=!0,S.renderBufferDirect(he,oe,pe,de,k,Xe),de.side=vs):S.renderBufferDirect(he,oe,pe,de,k,Xe),k.onAfterRender(S,oe,he,pe,de,Xe)}function wc(k,oe,he){oe.isScene!==!0&&(oe=ze);const pe=Oe.get(k),de=A.state.lights,Xe=A.state.shadowsArray,nt=de.state.version,ht=ue.getParameters(k,de.state,Xe,oe,he),ft=ue.getProgramCacheKey(ht);let xt=pe.programs;pe.environment=k.isMeshStandardMaterial?oe.environment:null,pe.fog=oe.fog,pe.envMap=(k.isMeshStandardMaterial?O:E).get(k.envMap||pe.environment),xt===void 0&&(k.addEventListener("dispose",Ne),xt=new Map,pe.programs=xt);let vt=xt.get(ft);if(vt!==void 0){if(pe.currentProgram===vt&&pe.lightsStateVersion===nt)return up(k,ht),vt}else ht.uniforms=ue.getUniforms(k),k.onBuild(he,ht,S),k.onBeforeCompile(ht,S),vt=ue.acquireProgram(ht,ft),xt.set(ft,vt),pe.uniforms=ht.uniforms;const _t=pe.uniforms;return(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(_t.clippingPlanes=st.uniform),up(k,ht),pe.needsLights=sy(k),pe.lightsStateVersion=nt,pe.needsLights&&(_t.ambientLightColor.value=de.state.ambient,_t.lightProbe.value=de.state.probe,_t.directionalLights.value=de.state.directional,_t.directionalLightShadows.value=de.state.directionalShadow,_t.spotLights.value=de.state.spot,_t.spotLightShadows.value=de.state.spotShadow,_t.rectAreaLights.value=de.state.rectArea,_t.ltc_1.value=de.state.rectAreaLTC1,_t.ltc_2.value=de.state.rectAreaLTC2,_t.pointLights.value=de.state.point,_t.pointLightShadows.value=de.state.pointShadow,_t.hemisphereLights.value=de.state.hemi,_t.directionalShadowMap.value=de.state.directionalShadowMap,_t.directionalShadowMatrix.value=de.state.directionalShadowMatrix,_t.spotShadowMap.value=de.state.spotShadowMap,_t.spotLightMatrix.value=de.state.spotLightMatrix,_t.spotLightMap.value=de.state.spotLightMap,_t.pointShadowMap.value=de.state.pointShadowMap,_t.pointShadowMatrix.value=de.state.pointShadowMatrix),pe.currentProgram=vt,pe.uniformsList=null,vt}function cp(k){if(k.uniformsList===null){const oe=k.currentProgram.getUniforms();k.uniformsList=e0.seqWithValue(oe.seq,k.uniforms)}return k.uniformsList}function up(k,oe){const he=Oe.get(k);he.outputColorSpace=oe.outputColorSpace,he.batching=oe.batching,he.instancing=oe.instancing,he.instancingColor=oe.instancingColor,he.skinning=oe.skinning,he.morphTargets=oe.morphTargets,he.morphNormals=oe.morphNormals,he.morphColors=oe.morphColors,he.morphTargetsCount=oe.morphTargetsCount,he.numClippingPlanes=oe.numClippingPlanes,he.numIntersection=oe.numClipIntersection,he.vertexAlphas=oe.vertexAlphas,he.vertexTangents=oe.vertexTangents,he.toneMapping=oe.toneMapping}function iy(k,oe,he,pe,de){oe.isScene!==!0&&(oe=ze),F.resetTextureUnits();const Xe=oe.fog,nt=pe.isMeshStandardMaterial?oe.environment:null,ht=B===null?S.outputColorSpace:B.isXRRenderTarget===!0?B.texture.colorSpace:no,ft=(pe.isMeshStandardMaterial?O:E).get(pe.envMap||nt),xt=pe.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,vt=!!he.attributes.tangent&&(!!pe.normalMap||pe.anisotropy>0),_t=!!he.morphAttributes.position,un=!!he.morphAttributes.normal,li=!!he.morphAttributes.color;let Zt=Ks;pe.toneMapped&&(B===null||B.isXRRenderTarget===!0)&&(Zt=S.toneMapping);const Kn=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,pt=Kn!==void 0?Kn.length:0,qe=Oe.get(pe),Br=A.state.lights;if(fe===!0&&(we===!0||k!==L)){const ci=k===L&&pe.id===D;st.setState(pe,k,ci)}let Tt=!1;pe.version===qe.__version?(qe.needsLights&&qe.lightsStateVersion!==Br.state.version||qe.outputColorSpace!==ht||de.isBatchedMesh&&qe.batching===!1||!de.isBatchedMesh&&qe.batching===!0||de.isInstancedMesh&&qe.instancing===!1||!de.isInstancedMesh&&qe.instancing===!0||de.isSkinnedMesh&&qe.skinning===!1||!de.isSkinnedMesh&&qe.skinning===!0||de.isInstancedMesh&&qe.instancingColor===!0&&de.instanceColor===null||de.isInstancedMesh&&qe.instancingColor===!1&&de.instanceColor!==null||qe.envMap!==ft||pe.fog===!0&&qe.fog!==Xe||qe.numClippingPlanes!==void 0&&(qe.numClippingPlanes!==st.numPlanes||qe.numIntersection!==st.numIntersection)||qe.vertexAlphas!==xt||qe.vertexTangents!==vt||qe.morphTargets!==_t||qe.morphNormals!==un||qe.morphColors!==li||qe.toneMapping!==Zt||Re.isWebGL2===!0&&qe.morphTargetsCount!==pt)&&(Tt=!0):(Tt=!0,qe.__version=pe.version);let _n=qe.currentProgram;Tt===!0&&(_n=wc(pe,oe,de));let Bs=!1,Ir=!1,Qn=!1;const Cn=_n.getUniforms(),Is=qe.uniforms;if(ye.useProgram(_n.program)&&(Bs=!0,Ir=!0,Qn=!0),pe.id!==D&&(D=pe.id,Ir=!0),Bs||L!==k){Cn.setValue(X,"projectionMatrix",k.projectionMatrix),Cn.setValue(X,"viewMatrix",k.matrixWorldInverse);const ci=Cn.map.cameraPosition;ci!==void 0&&ci.setValue(X,ot.setFromMatrixPosition(k.matrixWorld)),Re.logarithmicDepthBuffer&&Cn.setValue(X,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),(pe.isMeshPhongMaterial||pe.isMeshToonMaterial||pe.isMeshLambertMaterial||pe.isMeshBasicMaterial||pe.isMeshStandardMaterial||pe.isShaderMaterial)&&Cn.setValue(X,"isOrthographic",k.isOrthographicCamera===!0),L!==k&&(L=k,Ir=!0,Qn=!0)}if(de.isSkinnedMesh){Cn.setOptional(X,de,"bindMatrix"),Cn.setOptional(X,de,"bindMatrixInverse");const ci=de.skeleton;ci&&(Re.floatVertexTextures?(ci.boneTexture===null&&ci.computeBoneTexture(),Cn.setValue(X,"boneTexture",ci.boneTexture,F)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}de.isBatchedMesh&&(Cn.setOptional(X,de,"batchingTexture"),Cn.setValue(X,"batchingTexture",de._matricesTexture,F));const Mc=he.morphAttributes;if((Mc.position!==void 0||Mc.normal!==void 0||Mc.color!==void 0&&Re.isWebGL2===!0)&&yt.update(de,he,_n),(Ir||qe.receiveShadow!==de.receiveShadow)&&(qe.receiveShadow=de.receiveShadow,Cn.setValue(X,"receiveShadow",de.receiveShadow)),pe.isMeshGouraudMaterial&&pe.envMap!==null&&(Is.envMap.value=ft,Is.flipEnvMap.value=ft.isCubeTexture&&ft.isRenderTargetTexture===!1?-1:1),Ir&&(Cn.setValue(X,"toneMappingExposure",S.toneMappingExposure),qe.needsLights&&ry(Is,Qn),Xe&&pe.fog===!0&&ge.refreshFogUniforms(Is,Xe),ge.refreshMaterialUniforms(Is,pe,ce,Z,Ce),e0.upload(X,cp(qe),Is,F)),pe.isShaderMaterial&&pe.uniformsNeedUpdate===!0&&(e0.upload(X,cp(qe),Is,F),pe.uniformsNeedUpdate=!1),pe.isSpriteMaterial&&Cn.setValue(X,"center",de.center),Cn.setValue(X,"modelViewMatrix",de.modelViewMatrix),Cn.setValue(X,"normalMatrix",de.normalMatrix),Cn.setValue(X,"modelMatrix",de.matrixWorld),pe.isShaderMaterial||pe.isRawShaderMaterial){const ci=pe.uniformsGroups;for(let bc=0,cr=ci.length;bc<cr;bc++)if(Re.isWebGL2){const dp=ci[bc];Ae.update(dp,_n),Ae.bind(dp,_n)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return _n}function ry(k,oe){k.ambientLightColor.needsUpdate=oe,k.lightProbe.needsUpdate=oe,k.directionalLights.needsUpdate=oe,k.directionalLightShadows.needsUpdate=oe,k.pointLights.needsUpdate=oe,k.pointLightShadows.needsUpdate=oe,k.spotLights.needsUpdate=oe,k.spotLightShadows.needsUpdate=oe,k.rectAreaLights.needsUpdate=oe,k.hemisphereLights.needsUpdate=oe}function sy(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(k,oe,he){Oe.get(k.texture).__webglTexture=oe,Oe.get(k.depthTexture).__webglTexture=he;const pe=Oe.get(k);pe.__hasExternalTextures=!0,pe.__hasExternalTextures&&(pe.__autoAllocateDepthBuffer=he===void 0,pe.__autoAllocateDepthBuffer||_e.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),pe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(k,oe){const he=Oe.get(k);he.__webglFramebuffer=oe,he.__useDefaultFramebuffer=oe===void 0},this.setRenderTarget=function(k,oe=0,he=0){B=k,T=oe,P=he;let pe=!0,de=null,Xe=!1,nt=!1;if(k){const ft=Oe.get(k);ft.__useDefaultFramebuffer!==void 0?(ye.bindFramebuffer(X.FRAMEBUFFER,null),pe=!1):ft.__webglFramebuffer===void 0?F.setupRenderTarget(k):ft.__hasExternalTextures&&F.rebindTextures(k,Oe.get(k.texture).__webglTexture,Oe.get(k.depthTexture).__webglTexture);const xt=k.texture;(xt.isData3DTexture||xt.isDataArrayTexture||xt.isCompressedArrayTexture)&&(nt=!0);const vt=Oe.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(Array.isArray(vt[oe])?de=vt[oe][he]:de=vt[oe],Xe=!0):Re.isWebGL2&&k.samples>0&&F.useMultisampledRTT(k)===!1?de=Oe.get(k).__webglMultisampledFramebuffer:Array.isArray(vt)?de=vt[he]:de=vt,I.copy(k.viewport),H.copy(k.scissor),W=k.scissorTest}else I.copy(j).multiplyScalar(ce).floor(),H.copy(K).multiplyScalar(ce).floor(),W=ie;if(ye.bindFramebuffer(X.FRAMEBUFFER,de)&&Re.drawBuffers&&pe&&ye.drawBuffers(k,de),ye.viewport(I),ye.scissor(H),ye.setScissorTest(W),Xe){const ft=Oe.get(k.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+oe,ft.__webglTexture,he)}else if(nt){const ft=Oe.get(k.texture),xt=oe||0;X.framebufferTextureLayer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,ft.__webglTexture,he||0,xt)}D=-1},this.readRenderTargetPixels=function(k,oe,he,pe,de,Xe,nt){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ht=Oe.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&nt!==void 0&&(ht=ht[nt]),ht){ye.bindFramebuffer(X.FRAMEBUFFER,ht);try{const ft=k.texture,xt=ft.format,vt=ft.type;if(xt!==Vi&&je.convert(xt)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const _t=vt===id&&(_e.has("EXT_color_buffer_half_float")||Re.isWebGL2&&_e.has("EXT_color_buffer_float"));if(vt!==Qs&&je.convert(vt)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_TYPE)&&!(vt===xs&&(Re.isWebGL2||_e.has("OES_texture_float")||_e.has("WEBGL_color_buffer_float")))&&!_t){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}oe>=0&&oe<=k.width-pe&&he>=0&&he<=k.height-de&&X.readPixels(oe,he,pe,de,je.convert(xt),je.convert(vt),Xe)}finally{const ft=B!==null?Oe.get(B).__webglFramebuffer:null;ye.bindFramebuffer(X.FRAMEBUFFER,ft)}}},this.copyFramebufferToTexture=function(k,oe,he=0){const pe=Math.pow(2,-he),de=Math.floor(oe.image.width*pe),Xe=Math.floor(oe.image.height*pe);F.setTexture2D(oe,0),X.copyTexSubImage2D(X.TEXTURE_2D,he,0,0,k.x,k.y,de,Xe),ye.unbindTexture()},this.copyTextureToTexture=function(k,oe,he,pe=0){const de=oe.image.width,Xe=oe.image.height,nt=je.convert(he.format),ht=je.convert(he.type);F.setTexture2D(he,0),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,he.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,he.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,he.unpackAlignment),oe.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,pe,k.x,k.y,de,Xe,nt,ht,oe.image.data):oe.isCompressedTexture?X.compressedTexSubImage2D(X.TEXTURE_2D,pe,k.x,k.y,oe.mipmaps[0].width,oe.mipmaps[0].height,nt,oe.mipmaps[0].data):X.texSubImage2D(X.TEXTURE_2D,pe,k.x,k.y,nt,ht,oe.image),pe===0&&he.generateMipmaps&&X.generateMipmap(X.TEXTURE_2D),ye.unbindTexture()},this.copyTextureToTexture3D=function(k,oe,he,pe,de=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Xe=k.max.x-k.min.x+1,nt=k.max.y-k.min.y+1,ht=k.max.z-k.min.z+1,ft=je.convert(pe.format),xt=je.convert(pe.type);let vt;if(pe.isData3DTexture)F.setTexture3D(pe,0),vt=X.TEXTURE_3D;else if(pe.isDataArrayTexture||pe.isCompressedArrayTexture)F.setTexture2DArray(pe,0),vt=X.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,pe.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,pe.unpackAlignment);const _t=X.getParameter(X.UNPACK_ROW_LENGTH),un=X.getParameter(X.UNPACK_IMAGE_HEIGHT),li=X.getParameter(X.UNPACK_SKIP_PIXELS),Zt=X.getParameter(X.UNPACK_SKIP_ROWS),Kn=X.getParameter(X.UNPACK_SKIP_IMAGES),pt=he.isCompressedTexture?he.mipmaps[de]:he.image;X.pixelStorei(X.UNPACK_ROW_LENGTH,pt.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,pt.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,k.min.x),X.pixelStorei(X.UNPACK_SKIP_ROWS,k.min.y),X.pixelStorei(X.UNPACK_SKIP_IMAGES,k.min.z),he.isDataTexture||he.isData3DTexture?X.texSubImage3D(vt,de,oe.x,oe.y,oe.z,Xe,nt,ht,ft,xt,pt.data):he.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),X.compressedTexSubImage3D(vt,de,oe.x,oe.y,oe.z,Xe,nt,ht,ft,pt.data)):X.texSubImage3D(vt,de,oe.x,oe.y,oe.z,Xe,nt,ht,ft,xt,pt),X.pixelStorei(X.UNPACK_ROW_LENGTH,_t),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,un),X.pixelStorei(X.UNPACK_SKIP_PIXELS,li),X.pixelStorei(X.UNPACK_SKIP_ROWS,Zt),X.pixelStorei(X.UNPACK_SKIP_IMAGES,Kn),de===0&&pe.generateMipmaps&&X.generateMipmap(vt),ye.unbindTexture()},this.initTexture=function(k){k.isCubeTexture?F.setTextureCube(k,0):k.isData3DTexture?F.setTexture3D(k,0):k.isDataArrayTexture||k.isCompressedArrayTexture?F.setTexture2DArray(k,0):F.setTexture2D(k,0),ye.unbindTexture()},this.resetState=function(){T=0,P=0,B=null,ye.reset(),Y.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return _s}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===Dv?"display-p3":"srgb",t.unpackColorSpace=Wt.workingColorSpace===qf?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Wn?Ua:gM}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Ua?Wn:no}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class mF extends CM{}mF.prototype.isWebGL1Renderer=!0;class Ov{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Fe(e),this.density=t}clone(){return new Ov(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class kv{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Fe(e),this.near=t,this.far=i}clone(){return new kv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class q0 extends Ot{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class ep{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Mf,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Mr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Mr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Mr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Oi=new U;class qa{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Oi.fromBufferAttribute(this,t),Oi.applyMatrix4(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Oi.fromBufferAttribute(this,t),Oi.applyNormalMatrix(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Oi.fromBufferAttribute(this,t),Oi.transformDirection(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this}setX(e,t){return this.normalized&&(t=bt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=bt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=bt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=bt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=nr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=nr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=nr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=nr(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array),r=bt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array),r=bt(r,this.array),s=bt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new kt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new qa(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class TM extends Hn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let iu;const sh=new U,ru=new U,su=new U,ou=new xe,oh=new xe,gF=new dt,$m=new U,ah=new U,eg=new U,CR=new xe,F_=new xe,TR=new xe;class vF extends Ot{constructor(e=new TM){if(super(),this.isSprite=!0,this.type="Sprite",iu===void 0){iu=new wt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new ep(t,5);iu.setIndex([0,1,2,0,2,3]),iu.setAttribute("position",new qa(i,3,0,!1)),iu.setAttribute("uv",new qa(i,2,3,!1))}this.geometry=iu,this.material=e,this.center=new xe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ru.setFromMatrixScale(this.matrixWorld),gF.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),su.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ru.multiplyScalar(-su.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;tg($m.set(-.5,-.5,0),su,o,ru,r,s),tg(ah.set(.5,-.5,0),su,o,ru,r,s),tg(eg.set(.5,.5,0),su,o,ru,r,s),CR.set(0,0),F_.set(1,0),TR.set(1,1);let a=e.ray.intersectTriangle($m,ah,eg,!1,sh);if(a===null&&(tg(ah.set(-.5,.5,0),su,o,ru,r,s),F_.set(0,1),a=e.ray.intersectTriangle($m,eg,ah,!1,sh),a===null))return;const l=e.ray.origin.distanceTo(sh);l<e.near||l>e.far||t.push({distance:l,point:sh.clone(),uv:tr.getInterpolation(sh,$m,ah,eg,CR,F_,TR,new xe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function tg(n,e,t,i,r,s){ou.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(oh.x=s*ou.x-r*ou.y,oh.y=r*ou.x+s*ou.y):oh.copy(ou),n.copy(e),n.x+=oh.x,n.y+=oh.y,n.applyMatrix4(gF)}const ng=new U,RR=new U;class yF extends Ot{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){ng.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(ng);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){ng.setFromMatrixPosition(e.matrixWorld),RR.setFromMatrixPosition(this.matrixWorld);const i=ng.distanceTo(RR)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const PR=new U,LR=new Xt,BR=new Xt,TZ=new U,IR=new dt,ig=new U,O_=new mi,DR=new dt,k_=new vc;class RM extends zn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=NA,this.bindMatrix=new dt,this.bindMatrixInverse=new dt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Pi),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,ig),this.boundingBox.expandByPoint(ig)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new mi),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,ig),this.boundingSphere.expandByPoint(ig)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),O_.copy(this.boundingSphere),O_.applyMatrix4(r),e.ray.intersectsSphere(O_)!==!1&&(DR.copy(r).invert(),k_.copy(e.ray).applyMatrix4(DR),!(this.boundingBox!==null&&k_.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,k_)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Xt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===NA?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===RN?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;LR.fromBufferAttribute(r.attributes.skinIndex,e),BR.fromBufferAttribute(r.attributes.skinWeight,e),PR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=BR.getComponent(s);if(o!==0){const a=LR.getComponent(s);IR.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(TZ.copy(PR).applyMatrix4(IR),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class Uv extends Ot{constructor(){super(),this.isBone=!0,this.type="Bone"}}class $l extends cn{constructor(e=null,t=1,i=1,r,s,o,a,l,c=bn,d=bn,f,p){super(null,o,a,l,c,d,r,s,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const NR=new dt,RZ=new dt;class tp{constructor(e=[],t=[]){this.uuid=Mr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new dt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new dt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:RZ;NR.multiplyMatrices(a,t[s]),NR.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new tp(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new $l(t,e,e,Vi,xs);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Uv),this.bones.push(o),this.boneInverses.push(new dt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class ld extends kt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const au=new dt,FR=new dt,rg=[],OR=new Pi,PZ=new dt,lh=new zn,ch=new mi;class PM extends zn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ld(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,PZ)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Pi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,au),OR.copy(e.boundingBox).applyMatrix4(au),this.boundingBox.union(OR)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new mi),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,au),ch.copy(e.boundingSphere).applyMatrix4(au),this.boundingSphere.union(ch)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(lh.geometry=this.geometry,lh.material=this.material,lh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ch.copy(this.boundingSphere),ch.applyMatrix4(i),e.ray.intersectsSphere(ch)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,au),FR.multiplyMatrices(i,au),lh.matrixWorld=FR,lh.raycast(e,rg);for(let o=0,a=rg.length;o<a;o++){const l=rg[o];l.instanceId=s,l.object=this,t.push(l)}rg.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ld(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function LZ(n,e){return n.z-e.z}function BZ(n,e){return e.z-n.z}class IZ{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const i=this.pool,r=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1});const s=i[this.index];r.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t}reset(){this.list.length=0,this.index=0}}const lu="batchId",da=new dt,kR=new dt,DZ=new dt,UR=new dt,U_=new Zf,sg=new Pi,xl=new mi,uh=new U,z_=new IZ,Ei=new zn,og=[];function NZ(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}class xF extends zn{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,i=t*2,r){super(new wt,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new $l(t,e,e,Vi,xs);this._matricesTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:d,normalized:f}=l,p=new c.constructor(i*d),m=new l.constructor(p,d,f);m.setUsage(l.usage),t.setAttribute(a,m)}if(e.getIndex()!==null){const a=i>65536?new Uint32Array(s):new Uint16Array(s);t.setIndex(new kt(a,1))}const o=r>65536?new Uint32Array(i):new Uint16Array(i);t.setAttribute(lu,new kt(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(lu))throw new Error(`BatchedMesh: Geometry cannot use attribute "${lu}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(i===lu)continue;if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Pi);const e=this._geometryCount,t=this.boundingBox,i=this._active;t.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,da),this.getBoundingBoxAt(r,sg).applyMatrix4(da),t.union(sg))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new mi);const e=this._geometryCount,t=this.boundingSphere,i=this._active;t.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,da),this.getBoundingSphereAt(r,xl).applyMatrix4(da),t.union(xl))}addGeometry(e,t=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),t===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=t,s===null?r.vertexStart=0:r.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),d=c!==null;if(d&&(i===-1?r.indexCount=c.count:r.indexCount=i,s===null?r.indexStart=0:r.indexStart=s.indexStart+s.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,p=this._active,m=this._matricesTexture,v=this._matricesTexture.image.data;f.push(!0),p.push(!0);const x=this._geometryCount;this._geometryCount++,DZ.toArray(v,x*16),m.needsUpdate=!0,o.push(r),a.push({start:d?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Pi,sphereInitialized:!1,sphere:new mi});const A=this.geometry.getAttribute(lu);for(let g=0;g<r.vertexCount;g++)A.setX(r.vertexStart+g,x);return A.needsUpdate=!0,this.setGeometryAt(x,e),x}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in i.attributes){if(m===lu)continue;const v=t.getAttribute(m),x=i.getAttribute(m);NZ(v,x,l);const A=v.itemSize;for(let g=v.count,_=c;g<_;g++){const S=l+g;for(let M=0;M<A;M++)x.setComponent(S,M,0)}x.needsUpdate=!0}if(r){const m=a.indexStart;for(let v=0;v<o.count;v++)s.setX(m+v,l+o.getX(v));for(let v=o.count,x=a.indexCount;v<x;v++)s.setX(m+v,l);s.needsUpdate=!0}const d=this._bounds[e];t.boundingBox!==null?(d.box.copy(t.boundingBox),d.boxInitialized=!0):d.boxInitialized=!1,t.boundingSphere!==null?(d.sphere.copy(t.boundingSphere),d.sphereInitialized=!0):d.sphereInitialized=!1;const f=this._drawRanges[e],p=t.getAttribute("position");return f.count=r?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,t){if(this._active[e]===!1)return this;const r=this._bounds[e],s=r.box,o=this.geometry;if(r.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let d=c.start,f=c.start+c.count;d<f;d++){let p=d;a&&(p=a.getX(p)),s.expandByPoint(uh.fromBufferAttribute(l,p))}r.boxInitialized=!0}return t.copy(s),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return this;const r=this._bounds[e],s=r.sphere,o=this.geometry;if(r.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,sg),sg.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let d=0;for(let f=c.start,p=c.start+c.count;f<p;f++){let m=f;a&&(m=a.getX(m)),uh.fromBufferAttribute(l,m),d=Math.max(d,s.center.distanceToSquared(uh))}s.radius=Math.sqrt(d),r.sphereInitialized=!0}return t.copy(s),t}setMatrixAt(e,t){const i=this._active,r=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||i[e]===!1?this:(t.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,t){const i=this._active,r=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||i[e]===!1?null:t.fromArray(r,e*16)}setVisibleAt(e,t){const i=this._visibility,r=this._active,s=this._geometryCount;return e>=s||r[e]===!1||i[e]===t?this:(i[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,i=this._active,r=this._geometryCount;return e>=r||i[e]===!1?!1:t[e]}raycast(e,t){const i=this._visibility,r=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Ei.material=this.material,Ei.geometry.index=l.index,Ei.geometry.attributes=l.attributes,Ei.geometry.boundingBox===null&&(Ei.geometry.boundingBox=new Pi),Ei.geometry.boundingSphere===null&&(Ei.geometry.boundingSphere=new mi);for(let c=0;c<o;c++){if(!i[c]||!r[c])continue;const d=s[c];Ei.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(c,Ei.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Ei.geometry.boundingBox),this.getBoundingSphereAt(c,Ei.geometry.boundingSphere),Ei.raycast(e,og);for(let f=0,p=og.length;f<p;f++){const m=og[f];m.object=this,m.batchId=c,t.push(m)}og.length=0}Ei.material=null,Ei.geometry.index=null,Ei.geometry.attributes={},Ei.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,d=this._multiDrawCounts,f=this._drawRanges,p=this.perObjectFrustumCulled;p&&(UR.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),U_.setFromProjectionMatrix(UR,e.isWebGPURenderer?sd:_s));let m=0;if(this.sortObjects){kR.copy(this.matrixWorld).invert(),uh.setFromMatrixPosition(i.matrixWorld).applyMatrix4(kR);for(let A=0,g=l.length;A<g;A++)if(l[A]){this.getMatrixAt(A,da),this.getBoundingSphereAt(A,xl).applyMatrix4(da);let _=!1;if(p&&(_=!U_.intersectsSphere(xl)),!_){const S=uh.distanceTo(xl.center);z_.push(f[A],S)}}const v=z_.list,x=this.customSort;x===null?v.sort(s.transparent?BZ:LZ):x.call(this,v,i);for(let A=0,g=v.length;A<g;A++){const _=v[A];c[m]=_.start*a,d[m]=_.count,m++}z_.reset()}else for(let v=0,x=l.length;v<x;v++)if(l[v]){let A=!1;if(p&&(this.getMatrixAt(v,da),this.getBoundingSphereAt(v,xl).applyMatrix4(da),A=!U_.intersectsSphere(xl)),!A){const g=f[v];c[m]=g.start*a,d[m]=g.count,m++}}this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Ii extends Hn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Fe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const zR=new U,HR=new U,GR=new dt,H_=new vc,ag=new mi;class Jo extends Ot{constructor(e=new wt,t=new Ii){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)zR.fromBufferAttribute(t,r-1),HR.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=zR.distanceTo(HR);e.setAttribute("lineDistance",new Ze(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),ag.copy(i.boundingSphere),ag.applyMatrix4(r),ag.radius+=s,e.ray.intersectsSphere(ag)===!1)return;GR.copy(r).invert(),H_.copy(e.ray).applyMatrix4(GR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new U,d=new U,f=new U,p=new U,m=this.isLineSegments?2:1,v=i.index,A=i.attributes.position;if(v!==null){const g=Math.max(0,o.start),_=Math.min(v.count,o.start+o.count);for(let S=g,M=_-1;S<M;S+=m){const T=v.getX(S),P=v.getX(S+1);if(c.fromBufferAttribute(A,T),d.fromBufferAttribute(A,P),H_.distanceSqToSegment(c,d,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const D=e.ray.origin.distanceTo(p);D<e.near||D>e.far||t.push({distance:D,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),_=Math.min(A.count,o.start+o.count);for(let S=g,M=_-1;S<M;S+=m){if(c.fromBufferAttribute(A,S),d.fromBufferAttribute(A,S+1),H_.distanceSqToSegment(c,d,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const VR=new U,jR=new U;class Rs extends Jo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)VR.fromBufferAttribute(t,r),jR.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+VR.distanceTo(jR);e.setAttribute("lineDistance",new Ze(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LM extends Jo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class zv extends Hn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const WR=new dt,hS=new vc,lg=new mi,cg=new U;class BM extends Ot{constructor(e=new wt,t=new zv){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),lg.copy(i.boundingSphere),lg.applyMatrix4(r),lg.radius+=s,e.ray.intersectsSphere(lg)===!1)return;WR.copy(r).invert(),hS.copy(e.ray).applyMatrix4(WR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,f=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,x=m;v<x;v++){const A=c.getX(v);cg.fromBufferAttribute(f,A),XR(cg,A,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let v=p,x=m;v<x;v++)cg.fromBufferAttribute(f,v),XR(cg,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function XR(n,e,t,i,r,s,o){const a=hS.distanceSqToPoint(n);if(a<t){const l=new U;hS.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class FZ extends cn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:pn,this.magFilter=s!==void 0?s:pn,this.generateMipmaps=!1;const d=this;function f(){d.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class OZ extends cn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=bn,this.minFilter=bn,this.generateMipmaps=!1,this.needsUpdate=!0}}class Hv extends cn{constructor(e,t,i,r,s,o,a,l,c,d,f,p){super(null,o,a,l,c,d,r,s,f,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class kZ extends Hv{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=fi}}class UZ extends Hv{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Xo),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class zZ extends cn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ps{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,m=(o-d)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new xe:new U);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new U,r=[],s=[],o=[],a=new U,l=new dt;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new U)}s[0]=new U,o[0]=new U;let c=Number.MAX_VALUE;const d=Math.abs(r[0].x),f=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=c&&(c=d,i.set(1,0,0)),f<=c&&(c=f,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(En(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(En(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Gv extends Ps{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new xe,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*d-m*f+this.aX,c=p*f+m*d+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class _F extends Gv{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function IM(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,f){let p=(o-s)/c-(a-s)/(c+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+f)+(l-a)/f;p*=d,m*=d,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const ug=new U,G_=new IM,V_=new IM,j_=new IM;class AF extends Ps{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new U){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=r[(a-1)%s]:(ug.subVectors(r[0],r[1]).add(r[0]),c=ug);const f=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(ug.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=ug),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(f),m),x=Math.pow(f.distanceToSquared(p),m),A=Math.pow(p.distanceToSquared(d),m);x<1e-4&&(x=1),v<1e-4&&(v=x),A<1e-4&&(A=x),G_.initNonuniformCatmullRom(c.x,f.x,p.x,d.x,v,x,A),V_.initNonuniformCatmullRom(c.y,f.y,p.y,d.y,v,x,A),j_.initNonuniformCatmullRom(c.z,f.z,p.z,d.z,v,x,A)}else this.curveType==="catmullrom"&&(G_.initCatmullRom(c.x,f.x,p.x,d.x,this.tension),V_.initCatmullRom(c.y,f.y,p.y,d.y,this.tension),j_.initCatmullRom(c.z,f.z,p.z,d.z,this.tension));return i.set(G_.calc(l),V_.calc(l),j_.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new U().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function JR(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function HZ(n,e){const t=1-n;return t*t*e}function GZ(n,e){return 2*(1-n)*n*e}function VZ(n,e){return n*n*e}function Gh(n,e,t,i){return HZ(n,e)+GZ(n,t)+VZ(n,i)}function jZ(n,e){const t=1-n;return t*t*t*e}function WZ(n,e){const t=1-n;return 3*t*t*n*e}function XZ(n,e){return 3*(1-n)*n*n*e}function JZ(n,e){return n*n*n*e}function Vh(n,e,t,i,r){return jZ(n,e)+WZ(n,t)+XZ(n,i)+JZ(n,r)}class DM extends Ps{constructor(e=new xe,t=new xe,i=new xe,r=new xe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new xe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Vh(e,r.x,s.x,o.x,a.x),Vh(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class SF extends Ps{constructor(e=new U,t=new U,i=new U,r=new U){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new U){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Vh(e,r.x,s.x,o.x,a.x),Vh(e,r.y,s.y,o.y,a.y),Vh(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class NM extends Ps{constructor(e=new xe,t=new xe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new xe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new xe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wF extends Ps{constructor(e=new U,t=new U){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new U){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new U){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FM extends Ps{constructor(e=new xe,t=new xe,i=new xe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new xe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Gh(e,r.x,s.x,o.x),Gh(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OM extends Ps{constructor(e=new U,t=new U,i=new U){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new U){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Gh(e,r.x,s.x,o.x),Gh(e,r.y,s.y,o.y),Gh(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kM extends Ps{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new xe){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],d=r[o>r.length-2?r.length-1:o+1],f=r[o>r.length-3?r.length-1:o+2];return i.set(JR(a,l.x,c.x,d.x,f.x),JR(a,l.y,c.y,d.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new xe().fromArray(r))}return this}}var Y0=Object.freeze({__proto__:null,ArcCurve:_F,CatmullRomCurve3:AF,CubicBezierCurve:DM,CubicBezierCurve3:SF,EllipseCurve:Gv,LineCurve:NM,LineCurve3:wF,QuadraticBezierCurve:FM,QuadraticBezierCurve3:OM,SplineCurve:kM});class MF extends Ps{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Y0[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new Y0[r.type]().fromJSON(r))}return this}}class Ef extends MF{constructor(e){super(),this.type="Path",this.currentPoint=new xe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new NM(this.currentPoint.clone(),new xe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new FM(this.currentPoint.clone(),new xe(e,t),new xe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new DM(this.currentPoint.clone(),new xe(e,t),new xe(i,r),new xe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new kM(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new Gv(e,t,i,r,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class np extends wt{constructor(e=[new xe(0,-.5),new xe(.5,0),new xe(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=En(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],d=1/t,f=new U,p=new xe,m=new U,v=new U,x=new U;let A=0,g=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:A=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-A,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:A=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-A,m.z=g*0,v.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(v)}for(let _=0;_<=t;_++){const S=i+_*d*r,M=Math.sin(S),T=Math.cos(S);for(let P=0;P<=e.length-1;P++){f.x=e[P].x*M,f.y=e[P].y,f.z=e[P].x*T,o.push(f.x,f.y,f.z),p.x=_/t,p.y=P/(e.length-1),a.push(p.x,p.y);const B=l[3*P+0]*M,D=l[3*P+1],L=l[3*P+0]*T;c.push(B,D,L)}}for(let _=0;_<t;_++)for(let S=0;S<e.length-1;S++){const M=S+_*e.length,T=M,P=M+e.length,B=M+e.length+1,D=M+1;s.push(T,P,D),s.push(B,D,P)}this.setIndex(s),this.setAttribute("position",new Ze(o,3)),this.setAttribute("uv",new Ze(a,2)),this.setAttribute("normal",new Ze(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new np(e.points,e.segments,e.phiStart,e.phiLength)}}class Vv extends np{constructor(e=1,t=1,i=4,r=8){const s=new Ef;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new Vv(e.radius,e.length,e.capSegments,e.radialSegments)}}class jv extends wt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new U,d=new xe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){const m=i+f/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Ze(o,3)),this.setAttribute("normal",new Ze(a,3)),this.setAttribute("uv",new Ze(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jv(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class xd extends wt{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const d=[],f=[],p=[],m=[];let v=0;const x=[],A=i/2;let g=0;_(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(d),this.setAttribute("position",new Ze(f,3)),this.setAttribute("normal",new Ze(p,3)),this.setAttribute("uv",new Ze(m,2));function _(){const M=new U,T=new U;let P=0;const B=(t-e)/i;for(let D=0;D<=s;D++){const L=[],I=D/s,H=I*(t-e)+e;for(let W=0;W<=r;W++){const ee=W/r,z=ee*l+a,Q=Math.sin(z),Z=Math.cos(z);T.x=H*Q,T.y=-I*i+A,T.z=H*Z,f.push(T.x,T.y,T.z),M.set(Q,B,Z).normalize(),p.push(M.x,M.y,M.z),m.push(ee,1-I),L.push(v++)}x.push(L)}for(let D=0;D<r;D++)for(let L=0;L<s;L++){const I=x[L][D],H=x[L+1][D],W=x[L+1][D+1],ee=x[L][D+1];d.push(I,H,ee),d.push(H,W,ee),P+=6}c.addGroup(g,P,0),g+=P}function S(M){const T=v,P=new xe,B=new U;let D=0;const L=M===!0?e:t,I=M===!0?1:-1;for(let W=1;W<=r;W++)f.push(0,A*I,0),p.push(0,I,0),m.push(.5,.5),v++;const H=v;for(let W=0;W<=r;W++){const z=W/r*l+a,Q=Math.cos(z),Z=Math.sin(z);B.x=L*Z,B.y=A*I,B.z=L*Q,f.push(B.x,B.y,B.z),p.push(0,I,0),P.x=Q*.5+.5,P.y=Z*.5*I+.5,m.push(P.x,P.y),v++}for(let W=0;W<r;W++){const ee=T+W,z=H+W;M===!0?d.push(z,z+1,ee):d.push(z+1,z,ee),D+=3}c.addGroup(g,D,M===!0?1:2),g+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Wv extends xd{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Wv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tl extends wt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),d(),this.setAttribute("position",new Ze(s,3)),this.setAttribute("normal",new Ze(s.slice(),3)),this.setAttribute("uv",new Ze(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const S=new U,M=new U,T=new U;for(let P=0;P<t.length;P+=3)m(t[P+0],S),m(t[P+1],M),m(t[P+2],T),l(S,M,T,_)}function l(_,S,M,T){const P=T+1,B=[];for(let D=0;D<=P;D++){B[D]=[];const L=_.clone().lerp(M,D/P),I=S.clone().lerp(M,D/P),H=P-D;for(let W=0;W<=H;W++)W===0&&D===P?B[D][W]=L:B[D][W]=L.clone().lerp(I,W/H)}for(let D=0;D<P;D++)for(let L=0;L<2*(P-D)-1;L++){const I=Math.floor(L/2);L%2===0?(p(B[D][I+1]),p(B[D+1][I]),p(B[D][I])):(p(B[D][I+1]),p(B[D+1][I+1]),p(B[D+1][I]))}}function c(_){const S=new U;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(_),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function d(){const _=new U;for(let S=0;S<s.length;S+=3){_.x=s[S+0],_.y=s[S+1],_.z=s[S+2];const M=A(_)/2/Math.PI+.5,T=g(_)/Math.PI+.5;o.push(M,1-T)}v(),f()}function f(){for(let _=0;_<o.length;_+=6){const S=o[_+0],M=o[_+2],T=o[_+4],P=Math.max(S,M,T),B=Math.min(S,M,T);P>.9&&B<.1&&(S<.2&&(o[_+0]+=1),M<.2&&(o[_+2]+=1),T<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,S){const M=_*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function v(){const _=new U,S=new U,M=new U,T=new U,P=new xe,B=new xe,D=new xe;for(let L=0,I=0;L<s.length;L+=9,I+=6){_.set(s[L+0],s[L+1],s[L+2]),S.set(s[L+3],s[L+4],s[L+5]),M.set(s[L+6],s[L+7],s[L+8]),P.set(o[I+0],o[I+1]),B.set(o[I+2],o[I+3]),D.set(o[I+4],o[I+5]),T.copy(_).add(S).add(M).divideScalar(3);const H=A(T);x(P,I+0,_,H),x(B,I+2,S,H),x(D,I+4,M,H)}}function x(_,S,M,T){T<0&&_.x===1&&(o[S]=_.x-1),M.x===0&&M.z===0&&(o[S]=T/2/Math.PI+.5)}function A(_){return Math.atan2(_.z,-_.x)}function g(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tl(e.vertices,e.indices,e.radius,e.details)}}class Xv extends tl{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Xv(e.radius,e.detail)}}const dg=new U,hg=new U,W_=new U,fg=new tr;class bF extends wt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Ql*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],f=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:x,b:A,c:g}=fg;if(x.fromBufferAttribute(a,c[0]),A.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),fg.getNormal(W_),f[0]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,f[1]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,f[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const S=(_+1)%3,M=f[_],T=f[S],P=fg[d[_]],B=fg[d[S]],D=`${M}_${T}`,L=`${T}_${M}`;L in p&&p[L]?(W_.dot(p[L].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(B.x,B.y,B.z)),p[L]=null):D in p||(p[D]={index0:c[_],index1:c[S],normal:W_.clone()})}}for(const v in p)if(p[v]){const{index0:x,index1:A}=p[v];dg.fromBufferAttribute(a,x),hg.fromBufferAttribute(a,A),m.push(dg.x,dg.y,dg.z),m.push(hg.x,hg.y,hg.z)}this.setAttribute("position",new Ze(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ec extends Ef{constructor(e){super(e),this.uuid=Mr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Ef().fromJSON(r))}return this}}const qZ={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=EF(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,d,f,p,m;if(i&&(s=$Z(n,e,s,t)),n.length>80*t){a=c=n[0],l=d=n[1];for(let v=t;v<r;v+=t)f=n[v],p=n[v+1],f<a&&(a=f),p<l&&(l=p),f>c&&(c=f),p>d&&(d=p);m=Math.max(c-a,d-l),m=m!==0?32767/m:0}return Cf(s,o,t,a,l,m,0),o}};function EF(n,e,t,i,r){let s,o;if(r===u$(n,e,t,i)>0)for(s=e;s<t;s+=i)o=qR(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=qR(s,n[s],n[s+1],o);return o&&Jv(o,o.next)&&(Rf(o),o=o.next),o}function dc(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Jv(t,t.next)||vn(t.prev,t,t.next)===0)){if(Rf(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Cf(n,e,t,i,r,s,o){if(!n)return;!o&&s&&r$(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?KZ(n,i,r,s):YZ(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Rf(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=QZ(dc(n),e,t),Cf(n,e,t,i,r,s,2)):o===2&&ZZ(n,e,t,i,r,s):Cf(dc(n),e,t,i,r,s,1);break}}}function YZ(n){const e=n.prev,t=n,i=n.next;if(vn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,d=r<s?r<o?r:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=i.next;for(;v!==e;){if(v.x>=d&&v.x<=p&&v.y>=f&&v.y<=m&&Du(r,a,s,l,o,c,v.x,v.y)&&vn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function KZ(n,e,t,i){const r=n.prev,s=n,o=n.next;if(vn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,d=r.y,f=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=d<f?d<p?d:p:f<p?f:p,x=a>l?a>c?a:c:l>c?l:c,A=d>f?d>p?d:p:f>p?f:p,g=fS(m,v,e,t,i),_=fS(x,A,e,t,i);let S=n.prevZ,M=n.nextZ;for(;S&&S.z>=g&&M&&M.z<=_;){if(S.x>=m&&S.x<=x&&S.y>=v&&S.y<=A&&S!==r&&S!==o&&Du(a,d,l,f,c,p,S.x,S.y)&&vn(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=x&&M.y>=v&&M.y<=A&&M!==r&&M!==o&&Du(a,d,l,f,c,p,M.x,M.y)&&vn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=x&&S.y>=v&&S.y<=A&&S!==r&&S!==o&&Du(a,d,l,f,c,p,S.x,S.y)&&vn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=_;){if(M.x>=m&&M.x<=x&&M.y>=v&&M.y<=A&&M!==r&&M!==o&&Du(a,d,l,f,c,p,M.x,M.y)&&vn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function QZ(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!Jv(r,s)&&CF(r,i,i.next,s)&&Tf(r,s)&&Tf(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Rf(i),Rf(i.next),i=n=s),i=i.next}while(i!==n);return dc(i)}function ZZ(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&a$(o,a)){let l=TF(o,a);o=dc(o,o.next),l=dc(l,l.next),Cf(o,e,t,i,r,s,0),Cf(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function $Z(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=EF(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(o$(c));for(r.sort(e$),s=0;s<r.length;s++)t=t$(r[s],t);return t}function e$(n,e){return n.x-e.x}function t$(n,e){const t=n$(n,e);if(!t)return e;const i=TF(t,n);return dc(i,i.next),dc(t,t.next)}function n$(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let d=1/0,f;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Du(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),Tf(t,n)&&(f<d||f===d&&(t.x>r.x||t.x===r.x&&i$(r,t)))&&(r=t,d=f)),t=t.next;while(t!==a);return r}function i$(n,e){return vn(n.prev,n,e.prev)<0&&vn(e.next,n,n.next)<0}function r$(n,e,t,i){let r=n;do r.z===0&&(r.z=fS(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,s$(r)}function s$(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function fS(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function o$(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Du(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function a$(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!l$(n,e)&&(Tf(n,e)&&Tf(e,n)&&c$(n,e)&&(vn(n.prev,n,e.prev)||vn(n,e.prev,e))||Jv(n,e)&&vn(n.prev,n,n.next)>0&&vn(e.prev,e,e.next)>0)}function vn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Jv(n,e){return n.x===e.x&&n.y===e.y}function CF(n,e,t,i){const r=mg(vn(n,e,t)),s=mg(vn(n,e,i)),o=mg(vn(t,i,n)),a=mg(vn(t,i,e));return!!(r!==s&&o!==a||r===0&&pg(n,t,e)||s===0&&pg(n,i,e)||o===0&&pg(t,n,i)||a===0&&pg(t,e,i))}function pg(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function mg(n){return n>0?1:n<0?-1:0}function l$(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&CF(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Tf(n,e){return vn(n.prev,n,n.next)<0?vn(n,e,n.next)>=0&&vn(n,n.prev,e)>=0:vn(n,e,n.prev)<0||vn(n,n.next,e)<0}function c$(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function TF(n,e){const t=new pS(n.i,n.x,n.y),i=new pS(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function qR(n,e,t,i){const r=new pS(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Rf(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function pS(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function u$(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class Zs{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Zs.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];YR(e),KR(i,e);let o=e.length;t.forEach(YR);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,KR(i,t[l]);const a=qZ.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function YR(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function KR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class qv extends wt{constructor(e=new ec([new xe(.5,.5),new xe(-.5,.5),new xe(-.5,-.5),new xe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Ze(r,3)),this.setAttribute("uv",new Ze(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:d$;let S,M=!1,T,P,B,D;g&&(S=g.getSpacedPoints(d),M=!0,p=!1,T=g.computeFrenetFrames(d,!1),P=new U,B=new U,D=new U),p||(A=0,m=0,v=0,x=0);const L=a.extractPoints(c);let I=L.shape;const H=L.holes;if(!Zs.isClockWise(I)){I=I.reverse();for(let X=0,be=H.length;X<be;X++){const _e=H[X];Zs.isClockWise(_e)&&(H[X]=_e.reverse())}}const ee=Zs.triangulateShape(I,H),z=I;for(let X=0,be=H.length;X<be;X++){const _e=H[X];I=I.concat(_e)}function Q(X,be,_e){return be||console.error("THREE.ExtrudeGeometry: vec does not exist"),X.clone().addScaledVector(be,_e)}const Z=I.length,ce=ee.length;function N(X,be,_e){let Re,ye,$e;const Oe=X.x-be.x,F=X.y-be.y,E=_e.x-X.x,O=_e.y-X.y,J=Oe*Oe+F*F,se=Oe*O-F*E;if(Math.abs(se)>Number.EPSILON){const te=Math.sqrt(J),ue=Math.sqrt(E*E+O*O),ge=be.x-F/te,Te=be.y+Oe/te,ke=_e.x-O/ue,st=_e.y+E/ue,Me=((ke-ge)*O-(st-Te)*E)/(Oe*O-F*E);Re=ge+Oe*Me-X.x,ye=Te+F*Me-X.y;const Pt=Re*Re+ye*ye;if(Pt<=2)return new xe(Re,ye);$e=Math.sqrt(Pt/2)}else{let te=!1;Oe>Number.EPSILON?E>Number.EPSILON&&(te=!0):Oe<-Number.EPSILON?E<-Number.EPSILON&&(te=!0):Math.sign(F)===Math.sign(O)&&(te=!0),te?(Re=-F,ye=Oe,$e=Math.sqrt(J)):(Re=Oe,ye=F,$e=Math.sqrt(J/2))}return new xe(Re/$e,ye/$e)}const V=[];for(let X=0,be=z.length,_e=be-1,Re=X+1;X<be;X++,_e++,Re++)_e===be&&(_e=0),Re===be&&(Re=0),V[X]=N(z[X],z[_e],z[Re]);const j=[];let K,ie=V.concat();for(let X=0,be=H.length;X<be;X++){const _e=H[X];K=[];for(let Re=0,ye=_e.length,$e=ye-1,Oe=Re+1;Re<ye;Re++,$e++,Oe++)$e===ye&&($e=0),Oe===ye&&(Oe=0),K[Re]=N(_e[Re],_e[$e],_e[Oe]);j.push(K),ie=ie.concat(K)}for(let X=0;X<A;X++){const be=X/A,_e=m*Math.cos(be*Math.PI/2),Re=v*Math.sin(be*Math.PI/2)+x;for(let ye=0,$e=z.length;ye<$e;ye++){const Oe=Q(z[ye],V[ye],Re);Le(Oe.x,Oe.y,-_e)}for(let ye=0,$e=H.length;ye<$e;ye++){const Oe=H[ye];K=j[ye];for(let F=0,E=Oe.length;F<E;F++){const O=Q(Oe[F],K[F],Re);Le(O.x,O.y,-_e)}}}const re=v+x;for(let X=0;X<Z;X++){const be=p?Q(I[X],ie[X],re):I[X];M?(B.copy(T.normals[0]).multiplyScalar(be.x),P.copy(T.binormals[0]).multiplyScalar(be.y),D.copy(S[0]).add(B).add(P),Le(D.x,D.y,D.z)):Le(be.x,be.y,0)}for(let X=1;X<=d;X++)for(let be=0;be<Z;be++){const _e=p?Q(I[be],ie[be],re):I[be];M?(B.copy(T.normals[X]).multiplyScalar(_e.x),P.copy(T.binormals[X]).multiplyScalar(_e.y),D.copy(S[X]).add(B).add(P),Le(D.x,D.y,D.z)):Le(_e.x,_e.y,f/d*X)}for(let X=A-1;X>=0;X--){const be=X/A,_e=m*Math.cos(be*Math.PI/2),Re=v*Math.sin(be*Math.PI/2)+x;for(let ye=0,$e=z.length;ye<$e;ye++){const Oe=Q(z[ye],V[ye],Re);Le(Oe.x,Oe.y,f+_e)}for(let ye=0,$e=H.length;ye<$e;ye++){const Oe=H[ye];K=j[ye];for(let F=0,E=Oe.length;F<E;F++){const O=Q(Oe[F],K[F],Re);M?Le(O.x,O.y+S[d-1].y,S[d-1].x+_e):Le(O.x,O.y,f+_e)}}}fe(),we();function fe(){const X=r.length/3;if(p){let be=0,_e=Z*be;for(let Re=0;Re<ce;Re++){const ye=ee[Re];rt(ye[2]+_e,ye[1]+_e,ye[0]+_e)}be=d+A*2,_e=Z*be;for(let Re=0;Re<ce;Re++){const ye=ee[Re];rt(ye[0]+_e,ye[1]+_e,ye[2]+_e)}}else{for(let be=0;be<ce;be++){const _e=ee[be];rt(_e[2],_e[1],_e[0])}for(let be=0;be<ce;be++){const _e=ee[be];rt(_e[0]+Z*d,_e[1]+Z*d,_e[2]+Z*d)}}i.addGroup(X,r.length/3-X,0)}function we(){const X=r.length/3;let be=0;Ce(z,be),be+=z.length;for(let _e=0,Re=H.length;_e<Re;_e++){const ye=H[_e];Ce(ye,be),be+=ye.length}i.addGroup(X,r.length/3-X,1)}function Ce(X,be){let _e=X.length;for(;--_e>=0;){const Re=_e;let ye=_e-1;ye<0&&(ye=X.length-1);for(let $e=0,Oe=d+A*2;$e<Oe;$e++){const F=Z*$e,E=Z*($e+1),O=be+Re+F,J=be+ye+F,se=be+ye+E,te=be+Re+E;ot(O,J,se,te)}}}function Le(X,be,_e){l.push(X),l.push(be),l.push(_e)}function rt(X,be,_e){ze(X),ze(be),ze(_e);const Re=r.length/3,ye=_.generateTopUV(i,r,Re-3,Re-2,Re-1);We(ye[0]),We(ye[1]),We(ye[2])}function ot(X,be,_e,Re){ze(X),ze(be),ze(Re),ze(be),ze(_e),ze(Re);const ye=r.length/3,$e=_.generateSideWallUV(i,r,ye-6,ye-3,ye-2,ye-1);We($e[0]),We($e[1]),We($e[3]),We($e[1]),We($e[2]),We($e[3])}function ze(X){r.push(l[X*3+0]),r.push(l[X*3+1]),r.push(l[X*3+2])}function We(X){s.push(X.x),s.push(X.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return h$(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Y0[r.type]().fromJSON(r)),new qv(i,e.options)}}const d$={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],d=e[r*3+1];return[new xe(s,o),new xe(a,l),new xe(c,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],d=e[i*3+1],f=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],x=e[s*3],A=e[s*3+1],g=e[s*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new xe(o,1-l),new xe(c,1-f),new xe(p,1-v),new xe(x,1-g)]:[new xe(a,1-l),new xe(d,1-f),new xe(m,1-v),new xe(A,1-g)]}};function h$(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Yv extends tl{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Yv(e.radius,e.detail)}}class ip extends tl{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ip(e.radius,e.detail)}}class Kv extends wt{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],d=[];let f=e;const p=(t-e)/r,m=new U,v=new xe;for(let x=0;x<=r;x++){for(let A=0;A<=i;A++){const g=s+A/i*o;m.x=f*Math.cos(g),m.y=f*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,d.push(v.x,v.y)}f+=p}for(let x=0;x<r;x++){const A=x*(i+1);for(let g=0;g<i;g++){const _=g+A,S=_,M=_+i+1,T=_+i+2,P=_+1;a.push(S,M,P),a.push(M,T,P)}}this.setIndex(a),this.setAttribute("position",new Ze(l,3)),this.setAttribute("normal",new Ze(c,3)),this.setAttribute("uv",new Ze(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kv(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Qv extends wt{constructor(e=new ec([new xe(0,.5),new xe(-.5,-.5),new xe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ze(r,3)),this.setAttribute("normal",new Ze(s,3)),this.setAttribute("uv",new Ze(o,2));function c(d){const f=r.length/3,p=d.extractPoints(t);let m=p.shape;const v=p.holes;Zs.isClockWise(m)===!1&&(m=m.reverse());for(let A=0,g=v.length;A<g;A++){const _=v[A];Zs.isClockWise(_)===!0&&(v[A]=_.reverse())}const x=Zs.triangulateShape(m,v);for(let A=0,g=v.length;A<g;A++){const _=v[A];m=m.concat(_)}for(let A=0,g=m.length;A<g;A++){const _=m[A];r.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let A=0,g=x.length;A<g;A++){const _=x[A],S=_[0]+f,M=_[1]+f,T=_[2]+f;i.push(S,M,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return f$(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new Qv(i,e.curveSegments)}}function f$(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class rp extends wt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const d=[],f=new U,p=new U,m=[],v=[],x=[],A=[];for(let g=0;g<=i;g++){const _=[],S=g/i;let M=0;g===0&&o===0?M=.5/t:g===i&&l===Math.PI&&(M=-.5/t);for(let T=0;T<=t;T++){const P=T/t;f.x=-e*Math.cos(r+P*s)*Math.sin(o+S*a),f.y=e*Math.cos(o+S*a),f.z=e*Math.sin(r+P*s)*Math.sin(o+S*a),v.push(f.x,f.y,f.z),p.copy(f).normalize(),x.push(p.x,p.y,p.z),A.push(P+M,1-S),_.push(c++)}d.push(_)}for(let g=0;g<i;g++)for(let _=0;_<t;_++){const S=d[g][_+1],M=d[g][_],T=d[g+1][_],P=d[g+1][_+1];(g!==0||o>0)&&m.push(S,M,P),(g!==i-1||l<Math.PI)&&m.push(M,T,P)}this.setIndex(m),this.setAttribute("position",new Ze(v,3)),this.setAttribute("normal",new Ze(x,3)),this.setAttribute("uv",new Ze(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Zv extends tl{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Zv(e.radius,e.detail)}}class $v extends wt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],d=new U,f=new U,p=new U;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const x=v/r*s,A=m/i*Math.PI*2;f.x=(e+t*Math.cos(A))*Math.cos(x),f.y=(e+t*Math.cos(A))*Math.sin(x),f.z=t*Math.sin(A),a.push(f.x,f.y,f.z),d.x=e*Math.cos(x),d.y=e*Math.sin(x),p.subVectors(f,d).normalize(),l.push(p.x,p.y,p.z),c.push(v/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const x=(r+1)*m+v-1,A=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,_=(r+1)*m+v;o.push(x,A,_),o.push(A,g,_)}this.setIndex(o),this.setAttribute("position",new Ze(a,3)),this.setAttribute("normal",new Ze(l,3)),this.setAttribute("uv",new Ze(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $v(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class ey extends wt{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],d=[],f=new U,p=new U,m=new U,v=new U,x=new U,A=new U,g=new U;for(let S=0;S<=i;++S){const M=S/i*s*Math.PI*2;_(M,s,o,e,m),_(M+.01,s,o,e,v),A.subVectors(v,m),g.addVectors(v,m),x.crossVectors(A,g),g.crossVectors(x,A),x.normalize(),g.normalize();for(let T=0;T<=r;++T){const P=T/r*Math.PI*2,B=-t*Math.cos(P),D=t*Math.sin(P);f.x=m.x+(B*g.x+D*x.x),f.y=m.y+(B*g.y+D*x.y),f.z=m.z+(B*g.z+D*x.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),c.push(p.x,p.y,p.z),d.push(S/i),d.push(T/r)}}for(let S=1;S<=i;S++)for(let M=1;M<=r;M++){const T=(r+1)*(S-1)+(M-1),P=(r+1)*S+(M-1),B=(r+1)*S+M,D=(r+1)*(S-1)+M;a.push(T,P,D),a.push(P,B,D)}this.setIndex(a),this.setAttribute("position",new Ze(l,3)),this.setAttribute("normal",new Ze(c,3)),this.setAttribute("uv",new Ze(d,2));function _(S,M,T,P,B){const D=Math.cos(S),L=Math.sin(S),I=T/M*S,H=Math.cos(I);B.x=P*(2+H)*.5*D,B.y=P*(2+H)*L*.5,B.z=P*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ey(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class ty extends wt{constructor(e=new OM(new U(-1,-1,0),new U(-1,1,0),new U(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new U,l=new U,c=new xe;let d=new U;const f=[],p=[],m=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new Ze(f,3)),this.setAttribute("normal",new Ze(p,3)),this.setAttribute("uv",new Ze(m,2));function x(){for(let S=0;S<t;S++)A(S);A(s===!1?t:0),_(),g()}function A(S){d=e.getPointAt(S/t,d);const M=o.normals[S],T=o.binormals[S];for(let P=0;P<=r;P++){const B=P/r*Math.PI*2,D=Math.sin(B),L=-Math.cos(B);l.x=L*M.x+D*T.x,l.y=L*M.y+D*T.y,l.z=L*M.z+D*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,f.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=t;S++)for(let M=1;M<=r;M++){const T=(r+1)*(S-1)+(M-1),P=(r+1)*S+(M-1),B=(r+1)*S+M,D=(r+1)*(S-1)+M;v.push(T,P,D),v.push(P,B,D)}}function _(){for(let S=0;S<=t;S++)for(let M=0;M<=r;M++)c.x=S/t,c.y=M/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new ty(new Y0[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class RF extends wt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new U,s=new U;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const f=l[c],p=f.start,m=f.count;for(let v=p,x=p+m;v<x;v+=3)for(let A=0;A<3;A++){const g=a.getX(v+A),_=a.getX(v+(A+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,_),QR(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,f=3*a+(c+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,f),QR(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ze(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function QR(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var ZR=Object.freeze({__proto__:null,BoxGeometry:yc,CapsuleGeometry:Vv,CircleGeometry:jv,ConeGeometry:Wv,CylinderGeometry:xd,DodecahedronGeometry:Xv,EdgesGeometry:bF,ExtrudeGeometry:qv,IcosahedronGeometry:Yv,LatheGeometry:np,OctahedronGeometry:ip,PlaneGeometry:$f,PolyhedronGeometry:tl,RingGeometry:Kv,ShapeGeometry:Qv,SphereGeometry:rp,TetrahedronGeometry:Zv,TorusGeometry:$v,TorusKnotGeometry:ey,TubeGeometry:ty,WireframeGeometry:RF});class PF extends Hn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Fe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class LF extends io{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class sp extends Hn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Fe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=el,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lo extends sp{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new xe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return En(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Fe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Fe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Fe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class BF extends Hn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Fe(16777215),this.specular=new Fe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=el,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Jf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class IF extends Hn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Fe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=el,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class DF extends Hn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=el,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class NF extends Hn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=el,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Jf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class FF extends Hn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Fe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=el,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class OF extends Ii{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Wl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function kF(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function UF(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function mS(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function UM(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function p$(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),f=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*r;if(!(v<t||v>=i)){f.push(c.times[m]);for(let x=0;x<d;++x)p.push(c.values[m*d+x])}}f.length!==0&&(c.times=Wl(f,c.times.constructor),c.values=Wl(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function m$(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let d=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let x;if(s<=a.times[0]){const g=d,_=f-d;x=a.values.slice(g,_)}else if(s>=a.times[v]){const g=v*f+d,_=g+f-d;x=a.values.slice(g,_)}else{const g=a.createInterpolant(),_=d,S=f-d;g.evaluate(s),x=g.resultBuffer.slice(_,S)}l==="quaternion"&&new oi().fromArray(x).normalize().conjugate().toArray(x);const A=c.times.length;for(let g=0;g<A;++g){const _=g*m+p;if(l==="quaternion")oi.multiplyQuaternionsFlat(c.values,_,x,0,c.values,_);else{const S=m-p*2;for(let M=0;M<S;++M)c.values[_+M]-=x[M]}}}return n.blendMode=pM,n}const g$={convertArray:Wl,isTypedArray:kF,getKeyframeOrder:UF,sortedArray:mS,flattenJSON:UM,subclip:p$,makeClipAdditive:m$};class _d{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class zF extends _d{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Gl,endingEnd:Gl}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Vl:s=e,a=2*t-i;break;case _f:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Vl:o=e,l=2*i-t;break;case _f:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,d=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),x=v*v,A=x*v,g=-p*A+2*p*x-p*v,_=(1+p)*A+(-1.5-2*p)*x+(-.5+p)*v+1,S=(-1-m)*A+(1.5+m)*x+.5*v,M=m*A-m*x;for(let T=0;T!==a;++T)s[T]=g*o[d+T]+_*o[c+T]+S*o[l+T]+M*o[f+T];return s}}class zM extends _d{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(i-t)/(r-t),f=1-d;for(let p=0;p!==a;++p)s[p]=o[c+p]*f+o[l+p]*d;return s}}class HF extends _d{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ls{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Wl(t,this.TimeBufferType),this.values=Wl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Wl(e.times,Array),values:Wl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new HF(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new zM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new zF(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case rd:t=this.InterpolantFactoryMethodDiscrete;break;case uc:t=this.InterpolantFactoryMethodLinear;break;case $g:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return rd;case this.InterpolantFactoryMethodLinear:return uc;case this.InterpolantFactoryMethodSmooth:return $g}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&kF(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===$g,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(r)l=!0;else{const f=a*i,p=f-i,m=f+i;for(let v=0;v!==i;++v){const x=t[f+v];if(x!==t[p+v]||x!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Ls.prototype.TimeBufferType=Float32Array;Ls.prototype.ValueBufferType=Float32Array;Ls.prototype.DefaultInterpolation=uc;class xc extends Ls{}xc.prototype.ValueTypeName="bool";xc.prototype.ValueBufferType=Array;xc.prototype.DefaultInterpolation=rd;xc.prototype.InterpolantFactoryMethodLinear=void 0;xc.prototype.InterpolantFactoryMethodSmooth=void 0;class HM extends Ls{}HM.prototype.ValueTypeName="color";class cd extends Ls{}cd.prototype.ValueTypeName="number";class GF extends _d{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let d=c+a;c!==d;c+=4)oi.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Ya extends Ls{InterpolantFactoryMethodLinear(e){return new GF(this.times,this.values,this.getValueSize(),e)}}Ya.prototype.ValueTypeName="quaternion";Ya.prototype.DefaultInterpolation=uc;Ya.prototype.InterpolantFactoryMethodSmooth=void 0;class _c extends Ls{}_c.prototype.ValueTypeName="string";_c.prototype.ValueBufferType=Array;_c.prototype.DefaultInterpolation=rd;_c.prototype.InterpolantFactoryMethodLinear=void 0;_c.prototype.InterpolantFactoryMethodSmooth=void 0;class ud extends Ls{}ud.prototype.ValueTypeName="vector";class dd{constructor(e,t=-1,i,r=Iv){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Mr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(y$(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Ls.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=UF(l);l=mS(l,1,d),c=mS(c,1,d),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new cd(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const f=d[1];let p=r[f];p||(r[f]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,p,m,v,x){if(m.length!==0){const A=[],g=[];UM(m,A,g,v),A.length!==0&&x.push(new f(p,A,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const p=c[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let x=0;x<p[v].morphTargets.length;x++)m[p[v].morphTargets[x]]=-1;for(const x in m){const A=[],g=[];for(let _=0;_!==p[v].morphTargets.length;++_){const S=p[v];A.push(S.time),g.push(S.morphTarget===x?1:0)}r.push(new cd(".morphTargetInfluence["+x+"]",A,g))}l=m.length*o}else{const m=".bones["+t[f].name+"]";i(ud,m+".position",p,"pos",r),i(Ya,m+".quaternion",p,"rot",r),i(ud,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function v$(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return cd;case"vector":case"vector2":case"vector3":case"vector4":return ud;case"color":return HM;case"quaternion":return Ya;case"bool":case"boolean":return xc;case"string":return _c}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function y$(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=v$(n.type);if(n.times===void 0){const t=[],i=[];UM(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Do={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class GM{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,f){return c.push(d,f),this},this.removeHandler=function(d){const f=c.indexOf(d);return f!==-1&&c.splice(f,2),this},this.getHandler=function(d){for(let f=0,p=c.length;f<p;f+=2){const m=c[f],v=c[f+1];if(m.global&&(m.lastIndex=0),m.test(d))return v}return null}}}const VF=new GM;class Di{constructor(e){this.manager=e!==void 0?e:VF,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Di.DEFAULT_MATERIAL_NAME="__DEFAULT";const So={};class x$ extends Error{constructor(e,t){super(e),this.response=t}}class Tr extends Di{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Do.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(So[e]!==void 0){So[e].push({onLoad:t,onProgress:i,onError:r});return}So[e]=[],So[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=So[e],f=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let x=0;const A=new ReadableStream({start(g){_();function _(){f.read().then(({done:S,value:M})=>{if(S)g.close();else{x+=M.byteLength;const T=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:m});for(let P=0,B=d.length;P<B;P++){const D=d[P];D.onProgress&&D.onProgress(T)}g.enqueue(M),_()}})}}});return new Response(A)}else throw new x$(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{Do.add(e,c);const d=So[e];delete So[e];for(let f=0,p=d.length;f<p;f++){const m=d[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const d=So[e];if(d===void 0)throw this.manager.itemError(e),c;delete So[e];for(let f=0,p=d.length;f<p;f++){const m=d[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class _$ extends Di{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Tr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=dd.parse(e[i]);t.push(r)}return t}}class A$ extends Di{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new Hv,l=new Tr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(f){l.load(e[f],function(p){const m=s.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=pn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)d(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+x]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=pn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Pf extends Di{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Do.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=bf("img");function l(){d(),Do.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){d(),r&&r(f),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class S$ extends Di{constructor(e){super(e)}load(e,t,i,r){const s=new Qf;s.colorSpace=Wn;const o=new Pf(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class w$ extends Di{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new $l,a=new Tr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(d){if(r!==void 0)r(d);else{console.error(d);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:fi,o.wrapT=c.wrapT!==void 0?c.wrapT:fi,o.magFilter=c.magFilter!==void 0?c.magFilter:pn,o.minFilter=c.minFilter!==void 0?c.minFilter:pn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=to),c.mipmapCount===1&&(o.minFilter=pn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},i,r),o}}class jF extends Di{constructor(e){super(e)}load(e,t,i,r){const s=new cn,o=new Pf(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class nl extends Ot{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Fe(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class WF extends nl{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ot.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Fe(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const X_=new dt,$R=new U,eP=new U;class VM{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new xe(512,512),this.map=null,this.mapPass=null,this.matrix=new dt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Zf,this._frameExtents=new xe(1,1),this._viewportCount=1,this._viewports=[new Xt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;$R.setFromMatrixPosition(e.matrixWorld),t.position.copy($R),eP.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(eP),t.updateMatrixWorld(),X_.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(X_),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(X_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class M$ extends VM{constructor(){super(new mn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=od*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class jM extends nl{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ot.DEFAULT_UP),this.updateMatrix(),this.target=new Ot,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new M$}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const tP=new dt,dh=new U,J_=new U;class b$ extends VM{constructor(){super(new mn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new xe(4,2),this._viewportCount=6,this._viewports=[new Xt(2,1,1,1),new Xt(0,1,1,1),new Xt(3,1,1,1),new Xt(1,1,1,1),new Xt(3,0,1,1),new Xt(1,0,1,1)],this._cubeDirections=[new U(1,0,0),new U(-1,0,0),new U(0,0,1),new U(0,0,-1),new U(0,1,0),new U(0,-1,0)],this._cubeUps=[new U(0,1,0),new U(0,1,0),new U(0,1,0),new U(0,1,0),new U(0,0,1),new U(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),dh.setFromMatrixPosition(e.matrixWorld),i.position.copy(dh),J_.copy(i.position),J_.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(J_),i.updateMatrixWorld(),r.makeTranslation(-dh.x,-dh.y,-dh.z),tP.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tP)}}class WM extends nl{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new b$}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class E$ extends VM{constructor(){super(new Xs(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class XM extends nl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ot.DEFAULT_UP),this.updateMatrix(),this.target=new Ot,this.shadow=new E$}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class XF extends nl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class JF extends nl{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class qF{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new U)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class YF extends nl{constructor(e=new qF,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class ny extends Di{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Tr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=ny.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Fe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Fe().setHex(o.value);break;case"v2":r.uniforms[s].value=new xe().fromArray(o.value);break;case"v3":r.uniforms[s].value=new U().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Xt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Ct().fromArray(o.value);break;case"m4":r.uniforms[s].value=new dt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new xe().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new xe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:PF,SpriteMaterial:TM,RawShaderMaterial:LF,ShaderMaterial:io,PointsMaterial:zv,MeshPhysicalMaterial:lo,MeshStandardMaterial:sp,MeshPhongMaterial:BF,MeshToonMaterial:IF,MeshNormalMaterial:DF,MeshLambertMaterial:NF,MeshDepthMaterial:bM,MeshDistanceMaterial:EM,MeshBasicMaterial:Ar,MeshMatcapMaterial:FF,LineDashedMaterial:OF,LineBasicMaterial:Ii,Material:Hn};return new t[e]}}class $s{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class KF extends wt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class QF extends Di{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Tr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,v){if(t[v]!==void 0)return t[v];const A=m.interleavedBuffers[v],g=s(m,A.buffer),_=Lu(A.type,g),S=new ep(_,A.stride);return S.uuid=A.uuid,t[v]=S,S}function s(m,v){if(i[v]!==void 0)return i[v];const A=m.arrayBuffers[v],g=new Uint32Array(A).buffer;return i[v]=g,g}const o=e.isInstancedBufferGeometry?new KF:new wt,a=e.data.index;if(a!==void 0){const m=Lu(a.type,a.array);o.setIndex(new kt(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let x;if(v.isInterleavedBufferAttribute){const A=r(e.data,v.data);x=new qa(A,v.itemSize,v.offset,v.normalized)}else{const A=Lu(v.type,v.array),g=v.isInstancedBufferAttribute?ld:kt;x=new g(A,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),v.usage!==void 0&&x.setUsage(v.usage),o.setAttribute(m,x)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],x=[];for(let A=0,g=v.length;A<g;A++){const _=v[A];let S;if(_.isInterleavedBufferAttribute){const M=r(e.data,_.data);S=new qa(M,_.itemSize,_.offset,_.normalized)}else{const M=Lu(_.type,_.array);S=new kt(M,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),x.push(S)}o.morphAttributes[m]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,v=f.length;m!==v;++m){const x=f[m];o.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new U;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new mi(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class C$ extends Di{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?$s.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Tr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){r!==void 0&&r(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?$s.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Tr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),t!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new ec().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new tp().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new QF;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in ZR?a=ZR[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new ny;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=dd.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(d)}else return l.data?{data:Lu(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new GM(t);s=new Pf(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const f=e[c],p=f.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const A=p[v],g=a(A);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new $l(g.data,g.width,g.height)))}r[f.uuid]=new jl(m)}else{const m=a(f.url);r[f.uuid]=new jl(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Lu(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Pf(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let f=0,p=c.length;f<p;f++){const m=c[f],v=await s(m);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new $l(v.data,v.width,v.height)))}i[l.uuid]=new jl(d)}else{const d=await s(l.url);i[l.uuid]=new jl(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let d;Array.isArray(c)?(d=new Qf,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new $l:d=new cn,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,T$)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],nP),d.wrapT=i(a.wrap[1],nP)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,iP)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,iP)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const A=p[v];i[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),m.push(i[A])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,f;switch(e.type){case"Scene":o=new q0,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Fe(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new kv(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Ov(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new mn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Xs(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new XF(e.color,e.intensity);break;case"DirectionalLight":o=new XM(e.color,e.intensity);break;case"PointLight":o=new WM(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new JF(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new jM(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new WF(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new YF().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),f=l(e.material),o=new RM(d,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),f=l(e.material),o=new zn(d,f);break;case"InstancedMesh":d=a(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new PM(d,f,p),o.instanceMatrix=new ld(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new ld(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":d=a(e.geometry),f=l(e.material),o=new xF(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(x=>{const A=new Pi;A.min.fromArray(x.boxMin),A.max.fromArray(x.boxMax);const g=new mi;return g.radius=x.sphereRadius,g.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:A,sphereInitialized:x.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new yF;break;case"Line":o=new Jo(a(e.geometry),l(e.material));break;case"LineLoop":o=new LM(a(e.geometry),l(e.material));break;case"LineSegments":o=new Rs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new BM(a(e.geometry),l(e.material));break;case"Sprite":o=new vF(l(e.material));break;case"Group":o=new Io;break;case"Bone":o=new Uv;break;default:o=new Ot}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],x=o.getObjectByProperty("uuid",v.object);x!==void 0&&o.addLevel(x,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const T$={UVMapping:Pv,CubeReflectionMapping:Xo,CubeRefractionMapping:Xa,EquirectangularReflectionMapping:vf,EquirectangularRefractionMapping:yf,CubeUVReflectionMapping:vd},nP={RepeatWrapping:Ja,ClampToEdgeWrapping:fi,MirroredRepeatWrapping:nd},iP={NearestFilter:bn,NearestMipmapNearestFilter:xf,NearestMipmapLinearFilter:Gu,LinearFilter:pn,LinearMipmapNearestFilter:Lv,LinearMipmapLinearFilter:to};class ZF extends Di{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Do.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Do.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),Do.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Do.add(e,l),s.manager.itemStart(e)}}let gg;class JM{static getContext(){return gg===void 0&&(gg=new(window.AudioContext||window.webkitAudioContext)),gg}static setContext(e){gg=e}}class R$ extends Di{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Tr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);JM.getContext().decodeAudioData(c,function(f){t(f)}).catch(a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const rP=new dt,sP=new dt,_l=new dt;class P${constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new mn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new mn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,_l.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Ql*t.fov*.5)/t.zoom;let a,l;sP.elements[12]=-r,rP.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,_l.elements[0]=2*t.near/(l-a),_l.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(_l),a=-o*t.aspect-s,l=o*t.aspect-s,_l.elements[0]=2*t.near/(l-a),_l.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(_l)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(sP),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(rP)}}class qM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=oP(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=oP();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function oP(){return(typeof performance>"u"?Date:performance).now()}const Al=new U,aP=new oi,L$=new U,Sl=new U;class B$ extends Ot{constructor(){super(),this.type="AudioListener",this.context=JM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new qM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Al,aP,L$),Sl.set(0,0,-1).applyQuaternion(aP),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Al.x,r),t.positionY.linearRampToValueAtTime(Al.y,r),t.positionZ.linearRampToValueAtTime(Al.z,r),t.forwardX.linearRampToValueAtTime(Sl.x,r),t.forwardY.linearRampToValueAtTime(Sl.y,r),t.forwardZ.linearRampToValueAtTime(Sl.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Al.x,Al.y,Al.z),t.setOrientation(Sl.x,Sl.y,Sl.z,i.x,i.y,i.z)}}class $F extends Ot{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const wl=new U,lP=new oi,I$=new U,Ml=new U;class D$ extends $F{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(wl,lP,I$),Ml.set(0,0,1).applyQuaternion(lP);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(wl.x,i),t.positionY.linearRampToValueAtTime(wl.y,i),t.positionZ.linearRampToValueAtTime(wl.z,i),t.orientationX.linearRampToValueAtTime(Ml.x,i),t.orientationY.linearRampToValueAtTime(Ml.y,i),t.orientationZ.linearRampToValueAtTime(Ml.z,i)}else t.setPosition(wl.x,wl.y,wl.z),t.setOrientation(Ml.x,Ml.y,Ml.z)}}class N${constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class eO{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){oi.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;oi.multiplyQuaternionsFlat(e,o,e,t,e,i),oi.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const YM="\\[\\]\\.:\\/",F$=new RegExp("["+YM+"]","g"),KM="[^"+YM+"]",O$="[^"+YM.replace("\\.","")+"]",k$=/((?:WC+[\/:])*)/.source.replace("WC",KM),U$=/(WCOD+)?/.source.replace("WCOD",O$),z$=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",KM),H$=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",KM),G$=new RegExp("^"+k$+U$+z$+H$+"$"),V$=["material","materials","bones","map"];class j${constructor(e,t,i){const r=i||Nt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Nt{constructor(e,t,i){this.path=t,this.parsedPath=i||Nt.parseTrackName(t),this.node=Nt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Nt.Composite(e,t,i):new Nt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(F$,"")}static parseTrackName(e){const t=G$.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);V$.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Nt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Nt.Composite=j$;Nt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Nt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Nt.prototype.GetterByBindingType=[Nt.prototype._getValue_direct,Nt.prototype._getValue_array,Nt.prototype._getValue_arrayElement,Nt.prototype._getValue_toArray];Nt.prototype.SetterByBindingTypeAndVersioning=[[Nt.prototype._setValue_direct,Nt.prototype._setValue_direct_setNeedsUpdate,Nt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_array,Nt.prototype._setValue_array_setNeedsUpdate,Nt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_arrayElement,Nt.prototype._setValue_arrayElement_setNeedsUpdate,Nt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_fromArray,Nt.prototype._setValue_fromArray_setNeedsUpdate,Nt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class W${constructor(){this.isAnimationObjectGroup=!0,this.uuid=Mr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,f=arguments.length;d!==f;++d){const p=arguments[d],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let x=0,A=o;x!==A;++x)s[x].push(new Nt(p,i[x],r[x]))}else if(v<c){a=e[v];const x=--c,A=e[x];t[A.uuid]=v,e[v]=A,t[m]=x,e[x]=p;for(let g=0,_=o;g!==_;++g){const S=s[g],M=S[x];let T=S[v];S[v]=M,T===void 0&&(T=new Nt(p,i[g],r[g])),S[x]=T}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=t[c];if(d!==void 0&&d>=s){const f=s++,p=e[f];t[p.uuid]=d,e[d]=p,t[c]=f,e[f]=l;for(let m=0,v=r;m!==v;++m){const x=i[m],A=x[f],g=x[d];x[d]=A,x[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,f=t[d];if(f!==void 0)if(delete t[d],f<s){const p=--s,m=e[p],v=--o,x=e[v];t[m.uuid]=f,e[f]=m,t[x.uuid]=p,e[p]=x,e.pop();for(let A=0,g=r;A!==g;++A){const _=i[A],S=_[p],M=_[v];_[f]=S,_[p]=M,_.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let v=0,x=r;v!==x;++v){const A=i[v];A[f]=A[p],A.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,f=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(f);for(let p=d,m=l.length;p!==m;++p){const v=l[p];f[p]=new Nt(v,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class tO{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Gl,endingEnd:Gl};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=UN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case pM:for(let d=0,f=l.length;d!==f;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case Iv:default:for(let d=0,f=l.length;d!==f;++d)l[d].evaluate(o),c[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===zN;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===kN){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Vl,r.endingEnd=Vl):(e?r.endingStart=this.zeroSlopeAtStart?Vl:Gl:r.endingStart=_f,t?r.endingEnd=this.zeroSlopeAtEnd?Vl:Gl:r.endingEnd=_f)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const X$=new Float32Array(1);class J$ extends ao{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let f=0;f!==s;++f){const p=r[f],m=p.name;let v=d[m];if(v!==void 0)++v.referenceCount,o[f]=v;else{if(v=o[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const x=t&&t._propertyBindings[f].binding.parsedPath;v=new eO(Nt.create(i,m,x),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[f]=v}a[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new zM(new Float32Array(2),new Float32Array(2),1,X$),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?dd.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Iv),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===i)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new tO(this,o,t,i);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?dd.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=d,t[d]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class QM{constructor(e){this.value=e}clone(){return new QM(this.value.clone===void 0?this.value:this.value.clone())}}let q$=0;class Y$ extends ao{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:q$++}),this.name="",this.usage=Mf,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class K$ extends ep{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Q${constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class nO{constructor(e,t,i=0,r=1/0){this.ray=new vc(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Zl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return gS(e,this,i,t),i.sort(cP),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)gS(e[r],this,i,t);return i.sort(cP),i}}function cP(n,e){return n.distance-e.distance}function gS(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)gS(r[s],e,t,!0)}}class vS{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(En(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Z${constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const uP=new xe;class $${constructor(e=new xe(1/0,1/0),t=new xe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=uP.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,uP).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const dP=new U,vg=new U;class eee{constructor(e=new U,t=new U){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){dP.subVectors(e,this.start),vg.subVectors(this.end,this.start);const i=vg.dot(vg);let s=vg.dot(dP)/i;return t&&(s=En(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const hP=new U;class tee extends Ot{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new wt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Ze(r,3));const s=new Ii({fog:!1,toneMapped:!1});this.cone=new Rs(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),hP.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(hP),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ha=new U,yg=new dt,q_=new dt;class nee extends Rs{constructor(e){const t=iO(e),i=new wt,r=[],s=[],o=new Fe(0,0,1),a=new Fe(0,1,0);for(let c=0;c<t.length;c++){const d=t[c];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Ze(r,3)),i.setAttribute("color",new Ze(s,3));const l=new Ii({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");q_.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(yg.multiplyMatrices(q_,a.matrixWorld),ha.setFromMatrixPosition(yg),r.setXYZ(o,ha.x,ha.y,ha.z),yg.multiplyMatrices(q_,a.parent.matrixWorld),ha.setFromMatrixPosition(yg),r.setXYZ(o+1,ha.x,ha.y,ha.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function iO(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,iO(n.children[t]));return e}class iee extends zn{constructor(e,t,i){const r=new rp(t,4,2),s=new Ar({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const ree=new U,fP=new Fe,pP=new Fe;class see extends Ot{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new ip(t);r.rotateY(Math.PI*.5),this.material=new Ar({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new kt(o,3)),this.add(new zn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");fP.copy(this.light.color),pP.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?fP:pP;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(ree.setFromMatrixPosition(this.light.matrixWorld).negate())}}class oee extends Rs{constructor(e=10,t=10,i=4473924,r=8947848){i=new Fe(i),r=new Fe(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const x=p===s?i:r;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const d=new wt;d.setAttribute("position",new Ze(l,3)),d.setAttribute("color",new Ze(c,3));const f=new Ii({vertexColors:!0,toneMapped:!1});super(d,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class aee extends Rs{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Fe(s),o=new Fe(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const p=f/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const x=f&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let f=0;f<i;f++){const p=f&1?s:o,m=e-e/i*f;for(let v=0;v<r;v++){let x=v/r*(Math.PI*2),A=Math.sin(x)*m,g=Math.cos(x)*m;a.push(A,0,g),l.push(p.r,p.g,p.b),x=(v+1)/r*(Math.PI*2),A=Math.sin(x)*m,g=Math.cos(x)*m,a.push(A,0,g),l.push(p.r,p.g,p.b)}}const c=new wt;c.setAttribute("position",new Ze(a,3)),c.setAttribute("color",new Ze(l,3));const d=new Ii({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const mP=new U,xg=new U,gP=new U;class lee extends Ot{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new wt;r.setAttribute("position",new Ze([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ii({fog:!1,toneMapped:!1});this.lightPlane=new Jo(r,s),this.add(this.lightPlane),r=new wt,r.setAttribute("position",new Ze([0,0,0,0,0,1],3)),this.targetLine=new Jo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),mP.setFromMatrixPosition(this.light.matrixWorld),xg.setFromMatrixPosition(this.light.target.matrixWorld),gP.subVectors(xg,mP),this.lightPlane.lookAt(xg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(xg),this.targetLine.scale.z=gP.length()}}const _g=new U,Sn=new Kf;class cee extends Rs{constructor(e){const t=new wt,i=new Ii({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,x){l(v),l(x)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new Ze(r,3)),t.setAttribute("color",new Ze(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Fe(16755200),d=new Fe(16711680),f=new Fe(43775),p=new Fe(16777215),m=new Fe(3355443);this.setColors(c,d,f,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Sn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Pn("c",t,e,Sn,0,0,-1),Pn("t",t,e,Sn,0,0,1),Pn("n1",t,e,Sn,-i,-r,-1),Pn("n2",t,e,Sn,i,-r,-1),Pn("n3",t,e,Sn,-i,r,-1),Pn("n4",t,e,Sn,i,r,-1),Pn("f1",t,e,Sn,-i,-r,1),Pn("f2",t,e,Sn,i,-r,1),Pn("f3",t,e,Sn,-i,r,1),Pn("f4",t,e,Sn,i,r,1),Pn("u1",t,e,Sn,i*.7,r*1.1,-1),Pn("u2",t,e,Sn,-i*.7,r*1.1,-1),Pn("u3",t,e,Sn,0,r*2,-1),Pn("cf1",t,e,Sn,-i,0,1),Pn("cf2",t,e,Sn,i,0,1),Pn("cf3",t,e,Sn,0,-r,1),Pn("cf4",t,e,Sn,0,r,1),Pn("cn1",t,e,Sn,-i,0,-1),Pn("cn2",t,e,Sn,i,0,-1),Pn("cn3",t,e,Sn,0,-r,-1),Pn("cn4",t,e,Sn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Pn(n,e,t,i,r,s,o){_g.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],_g.x,_g.y,_g.z)}}const Ag=new Pi;class uee extends Rs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new wt;s.setIndex(new kt(i,1)),s.setAttribute("position",new kt(r,3)),super(s,new Ii({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ag.setFromObject(this.object),Ag.isEmpty())return;const t=Ag.min,i=Ag.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class dee extends Rs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new wt;s.setIndex(new kt(i,1)),s.setAttribute("position",new Ze(r,3)),super(s,new Ii({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class hee extends Jo{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new wt;o.setAttribute("position",new Ze(s,3)),o.computeBoundingSphere(),super(o,new Ii({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new wt;l.setAttribute("position",new Ze(a,3)),l.computeBoundingSphere(),this.add(new zn(l,new Ar({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const vP=new U;let Sg,Y_;class fee extends Ot{constructor(e=new U(0,0,1),t=new U(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Sg===void 0&&(Sg=new wt,Sg.setAttribute("position",new Ze([0,0,0,0,1,0],3)),Y_=new xd(0,.5,1,5,1),Y_.translate(0,-.5,0)),this.position.copy(t),this.line=new Jo(Sg,new Ii({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new zn(Y_,new Ar({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{vP.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(vP,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class pee extends Rs{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new wt;r.setAttribute("position",new Ze(t,3)),r.setAttribute("color",new Ze(i,3));const s=new Ii({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Fe,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class mee{constructor(){this.type="ShapePath",this.color=new Fe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Ef,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const _=[];for(let S=0,M=g.length;S<M;S++){const T=g[S],P=new ec;P.curves=T.curves,_.push(P)}return _}function i(g,_){const S=_.length;let M=!1;for(let T=S-1,P=0;P<S;T=P++){let B=_[T],D=_[P],L=D.x-B.x,I=D.y-B.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(B=_[P],L=-L,D=_[T],I=-I),g.y<B.y||g.y>D.y)continue;if(g.y===B.y){if(g.x===B.x)return!0}else{const H=I*(g.x-B.x)-L*(g.y-B.y);if(H===0)return!0;if(H<0)continue;M=!M}}else{if(g.y!==B.y)continue;if(D.x<=g.x&&g.x<=B.x||B.x<=g.x&&g.x<=D.x)return!0}}return M}const r=Zs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new ec,l.curves=a.curves,c.push(l),c;let d=!r(s[0].getPoints());d=e?!d:d;const f=[],p=[];let m=[],v=0,x;p[v]=void 0,m[v]=[];for(let g=0,_=s.length;g<_;g++)a=s[g],x=a.getPoints(),o=r(x),o=e?!o:o,o?(!d&&p[v]&&v++,p[v]={s:new ec,p:x},p[v].s.curves=a.curves,d&&v++,m[v]=[]):m[v].push({h:a,p:x[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,_=0;for(let S=0,M=p.length;S<M;S++)f[S]=[];for(let S=0,M=p.length;S<M;S++){const T=m[S];for(let P=0;P<T.length;P++){const B=T[P];let D=!0;for(let L=0;L<p.length;L++)i(B.p,p[L].p)&&(S!==L&&_++,D?(D=!1,f[L].push(B)):g=!0);D&&f[S].push(B)}}_>0&&g===!1&&(m=f)}let A;for(let g=0,_=p.length;g<_;g++){l=p[g].s,c.push(l),A=m[g];for(let S=0,M=A.length;S<M;S++)l.holes.push(A[S].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Xf}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Xf);const gee=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:oM,AddEquation:Sa,AddOperation:wN,AdditiveAnimationBlendMode:pM,AdditiveBlending:PA,AgXToneMapping:TN,AlphaFormat:BN,AlwaysCompare:QN,AlwaysDepth:gN,AlwaysStencilFunc:aS,AmbientLight:XF,AnimationAction:tO,AnimationClip:dd,AnimationLoader:_$,AnimationMixer:J$,AnimationObjectGroup:W$,AnimationUtils:g$,ArcCurve:_F,ArrayCamera:pF,ArrowHelper:fee,AttachedBindMode:NA,Audio:$F,AudioAnalyser:N$,AudioContext:JM,AudioListener:B$,AudioLoader:R$,AxesHelper:pee,BackSide:Xi,BasicDepthPacking:GN,BasicShadowMap:ZD,BatchedMesh:xF,Bone:Uv,BooleanKeyframeTrack:xc,Box2:$$,Box3:Pi,Box3Helper:dee,BoxGeometry:yc,BoxHelper:uee,BufferAttribute:kt,BufferGeometry:wt,BufferGeometryLoader:QF,ByteType:PN,Cache:Do,Camera:Kf,CameraHelper:cee,CanvasTexture:zZ,CapsuleGeometry:Vv,CatmullRomCurve3:AF,CineonToneMapping:EN,CircleGeometry:jv,ClampToEdgeWrapping:fi,Clock:qM,Color:Fe,ColorKeyframeTrack:HM,ColorManagement:Wt,CompressedArrayTexture:kZ,CompressedCubeTexture:UZ,CompressedTexture:Hv,CompressedTextureLoader:A$,ConeGeometry:Wv,ConstantAlphaFactor:fN,ConstantColorFactor:dN,CubeCamera:sF,CubeReflectionMapping:Xo,CubeRefractionMapping:Xa,CubeTexture:Qf,CubeTextureLoader:S$,CubeUVReflectionMapping:vd,CubicBezierCurve:DM,CubicBezierCurve3:SF,CubicInterpolant:zF,CullFaceBack:RA,CullFaceFront:QD,CullFaceFrontBack:LX,CullFaceNone:KD,Curve:Ps,CurvePath:MF,CustomBlending:$D,CustomToneMapping:CN,CylinderGeometry:xd,Cylindrical:Z$,Data3DTexture:_M,DataArrayTexture:Nv,DataTexture:$l,DataTextureLoader:w$,DataUtils:OJ,DecrementStencilOp:zX,DecrementWrapStencilOp:GX,DefaultLoadingManager:VF,DepthFormat:ka,DepthStencilFormat:cc,DepthTexture:MM,DetachedBindMode:RN,DirectionalLight:XM,DirectionalLightHelper:lee,DiscreteInterpolant:HF,DisplayP3ColorSpace:Dv,DodecahedronGeometry:Xv,DoubleSide:vs,DstAlphaFactor:oN,DstColorFactor:lN,DynamicCopyUsage:iJ,DynamicDrawUsage:QX,DynamicReadUsage:eJ,EdgesGeometry:bF,EllipseCurve:Gv,EqualCompare:JN,EqualDepth:yN,EqualStencilFunc:XX,EquirectangularReflectionMapping:vf,EquirectangularRefractionMapping:yf,Euler:Yf,EventDispatcher:ao,ExtrudeGeometry:qv,FileLoader:Tr,Float16BufferAttribute:VJ,Float32BufferAttribute:Ze,Float64BufferAttribute:jJ,FloatType:xs,Fog:kv,FogExp2:Ov,FramebufferTexture:OZ,FrontSide:eo,Frustum:Zf,GLBufferAttribute:Q$,GLSL1:sJ,GLSL3:lS,GreaterCompare:qN,GreaterDepth:_N,GreaterEqualCompare:KN,GreaterEqualDepth:xN,GreaterEqualStencilFunc:KX,GreaterStencilFunc:qX,GridHelper:oee,Group:Io,HalfFloatType:id,HemisphereLight:WF,HemisphereLightHelper:see,IcosahedronGeometry:Yv,ImageBitmapLoader:ZF,ImageLoader:Pf,ImageUtils:xM,IncrementStencilOp:UX,IncrementWrapStencilOp:HX,InstancedBufferAttribute:ld,InstancedBufferGeometry:KF,InstancedInterleavedBuffer:K$,InstancedMesh:PM,Int16BufferAttribute:HJ,Int32BufferAttribute:GJ,Int8BufferAttribute:kJ,IntType:aM,InterleavedBuffer:ep,InterleavedBufferAttribute:qa,Interpolant:_d,InterpolateDiscrete:rd,InterpolateLinear:uc,InterpolateSmooth:$g,InvertStencilOp:VX,KeepStencilOp:Bl,KeyframeTrack:Ls,LOD:yF,LatheGeometry:np,Layers:Zl,LessCompare:XN,LessDepth:vN,LessEqualCompare:vM,LessEqualDepth:gf,LessEqualStencilFunc:JX,LessStencilFunc:WX,Light:nl,LightProbe:YF,Line:Jo,Line3:eee,LineBasicMaterial:Ii,LineCurve:NM,LineCurve3:wF,LineDashedMaterial:OF,LineLoop:LM,LineSegments:Rs,LinearDisplayP3ColorSpace:qf,LinearEncoding:gM,LinearFilter:pn,LinearInterpolant:zM,LinearMipMapLinearFilter:FX,LinearMipMapNearestFilter:NX,LinearMipmapLinearFilter:to,LinearMipmapNearestFilter:Lv,LinearSRGBColorSpace:no,LinearToneMapping:MN,LinearTransfer:Af,Loader:Di,LoaderUtils:$s,LoadingManager:GM,LoopOnce:kN,LoopPingPong:zN,LoopRepeat:UN,LuminanceAlphaFormat:DN,LuminanceFormat:IN,MOUSE:Pl,Material:Hn,MaterialLoader:ny,MathUtils:ZN,Matrix3:Ct,Matrix4:dt,MaxEquation:DA,Mesh:zn,MeshBasicMaterial:Ar,MeshDepthMaterial:bM,MeshDistanceMaterial:EM,MeshLambertMaterial:NF,MeshMatcapMaterial:FF,MeshNormalMaterial:DF,MeshPhongMaterial:BF,MeshPhysicalMaterial:lo,MeshStandardMaterial:sp,MeshToonMaterial:IF,MinEquation:IA,MirroredRepeatWrapping:nd,MixOperation:SN,MultiplyBlending:BA,MultiplyOperation:Jf,NearestFilter:bn,NearestMipMapLinearFilter:DX,NearestMipMapNearestFilter:IX,NearestMipmapLinearFilter:Gu,NearestMipmapNearestFilter:xf,NeverCompare:WN,NeverDepth:mN,NeverStencilFunc:jX,NoBlending:zo,NoColorSpace:xr,NoToneMapping:Ks,NormalAnimationBlendMode:Iv,NormalBlending:Kl,NotEqualCompare:YN,NotEqualDepth:AN,NotEqualStencilFunc:YX,NumberKeyframeTrack:cd,Object3D:Ot,ObjectLoader:C$,ObjectSpaceNormalMap:jN,OctahedronGeometry:ip,OneFactor:iN,OneMinusConstantAlphaFactor:pN,OneMinusConstantColorFactor:hN,OneMinusDstAlphaFactor:aN,OneMinusDstColorFactor:cN,OneMinusSrcAlphaFactor:j0,OneMinusSrcColorFactor:sN,OrthographicCamera:Xs,P3Primaries:wf,PCFShadowMap:Rv,PCFSoftShadowMap:Uh,PMREMGenerator:uS,Path:Ef,PerspectiveCamera:mn,Plane:Co,PlaneGeometry:$f,PlaneHelper:hee,PointLight:WM,PointLightHelper:iee,Points:BM,PointsMaterial:zv,PolarGridHelper:aee,PolyhedronGeometry:tl,PositionalAudio:D$,PropertyBinding:Nt,PropertyMixer:eO,QuadraticBezierCurve:FM,QuadraticBezierCurve3:OM,Quaternion:oi,QuaternionKeyframeTrack:Ya,QuaternionLinearInterpolant:GF,RED_GREEN_RGTC2_Format:sS,RED_RGTC1_Format:ON,REVISION:Xf,RGBADepthPacking:VN,RGBAFormat:Vi,RGBAIntegerFormat:hM,RGBA_ASTC_10x10_Format:$A,RGBA_ASTC_10x5_Format:KA,RGBA_ASTC_10x6_Format:QA,RGBA_ASTC_10x8_Format:ZA,RGBA_ASTC_12x10_Format:eS,RGBA_ASTC_12x12_Format:tS,RGBA_ASTC_4x4_Format:GA,RGBA_ASTC_5x4_Format:VA,RGBA_ASTC_5x5_Format:jA,RGBA_ASTC_6x5_Format:WA,RGBA_ASTC_6x6_Format:XA,RGBA_ASTC_8x5_Format:JA,RGBA_ASTC_8x6_Format:qA,RGBA_ASTC_8x8_Format:YA,RGBA_BPTC_Format:Zg,RGBA_ETC2_EAC_Format:HA,RGBA_PVRTC_2BPPV1_Format:UA,RGBA_PVRTC_4BPPV1_Format:kA,RGBA_S3TC_DXT1_Format:Yg,RGBA_S3TC_DXT3_Format:Kg,RGBA_S3TC_DXT5_Format:Qg,RGB_BPTC_SIGNED_Format:nS,RGB_BPTC_UNSIGNED_Format:iS,RGB_ETC1_Format:fM,RGB_ETC2_Format:zA,RGB_PVRTC_2BPPV1_Format:OA,RGB_PVRTC_4BPPV1_Format:FA,RGB_S3TC_DXT1_Format:qg,RGFormat:FN,RGIntegerFormat:dM,RawShaderMaterial:LF,Ray:vc,Raycaster:nO,Rec709Primaries:Sf,RectAreaLight:JF,RedFormat:NN,RedIntegerFormat:uM,ReinhardToneMapping:bN,RenderTarget:tF,RepeatWrapping:Ja,ReplaceStencilOp:kX,ReverseSubtractEquation:tN,RingGeometry:Kv,SIGNED_RED_GREEN_RGTC2_Format:oS,SIGNED_RED_RGTC1_Format:rS,SRGBColorSpace:Wn,SRGBTransfer:Kt,Scene:q0,ShaderChunk:Mt,ShaderLib:ps,ShaderMaterial:io,ShadowMaterial:PF,Shape:ec,ShapeGeometry:Qv,ShapePath:mee,ShapeUtils:Zs,ShortType:LN,Skeleton:tp,SkeletonHelper:nee,SkinnedMesh:RM,Source:jl,Sphere:mi,SphereGeometry:rp,Spherical:vS,SphericalHarmonics3:qF,SplineCurve:kM,SpotLight:jM,SpotLightHelper:tee,Sprite:vF,SpriteMaterial:TM,SrcAlphaFactor:V0,SrcAlphaSaturateFactor:uN,SrcColorFactor:rN,StaticCopyUsage:nJ,StaticDrawUsage:Mf,StaticReadUsage:$X,StereoCamera:P$,StreamCopyUsage:rJ,StreamDrawUsage:ZX,StreamReadUsage:tJ,StringKeyframeTrack:_c,SubtractEquation:eN,SubtractiveBlending:LA,TOUCH:Ll,TangentSpaceNormalMap:el,TetrahedronGeometry:Zv,Texture:cn,TextureLoader:jF,TorusGeometry:$v,TorusKnotGeometry:ey,Triangle:tr,TriangleFanDrawMode:W0,TriangleStripDrawMode:mM,TrianglesDrawMode:HN,TubeGeometry:ty,TwoPassDoubleSide:BX,UVMapping:Pv,Uint16BufferAttribute:AM,Uint32BufferAttribute:SM,Uint8BufferAttribute:UJ,Uint8ClampedBufferAttribute:zJ,Uniform:QM,UniformsGroup:Y$,UniformsLib:De,UniformsUtils:rF,UnsignedByteType:Qs,UnsignedInt248Type:Oa,UnsignedIntType:Bo,UnsignedShort4444Type:lM,UnsignedShort5551Type:cM,UnsignedShortType:Bv,VSMShadowMap:ds,Vector2:xe,Vector3:U,Vector4:Xt,VectorKeyframeTrack:ud,VideoTexture:FZ,WebGL1Renderer:mF,WebGL3DRenderTarget:bJ,WebGLArrayRenderTarget:MJ,WebGLCoordinateSystem:_s,WebGLCubeRenderTarget:oF,WebGLMultipleRenderTargets:EJ,WebGLRenderTarget:Ts,WebGLRenderer:CM,WebGLUtils:fF,WebGPUCoordinateSystem:sd,WireframeGeometry:RF,WrapAroundEnding:_f,ZeroCurvatureEnding:Gl,ZeroFactor:nN,ZeroSlopeEnding:Vl,ZeroStencilOp:OX,_SRGBAFormat:X0,createCanvasElement:eF,sRGBEncoding:Ua},Symbol.toStringTag,{value:"Module"}));var rO={exports:{}},Ac={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ac.ConcurrentRoot=1;Ac.ContinuousEventPriority=4;Ac.DefaultEventPriority=16;Ac.DiscreteEventPriority=1;Ac.IdleEventPriority=536870912;Ac.LegacyRoot=0;rO.exports=Ac;var Nu=rO.exports;function vee(n){let e;const t=new Set,i=(c,d)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const p=e;e=d?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},r=()=>e,s=(c,d=r,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const v=d(e);if(!f(p,v)){const x=p;c(p=v,x)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,d,f)=>d||f?s(c,d,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const yee=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),yP=yee?ae.useEffect:ae.useLayoutEffect;function xee(n){const e=typeof n=="function"?vee(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=ae.useReducer(A=>A+1,0),o=e.getState(),a=ae.useRef(o),l=ae.useRef(i),c=ae.useRef(r),d=ae.useRef(!1),f=ae.useRef();f.current===void 0&&(f.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||d.current)&&(p=i(o),m=!r(f.current,p)),yP(()=>{m&&(f.current=p),a.current=o,l.current=i,c.current=r,d.current=!1});const v=ae.useRef(o);yP(()=>{const A=()=>{try{const _=e.getState(),S=l.current(_);c.current(f.current,S)||(a.current=_,f.current=S,s())}catch{d.current=!0,s()}},g=e.subscribe(A);return e.getState()!==v.current&&A(),g},[]);const x=m?p:f.current;return ae.useDebugValue(x),x};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var sO={exports:{}},K_={exports:{}},Q_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP;function _ee(){return xP||(xP=1,function(n){function e(N,V){var j=N.length;N.push(V);e:for(;0<j;){var K=j-1>>>1,ie=N[K];if(0<r(ie,V))N[K]=V,N[j]=ie,j=K;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var V=N[0],j=N.pop();if(j!==V){N[0]=j;e:for(var K=0,ie=N.length,re=ie>>>1;K<re;){var fe=2*(K+1)-1,we=N[fe],Ce=fe+1,Le=N[Ce];if(0>r(we,j))Ce<ie&&0>r(Le,we)?(N[K]=Le,N[Ce]=j,K=Ce):(N[K]=we,N[fe]=j,K=fe);else if(Ce<ie&&0>r(Le,j))N[K]=Le,N[Ce]=j,K=Ce;else break e}}return V}function r(N,V){var j=N.sortIndex-V.sortIndex;return j!==0?j:N.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,m=!1,v=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(N){for(var V=t(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=N)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(c)}}function M(N){if(x=!1,S(N),!v)if(t(l)!==null)v=!0,Z(T);else{var V=t(c);V!==null&&ce(M,V.startTime-N)}}function T(N,V){v=!1,x&&(x=!1,g(D),D=-1),m=!0;var j=p;try{for(S(V),f=t(l);f!==null&&(!(f.expirationTime>V)||N&&!H());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var ie=K(f.expirationTime<=V);V=n.unstable_now(),typeof ie=="function"?f.callback=ie:f===t(l)&&i(l),S(V)}else i(l);f=t(l)}if(f!==null)var re=!0;else{var fe=t(c);fe!==null&&ce(M,fe.startTime-V),re=!1}return re}finally{f=null,p=j,m=!1}}var P=!1,B=null,D=-1,L=5,I=-1;function H(){return!(n.unstable_now()-I<L)}function W(){if(B!==null){var N=n.unstable_now();I=N;var V=!0;try{V=B(!0,N)}finally{V?ee():(P=!1,B=null)}}else P=!1}var ee;if(typeof _=="function")ee=function(){_(W)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=W,ee=function(){Q.postMessage(null)}}else ee=function(){A(W,0)};function Z(N){B=N,P||(P=!0,ee())}function ce(N,V){D=A(function(){N(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,Z(T))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var j=p;p=V;try{return N()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=p;p=N;try{return V()}finally{p=j}},n.unstable_scheduleCallback=function(N,V,j){var K=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?K+j:K):j=K,N){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=j+ie,N={id:d++,callback:V,priorityLevel:N,startTime:j,expirationTime:ie,sortIndex:-1},j>K?(N.sortIndex=j,e(c,N),t(l)===null&&N===t(c)&&(x?(g(D),D=-1):x=!0,ce(M,j-K))):(N.sortIndex=ie,e(l,N),v||m||(v=!0,Z(T))),N},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(N){var V=p;return function(){var j=p;p=V;try{return N.apply(this,arguments)}finally{p=j}}}}(Q_)),Q_}var _P;function Aee(){return _P||(_P=1,K_.exports=_ee()),K_.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var See=function(e){var t={},i=ae,r=Aee(),s=Object.assign;function o(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),T=Symbol.iterator;function P(u){return u===null||typeof u!="object"?null:(u=T&&u[T]||u["@@iterator"],typeof u=="function"?u:null)}function B(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case d:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case A:return"Suspense";case g:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case v:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case x:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case _:return h=u.displayName||null,h!==null?h:B(u.type)||"Memo";case S:h=u._payload,u=u._init;try{return B(u(h))}catch{}}return null}function D(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(h);case 8:return h===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function L(u){var h=u,y=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,h.flags&4098&&(y=h.return),u=h.return;while(u)}return h.tag===3?y:null}function I(u){if(L(u)!==u)throw Error(o(188))}function H(u){var h=u.alternate;if(!h){if(h=L(u),h===null)throw Error(o(188));return h!==u?null:u}for(var y=u,w=h;;){var b=y.return;if(b===null)break;var R=b.alternate;if(R===null){if(w=b.return,w!==null){y=w;continue}break}if(b.child===R.child){for(R=b.child;R;){if(R===y)return I(b),u;if(R===w)return I(b),h;R=R.sibling}throw Error(o(188))}if(y.return!==w.return)y=b,w=R;else{for(var G=!1,$=b.child;$;){if($===y){G=!0,y=b,w=R;break}if($===w){G=!0,w=b,y=R;break}$=$.sibling}if(!G){for($=R.child;$;){if($===y){G=!0,y=R,w=b;break}if($===w){G=!0,w=R,y=b;break}$=$.sibling}if(!G)throw Error(o(189))}}if(y.alternate!==w)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?u:h}function W(u){return u=H(u),u!==null?ee(u):null}function ee(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=ee(u);if(h!==null)return h;u=u.sibling}return null}function z(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var h=z(u);if(h!==null)return h}u=u.sibling}return null}var Q=Array.isArray,Z=e.getPublicInstance,ce=e.getRootHostContext,N=e.getChildHostContext,V=e.prepareForCommit,j=e.resetAfterCommit,K=e.createInstance,ie=e.appendInitialChild,re=e.finalizeInitialChildren,fe=e.prepareUpdate,we=e.shouldSetTextContent,Ce=e.createTextInstance,Le=e.scheduleTimeout,rt=e.cancelTimeout,ot=e.noTimeout,ze=e.isPrimaryRenderer,We=e.supportsMutation,X=e.supportsPersistence,be=e.supportsHydration,_e=e.getInstanceFromNode,Re=e.preparePortalMount,ye=e.getCurrentEventPriority,$e=e.detachDeletedInstance,Oe=e.supportsMicrotasks,F=e.scheduleMicrotask,E=e.supportsTestSelectors,O=e.findFiberRoot,J=e.getBoundingRect,se=e.getTextContent,te=e.isHiddenSubtree,ue=e.matchAccessibilityRole,ge=e.setFocusIfFocusable,Te=e.setupIntersectionObserver,ke=e.appendChild,st=e.appendChildToContainer,Me=e.commitTextUpdate,Pt=e.commitMount,yt=e.commitUpdate,lt=e.insertBefore,et=e.insertInContainerBefore,je=e.removeChild,Y=e.removeChildFromContainer,Ae=e.resetTextContent,Ve=e.hideInstance,He=e.hideTextInstance,Ee=e.unhideInstance,q=e.unhideTextInstance,Ie=e.clearContainer,Ne=e.cloneInstance,ct=e.createContainerChildSet,Ke=e.appendChildToContainerChildSet,Lt=e.finalizeContainerChildren,It=e.replaceContainerChildren,qt=e.cloneHiddenInstance,sn=e.cloneHiddenTextInstance,Ut=e.canHydrateInstance,ai=e.canHydrateTextInstance,Lr=e.canHydrateSuspenseInstance,Ad=e.isSuspenseInstancePending,Sd=e.isSuspenseInstanceFallback,Sc=e.registerSuspenseInstanceRetry,Yo=e.getNextHydratableSibling,wc=e.getFirstHydratableChild,cp=e.getFirstHydratableChildWithinContainer,up=e.getFirstHydratableChildWithinSuspenseInstance,iy=e.hydrateInstance,ry=e.hydrateTextInstance,sy=e.hydrateSuspenseInstance,k=e.getNextHydratableInstanceAfterSuspenseInstance,oe=e.commitHydratedContainer,he=e.commitHydratedSuspenseInstance,pe=e.clearSuspenseBoundary,de=e.clearSuspenseBoundaryFromContainer,Xe=e.shouldDeleteUnhydratedTailInstances,nt=e.didNotMatchHydratedContainerTextInstance,ht=e.didNotMatchHydratedTextInstance,ft;function xt(u){if(ft===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);ft=h&&h[1]||""}return`
`+ft+u}var vt=!1;function _t(u,h){if(!u||vt)return"";vt=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Be){var w=Be}Reflect.construct(u,[],h)}else{try{h.call()}catch(Be){w=Be}u.call(h.prototype)}else{try{throw Error()}catch(Be){w=Be}u()}}catch(Be){if(Be&&w&&typeof Be.stack=="string"){for(var b=Be.stack.split(`
`),R=w.stack.split(`
`),G=b.length-1,$=R.length-1;1<=G&&0<=$&&b[G]!==R[$];)$--;for(;1<=G&&0<=$;G--,$--)if(b[G]!==R[$]){if(G!==1||$!==1)do if(G--,$--,0>$||b[G]!==R[$]){var ve=`
`+b[G].replace(" at new "," at ");return u.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",u.displayName)),ve}while(1<=G&&0<=$);break}}}finally{vt=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?xt(u):""}var un=Object.prototype.hasOwnProperty,li=[],Zt=-1;function Kn(u){return{current:u}}function pt(u){0>Zt||(u.current=li[Zt],li[Zt]=null,Zt--)}function qe(u,h){Zt++,li[Zt]=u.current,u.current=h}var Br={},Tt=Kn(Br),_n=Kn(!1),Bs=Br;function Ir(u,h){var y=u.type.contextTypes;if(!y)return Br;var w=u.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var b={},R;for(R in y)b[R]=h[R];return w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=b),b}function Qn(u){return u=u.childContextTypes,u!=null}function Cn(){pt(_n),pt(Tt)}function Is(u,h,y){if(Tt.current!==Br)throw Error(o(168));qe(Tt,h),qe(_n,y)}function Mc(u,h,y){var w=u.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return y;w=w.getChildContext();for(var b in w)if(!(b in h))throw Error(o(108,D(u)||"Unknown",b));return s({},y,w)}function ci(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Br,Bs=Tt.current,qe(Tt,u),qe(_n,_n.current),!0}function bc(u,h,y){var w=u.stateNode;if(!w)throw Error(o(169));y?(u=Mc(u,h,Bs),w.__reactInternalMemoizedMergedChildContext=u,pt(_n),pt(Tt),qe(Tt,u)):pt(_n),qe(_n,y)}var cr=Math.clz32?Math.clz32:BO,dp=Math.log,LO=Math.LN2;function BO(u){return u>>>=0,u===0?32:31-(dp(u)/LO|0)|0}var hp=64,fp=4194304;function wd(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function pp(u,h){var y=u.pendingLanes;if(y===0)return 0;var w=0,b=u.suspendedLanes,R=u.pingedLanes,G=y&268435455;if(G!==0){var $=G&~b;$!==0?w=wd($):(R&=G,R!==0&&(w=wd(R)))}else G=y&~b,G!==0?w=wd(G):R!==0&&(w=wd(R));if(w===0)return 0;if(h!==0&&h!==w&&!(h&b)&&(b=w&-w,R=h&-h,b>=R||b===16&&(R&4194240)!==0))return h;if(w&4&&(w|=y&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=w;0<h;)y=31-cr(h),b=1<<y,w|=u[y],h&=~b;return w}function IO(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DO(u,h){for(var y=u.suspendedLanes,w=u.pingedLanes,b=u.expirationTimes,R=u.pendingLanes;0<R;){var G=31-cr(R),$=1<<G,ve=b[G];ve===-1?(!($&y)||$&w)&&(b[G]=IO($,h)):ve<=h&&(u.expiredLanes|=$),R&=~$}}function oy(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function ay(u){for(var h=[],y=0;31>y;y++)h.push(u);return h}function Md(u,h,y){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-cr(h),u[h]=y}function NO(u,h){var y=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var w=u.eventTimes;for(u=u.expirationTimes;0<y;){var b=31-cr(y),R=1<<b;h[b]=0,w[b]=-1,u[b]=-1,y&=~R}}function ly(u,h){var y=u.entangledLanes|=h;for(u=u.entanglements;y;){var w=31-cr(y),b=1<<w;b&h|u[w]&h&&(u[w]|=h),y&=~b}}var Ht=0;function tb(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var cy=r.unstable_scheduleCallback,nb=r.unstable_cancelCallback,FO=r.unstable_shouldYield,OO=r.unstable_requestPaint,Zn=r.unstable_now,uy=r.unstable_ImmediatePriority,kO=r.unstable_UserBlockingPriority,dy=r.unstable_NormalPriority,UO=r.unstable_IdlePriority,mp=null,Ds=null;function zO(u){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(mp,u,void 0,(u.current.flags&128)===128)}catch{}}function HO(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Ns=typeof Object.is=="function"?Object.is:HO,co=null,gp=!1,hy=!1;function ib(u){co===null?co=[u]:co.push(u)}function GO(u){gp=!0,ib(u)}function Fs(){if(!hy&&co!==null){hy=!0;var u=0,h=Ht;try{var y=co;for(Ht=1;u<y.length;u++){var w=y[u];do w=w(!0);while(w!==null)}co=null,gp=!1}catch(b){throw co!==null&&(co=co.slice(u+1)),cy(uy,Fs),b}finally{Ht=h,hy=!1}}return null}var VO=a.ReactCurrentBatchConfig;function vp(u,h){if(Ns(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var y=Object.keys(u),w=Object.keys(h);if(y.length!==w.length)return!1;for(w=0;w<y.length;w++){var b=y[w];if(!un.call(h,b)||!Ns(u[b],h[b]))return!1}return!0}function jO(u){switch(u.tag){case 5:return xt(u.type);case 16:return xt("Lazy");case 13:return xt("Suspense");case 19:return xt("SuspenseList");case 0:case 2:case 15:return u=_t(u.type,!1),u;case 11:return u=_t(u.type.render,!1),u;case 1:return u=_t(u.type,!0),u;default:return""}}function ns(u,h){if(u&&u.defaultProps){h=s({},h),u=u.defaultProps;for(var y in u)h[y]===void 0&&(h[y]=u[y]);return h}return h}var yp=Kn(null),xp=null,Ec=null,fy=null;function py(){fy=Ec=xp=null}function rb(u,h,y){ze?(qe(yp,h._currentValue),h._currentValue=y):(qe(yp,h._currentValue2),h._currentValue2=y)}function my(u){var h=yp.current;pt(yp),ze?u._currentValue=h:u._currentValue2=h}function gy(u,h,y){for(;u!==null;){var w=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),u===y)break;u=u.return}}function Cc(u,h){xp=u,fy=Ec=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&h&&(hr=!0),u.firstContext=null)}function Dr(u){var h=ze?u._currentValue:u._currentValue2;if(fy!==u)if(u={context:u,memoizedValue:h,next:null},Ec===null){if(xp===null)throw Error(o(308));Ec=u,xp.dependencies={lanes:0,firstContext:u}}else Ec=Ec.next=u;return h}var Os=null,Ko=!1;function vy(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sb(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function uo(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function Qo(u,h){var y=u.updateQueue;y!==null&&(y=y.shared,Nn!==null&&u.mode&1&&!(Rt&2)?(u=y.interleaved,u===null?(h.next=h,Os===null?Os=[y]:Os.push(y)):(h.next=u.next,u.next=h),y.interleaved=h):(u=y.pending,u===null?h.next=h:(h.next=u.next,u.next=h),y.pending=h))}function _p(u,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var w=h.lanes;w&=u.pendingLanes,y|=w,h.lanes=y,ly(u,y)}}function ob(u,h){var y=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,y===w)){var b=null,R=null;if(y=y.firstBaseUpdate,y!==null){do{var G={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};R===null?b=R=G:R=R.next=G,y=y.next}while(y!==null);R===null?b=R=h:R=R.next=h}else b=R=h;y={baseState:w.baseState,firstBaseUpdate:b,lastBaseUpdate:R,shared:w.shared,effects:w.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=h:u.next=h,y.lastBaseUpdate=h}function Ap(u,h,y,w){var b=u.updateQueue;Ko=!1;var R=b.firstBaseUpdate,G=b.lastBaseUpdate,$=b.shared.pending;if($!==null){b.shared.pending=null;var ve=$,Be=ve.next;ve.next=null,G===null?R=Be:G.next=Be,G=ve;var Ye=u.alternate;Ye!==null&&(Ye=Ye.updateQueue,$=Ye.lastBaseUpdate,$!==G&&($===null?Ye.firstBaseUpdate=Be:$.next=Be,Ye.lastBaseUpdate=ve))}if(R!==null){var At=b.baseState;G=0,Ye=Be=ve=null,$=R;do{var ut=$.lane,Yt=$.eventTime;if((w&ut)===ut){Ye!==null&&(Ye=Ye.next={eventTime:Yt,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var it=u,Ai=$;switch(ut=h,Yt=y,Ai.tag){case 1:if(it=Ai.payload,typeof it=="function"){At=it.call(Yt,At,ut);break e}At=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=Ai.payload,ut=typeof it=="function"?it.call(Yt,At,ut):it,ut==null)break e;At=s({},At,ut);break e;case 2:Ko=!0}}$.callback!==null&&$.lane!==0&&(u.flags|=64,ut=b.effects,ut===null?b.effects=[$]:ut.push($))}else Yt={eventTime:Yt,lane:ut,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Ye===null?(Be=Ye=Yt,ve=At):Ye=Ye.next=Yt,G|=ut;if($=$.next,$===null){if($=b.shared.pending,$===null)break;ut=$,$=ut.next,ut.next=null,b.lastBaseUpdate=ut,b.shared.pending=null}}while(!0);if(Ye===null&&(ve=At),b.baseState=ve,b.firstBaseUpdate=Be,b.lastBaseUpdate=Ye,h=b.shared.interleaved,h!==null){b=h;do G|=b.lane,b=b.next;while(b!==h)}else R===null&&(b.shared.lanes=0);Fc|=G,u.lanes=G,u.memoizedState=At}}function ab(u,h,y){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var w=u[h],b=w.callback;if(b!==null){if(w.callback=null,w=y,typeof b!="function")throw Error(o(191,b));b.call(w)}}}var lb=new i.Component().refs;function yy(u,h,y,w){h=u.memoizedState,y=y(w,h),y=y==null?h:s({},h,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var Sp={isMounted:function(u){return(u=u._reactInternals)?L(u)===u:!1},enqueueSetState:function(u,h,y){u=u._reactInternals;var w=Fi(),b=ea(u),R=uo(w,b);R.payload=h,y!=null&&(R.callback=y),Qo(u,R),h=Ur(u,b,w),h!==null&&_p(h,u,b)},enqueueReplaceState:function(u,h,y){u=u._reactInternals;var w=Fi(),b=ea(u),R=uo(w,b);R.tag=1,R.payload=h,y!=null&&(R.callback=y),Qo(u,R),h=Ur(u,b,w),h!==null&&_p(h,u,b)},enqueueForceUpdate:function(u,h){u=u._reactInternals;var y=Fi(),w=ea(u),b=uo(y,w);b.tag=2,h!=null&&(b.callback=h),Qo(u,b),h=Ur(u,w,y),h!==null&&_p(h,u,w)}};function cb(u,h,y,w,b,R,G){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,R,G):h.prototype&&h.prototype.isPureReactComponent?!vp(y,w)||!vp(b,R):!0}function ub(u,h,y){var w=!1,b=Br,R=h.contextType;return typeof R=="object"&&R!==null?R=Dr(R):(b=Qn(h)?Bs:Tt.current,w=h.contextTypes,R=(w=w!=null)?Ir(u,b):Br),h=new h(y,R),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Sp,u.stateNode=h,h._reactInternals=u,w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=b,u.__reactInternalMemoizedMaskedChildContext=R),h}function db(u,h,y,w){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,w),h.state!==u&&Sp.enqueueReplaceState(h,h.state,null)}function xy(u,h,y,w){var b=u.stateNode;b.props=y,b.state=u.memoizedState,b.refs=lb,vy(u);var R=h.contextType;typeof R=="object"&&R!==null?b.context=Dr(R):(R=Qn(h)?Bs:Tt.current,b.context=Ir(u,R)),b.state=u.memoizedState,R=h.getDerivedStateFromProps,typeof R=="function"&&(yy(u,h,R,y),b.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(h=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),h!==b.state&&Sp.enqueueReplaceState(b,b.state,null),Ap(u,y,b,w),b.state=u.memoizedState),typeof b.componentDidMount=="function"&&(u.flags|=4194308)}var Tc=[],Rc=0,wp=null,Mp=0,Nr=[],Fr=0,il=null,ho=1,fo="";function rl(u,h){Tc[Rc++]=Mp,Tc[Rc++]=wp,wp=u,Mp=h}function hb(u,h,y){Nr[Fr++]=ho,Nr[Fr++]=fo,Nr[Fr++]=il,il=u;var w=ho;u=fo;var b=32-cr(w)-1;w&=~(1<<b),y+=1;var R=32-cr(h)+b;if(30<R){var G=b-b%5;R=(w&(1<<G)-1).toString(32),w>>=G,b-=G,ho=1<<32-cr(h)+b|y<<b|w,fo=R+u}else ho=1<<R|y<<b|w,fo=u}function _y(u){u.return!==null&&(rl(u,1),hb(u,1,0))}function Ay(u){for(;u===wp;)wp=Tc[--Rc],Tc[Rc]=null,Mp=Tc[--Rc],Tc[Rc]=null;for(;u===il;)il=Nr[--Fr],Nr[Fr]=null,fo=Nr[--Fr],Nr[Fr]=null,ho=Nr[--Fr],Nr[Fr]=null}var ur=null,dr=null,on=!1,bd=!1,is=null;function fb(u,h){var y=zr(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=u,h=u.deletions,h===null?(u.deletions=[y],u.flags|=16):h.push(y)}function pb(u,h){switch(u.tag){case 5:return h=Ut(h,u.type,u.pendingProps),h!==null?(u.stateNode=h,ur=u,dr=wc(h),!0):!1;case 6:return h=ai(h,u.pendingProps),h!==null?(u.stateNode=h,ur=u,dr=null,!0):!1;case 13:if(h=Lr(h),h!==null){var y=il!==null?{id:ho,overflow:fo}:null;return u.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=zr(18,null,null,0),y.stateNode=h,y.return=u,u.child=y,ur=u,dr=null,!0}return!1;default:return!1}}function Sy(u){return(u.mode&1)!==0&&(u.flags&128)===0}function wy(u){if(on){var h=dr;if(h){var y=h;if(!pb(u,h)){if(Sy(u))throw Error(o(418));h=Yo(y);var w=ur;h&&pb(u,h)?fb(w,y):(u.flags=u.flags&-4097|2,on=!1,ur=u)}}else{if(Sy(u))throw Error(o(418));u.flags=u.flags&-4097|2,on=!1,ur=u}}}function mb(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ur=u}function Ed(u){if(!be||u!==ur)return!1;if(!on)return mb(u),on=!0,!1;if(u.tag!==3&&(u.tag!==5||Xe(u.type)&&!we(u.type,u.memoizedProps))){var h=dr;if(h){if(Sy(u)){for(u=dr;u;)u=Yo(u);throw Error(o(418))}for(;h;)fb(u,h),h=Yo(h)}}if(mb(u),u.tag===13){if(!be)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));dr=k(u)}else dr=ur?Yo(u.stateNode):null;return!0}function Pc(){be&&(dr=ur=null,bd=on=!1)}function My(u){is===null?is=[u]:is.push(u)}function Cd(u,h,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var w=y.stateNode}if(!w)throw Error(o(147,u));var b=w,R=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===R?h.ref:(h=function(G){var $=b.refs;$===lb&&($=b.refs={}),G===null?delete $[R]:$[R]=G},h._stringRef=R,h)}if(typeof u!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,u))}return u}function bp(u,h){throw u=Object.prototype.toString.call(h),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function gb(u){var h=u._init;return h(u._payload)}function vb(u){function h(le,ne){if(u){var me=le.deletions;me===null?(le.deletions=[ne],le.flags|=16):me.push(ne)}}function y(le,ne){if(!u)return null;for(;ne!==null;)h(le,ne),ne=ne.sibling;return null}function w(le,ne){for(le=new Map;ne!==null;)ne.key!==null?le.set(ne.key,ne):le.set(ne.index,ne),ne=ne.sibling;return le}function b(le,ne){return le=na(le,ne),le.index=0,le.sibling=null,le}function R(le,ne,me){return le.index=me,u?(me=le.alternate,me!==null?(me=me.index,me<ne?(le.flags|=2,ne):me):(le.flags|=2,ne)):(le.flags|=1048576,ne)}function G(le){return u&&le.alternate===null&&(le.flags|=2),le}function $(le,ne,me,Ge){return ne===null||ne.tag!==6?(ne=ax(me,le.mode,Ge),ne.return=le,ne):(ne=b(ne,me),ne.return=le,ne)}function ve(le,ne,me,Ge){var tt=me.type;return tt===d?Ye(le,ne,me.props.children,Ge,me.key):ne!==null&&(ne.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===S&&gb(tt)===ne.type)?(Ge=b(ne,me.props),Ge.ref=Cd(le,ne,me),Ge.return=le,Ge):(Ge=nm(me.type,me.key,me.props,null,le.mode,Ge),Ge.ref=Cd(le,ne,me),Ge.return=le,Ge)}function Be(le,ne,me,Ge){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==me.containerInfo||ne.stateNode.implementation!==me.implementation?(ne=lx(me,le.mode,Ge),ne.return=le,ne):(ne=b(ne,me.children||[]),ne.return=le,ne)}function Ye(le,ne,me,Ge,tt){return ne===null||ne.tag!==7?(ne=dl(me,le.mode,Ge,tt),ne.return=le,ne):(ne=b(ne,me),ne.return=le,ne)}function At(le,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=ax(""+ne,le.mode,me),ne.return=le,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case l:return me=nm(ne.type,ne.key,ne.props,null,le.mode,me),me.ref=Cd(le,null,ne),me.return=le,me;case c:return ne=lx(ne,le.mode,me),ne.return=le,ne;case S:var Ge=ne._init;return At(le,Ge(ne._payload),me)}if(Q(ne)||P(ne))return ne=dl(ne,le.mode,me,null),ne.return=le,ne;bp(le,ne)}return null}function ut(le,ne,me,Ge){var tt=ne!==null?ne.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return tt!==null?null:$(le,ne,""+me,Ge);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case l:return me.key===tt?ve(le,ne,me,Ge):null;case c:return me.key===tt?Be(le,ne,me,Ge):null;case S:return tt=me._init,ut(le,ne,tt(me._payload),Ge)}if(Q(me)||P(me))return tt!==null?null:Ye(le,ne,me,Ge,null);bp(le,me)}return null}function Yt(le,ne,me,Ge,tt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return le=le.get(me)||null,$(ne,le,""+Ge,tt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case l:return le=le.get(Ge.key===null?me:Ge.key)||null,ve(ne,le,Ge,tt);case c:return le=le.get(Ge.key===null?me:Ge.key)||null,Be(ne,le,Ge,tt);case S:var Et=Ge._init;return Yt(le,ne,me,Et(Ge._payload),tt)}if(Q(Ge)||P(Ge))return le=le.get(me)||null,Ye(ne,le,Ge,tt,null);bp(ne,Ge)}return null}function it(le,ne,me,Ge){for(var tt=null,Et=null,St=ne,Gt=ne=0,ei=null;St!==null&&Gt<me.length;Gt++){St.index>Gt?(ei=St,St=null):ei=St.sibling;var Vt=ut(le,St,me[Gt],Ge);if(Vt===null){St===null&&(St=ei);break}u&&St&&Vt.alternate===null&&h(le,St),ne=R(Vt,ne,Gt),Et===null?tt=Vt:Et.sibling=Vt,Et=Vt,St=ei}if(Gt===me.length)return y(le,St),on&&rl(le,Gt),tt;if(St===null){for(;Gt<me.length;Gt++)St=At(le,me[Gt],Ge),St!==null&&(ne=R(St,ne,Gt),Et===null?tt=St:Et.sibling=St,Et=St);return on&&rl(le,Gt),tt}for(St=w(le,St);Gt<me.length;Gt++)ei=Yt(St,le,Gt,me[Gt],Ge),ei!==null&&(u&&ei.alternate!==null&&St.delete(ei.key===null?Gt:ei.key),ne=R(ei,ne,Gt),Et===null?tt=ei:Et.sibling=ei,Et=ei);return u&&St.forEach(function(ia){return h(le,ia)}),on&&rl(le,Gt),tt}function Ai(le,ne,me,Ge){var tt=P(me);if(typeof tt!="function")throw Error(o(150));if(me=tt.call(me),me==null)throw Error(o(151));for(var Et=tt=null,St=ne,Gt=ne=0,ei=null,Vt=me.next();St!==null&&!Vt.done;Gt++,Vt=me.next()){St.index>Gt?(ei=St,St=null):ei=St.sibling;var ia=ut(le,St,Vt.value,Ge);if(ia===null){St===null&&(St=ei);break}u&&St&&ia.alternate===null&&h(le,St),ne=R(ia,ne,Gt),Et===null?tt=ia:Et.sibling=ia,Et=ia,St=ei}if(Vt.done)return y(le,St),on&&rl(le,Gt),tt;if(St===null){for(;!Vt.done;Gt++,Vt=me.next())Vt=At(le,Vt.value,Ge),Vt!==null&&(ne=R(Vt,ne,Gt),Et===null?tt=Vt:Et.sibling=Vt,Et=Vt);return on&&rl(le,Gt),tt}for(St=w(le,St);!Vt.done;Gt++,Vt=me.next())Vt=Yt(St,le,Gt,Vt.value,Ge),Vt!==null&&(u&&Vt.alternate!==null&&St.delete(Vt.key===null?Gt:Vt.key),ne=R(Vt,ne,Gt),Et===null?tt=Vt:Et.sibling=Vt,Et=Vt);return u&&St.forEach(function(_k){return h(le,_k)}),on&&rl(le,Gt),tt}function Hr(le,ne,me,Ge){if(typeof me=="object"&&me!==null&&me.type===d&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case l:e:{for(var tt=me.key,Et=ne;Et!==null;){if(Et.key===tt){if(tt=me.type,tt===d){if(Et.tag===7){y(le,Et.sibling),ne=b(Et,me.props.children),ne.return=le,le=ne;break e}}else if(Et.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===S&&gb(tt)===Et.type){y(le,Et.sibling),ne=b(Et,me.props),ne.ref=Cd(le,Et,me),ne.return=le,le=ne;break e}y(le,Et);break}else h(le,Et);Et=Et.sibling}me.type===d?(ne=dl(me.props.children,le.mode,Ge,me.key),ne.return=le,le=ne):(Ge=nm(me.type,me.key,me.props,null,le.mode,Ge),Ge.ref=Cd(le,ne,me),Ge.return=le,le=Ge)}return G(le);case c:e:{for(Et=me.key;ne!==null;){if(ne.key===Et)if(ne.tag===4&&ne.stateNode.containerInfo===me.containerInfo&&ne.stateNode.implementation===me.implementation){y(le,ne.sibling),ne=b(ne,me.children||[]),ne.return=le,le=ne;break e}else{y(le,ne);break}else h(le,ne);ne=ne.sibling}ne=lx(me,le.mode,Ge),ne.return=le,le=ne}return G(le);case S:return Et=me._init,Hr(le,ne,Et(me._payload),Ge)}if(Q(me))return it(le,ne,me,Ge);if(P(me))return Ai(le,ne,me,Ge);bp(le,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,ne!==null&&ne.tag===6?(y(le,ne.sibling),ne=b(ne,me),ne.return=le,le=ne):(y(le,ne),ne=ax(me,le.mode,Ge),ne.return=le,le=ne),G(le)):y(le,ne)}return Hr}var Lc=vb(!0),yb=vb(!1),Td={},Or=Kn(Td),Rd=Kn(Td),Bc=Kn(Td);function ks(u){if(u===Td)throw Error(o(174));return u}function by(u,h){qe(Bc,h),qe(Rd,u),qe(Or,Td),u=ce(h),pt(Or),qe(Or,u)}function Ic(){pt(Or),pt(Rd),pt(Bc)}function xb(u){var h=ks(Bc.current),y=ks(Or.current);h=N(y,u.type,h),y!==h&&(qe(Rd,u),qe(Or,h))}function Ey(u){Rd.current===u&&(pt(Or),pt(Rd))}var dn=Kn(0);function Ep(u){for(var h=u;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Ad(y)||Sd(y)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Cy=[];function Ty(){for(var u=0;u<Cy.length;u++){var h=Cy[u];ze?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}Cy.length=0}var Cp=a.ReactCurrentDispatcher,kr=a.ReactCurrentBatchConfig,Dc=0,An=null,yi=null,$n=null,Tp=!1,Pd=!1,Ld=0,WO=0;function xi(){throw Error(o(321))}function Ry(u,h){if(h===null)return!1;for(var y=0;y<h.length&&y<u.length;y++)if(!Ns(u[y],h[y]))return!1;return!0}function Py(u,h,y,w,b,R){if(Dc=R,An=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Cp.current=u===null||u.memoizedState===null?YO:KO,u=y(w,b),Pd){R=0;do{if(Pd=!1,Ld=0,25<=R)throw Error(o(301));R+=1,$n=yi=null,h.updateQueue=null,Cp.current=QO,u=y(w,b)}while(Pd)}if(Cp.current=Ip,h=yi!==null&&yi.next!==null,Dc=0,$n=yi=An=null,Tp=!1,h)throw Error(o(300));return u}function Ly(){var u=Ld!==0;return Ld=0,u}function po(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?An.memoizedState=$n=u:$n=$n.next=u,$n}function Us(){if(yi===null){var u=An.alternate;u=u!==null?u.memoizedState:null}else u=yi.next;var h=$n===null?An.memoizedState:$n.next;if(h!==null)$n=h,yi=u;else{if(u===null)throw Error(o(310));yi=u,u={memoizedState:yi.memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},$n===null?An.memoizedState=$n=u:$n=$n.next=u}return $n}function sl(u,h){return typeof h=="function"?h(u):h}function Rp(u){var h=Us(),y=h.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=u;var w=yi,b=w.baseQueue,R=y.pending;if(R!==null){if(b!==null){var G=b.next;b.next=R.next,R.next=G}w.baseQueue=b=R,y.pending=null}if(b!==null){R=b.next,w=w.baseState;var $=G=null,ve=null,Be=R;do{var Ye=Be.lane;if((Dc&Ye)===Ye)ve!==null&&(ve=ve.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),w=Be.hasEagerState?Be.eagerState:u(w,Be.action);else{var At={lane:Ye,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};ve===null?($=ve=At,G=w):ve=ve.next=At,An.lanes|=Ye,Fc|=Ye}Be=Be.next}while(Be!==null&&Be!==R);ve===null?G=w:ve.next=$,Ns(w,h.memoizedState)||(hr=!0),h.memoizedState=w,h.baseState=G,h.baseQueue=ve,y.lastRenderedState=w}if(u=y.interleaved,u!==null){b=u;do R=b.lane,An.lanes|=R,Fc|=R,b=b.next;while(b!==u)}else b===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function Pp(u){var h=Us(),y=h.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=u;var w=y.dispatch,b=y.pending,R=h.memoizedState;if(b!==null){y.pending=null;var G=b=b.next;do R=u(R,G.action),G=G.next;while(G!==b);Ns(R,h.memoizedState)||(hr=!0),h.memoizedState=R,h.baseQueue===null&&(h.baseState=R),y.lastRenderedState=R}return[R,w]}function _b(){}function Ab(u,h){var y=An,w=Us(),b=h(),R=!Ns(w.memoizedState,b);if(R&&(w.memoizedState=b,hr=!0),w=w.queue,Id(Mb.bind(null,y,w,u),[u]),w.getSnapshot!==h||R||$n!==null&&$n.memoizedState.tag&1){if(y.flags|=2048,Bd(9,wb.bind(null,y,w,b,h),void 0,null),Nn===null)throw Error(o(349));Dc&30||Sb(y,h,b)}return b}function Sb(u,h,y){u.flags|=16384,u={getSnapshot:h,value:y},h=An.updateQueue,h===null?(h={lastEffect:null,stores:null},An.updateQueue=h,h.stores=[u]):(y=h.stores,y===null?h.stores=[u]:y.push(u))}function wb(u,h,y,w){h.value=y,h.getSnapshot=w,bb(h)&&Ur(u,1,-1)}function Mb(u,h,y){return y(function(){bb(h)&&Ur(u,1,-1)})}function bb(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!Ns(u,y)}catch{return!0}}function By(u){var h=po();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:u},h.queue=u,u=u.dispatch=qO.bind(null,An,u),[h.memoizedState,u]}function Bd(u,h,y,w){return u={tag:u,create:h,destroy:y,deps:w,next:null},h=An.updateQueue,h===null?(h={lastEffect:null,stores:null},An.updateQueue=h,h.lastEffect=u.next=u):(y=h.lastEffect,y===null?h.lastEffect=u.next=u:(w=y.next,y.next=u,u.next=w,h.lastEffect=u)),u}function Eb(){return Us().memoizedState}function Lp(u,h,y,w){var b=po();An.flags|=u,b.memoizedState=Bd(1|h,y,void 0,w===void 0?null:w)}function Bp(u,h,y,w){var b=Us();w=w===void 0?null:w;var R=void 0;if(yi!==null){var G=yi.memoizedState;if(R=G.destroy,w!==null&&Ry(w,G.deps)){b.memoizedState=Bd(h,y,R,w);return}}An.flags|=u,b.memoizedState=Bd(1|h,y,R,w)}function Iy(u,h){return Lp(8390656,8,u,h)}function Id(u,h){return Bp(2048,8,u,h)}function Cb(u,h){return Bp(4,2,u,h)}function Tb(u,h){return Bp(4,4,u,h)}function Rb(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function Pb(u,h,y){return y=y!=null?y.concat([u]):null,Bp(4,4,Rb.bind(null,h,u),y)}function Dy(){}function Lb(u,h){var y=Us();h=h===void 0?null:h;var w=y.memoizedState;return w!==null&&h!==null&&Ry(h,w[1])?w[0]:(y.memoizedState=[u,h],u)}function Bb(u,h){var y=Us();h=h===void 0?null:h;var w=y.memoizedState;return w!==null&&h!==null&&Ry(h,w[1])?w[0]:(u=u(),y.memoizedState=[u,h],u)}function XO(u,h){var y=Ht;Ht=y!==0&&4>y?y:4,u(!0);var w=kr.transition;kr.transition={};try{u(!1),h()}finally{Ht=y,kr.transition=w}}function Ib(){return Us().memoizedState}function JO(u,h,y){var w=ea(u);y={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null},Db(u)?Nb(h,y):(Fb(u,h,y),y=Fi(),u=Ur(u,w,y),u!==null&&Ob(u,h,w))}function qO(u,h,y){var w=ea(u),b={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null};if(Db(u))Nb(h,b);else{Fb(u,h,b);var R=u.alternate;if(u.lanes===0&&(R===null||R.lanes===0)&&(R=h.lastRenderedReducer,R!==null))try{var G=h.lastRenderedState,$=R(G,y);if(b.hasEagerState=!0,b.eagerState=$,Ns($,G))return}catch{}finally{}y=Fi(),u=Ur(u,w,y),u!==null&&Ob(u,h,w)}}function Db(u){var h=u.alternate;return u===An||h!==null&&h===An}function Nb(u,h){Pd=Tp=!0;var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}function Fb(u,h,y){Nn!==null&&u.mode&1&&!(Rt&2)?(u=h.interleaved,u===null?(y.next=y,Os===null?Os=[h]:Os.push(h)):(y.next=u.next,u.next=y),h.interleaved=y):(u=h.pending,u===null?y.next=y:(y.next=u.next,u.next=y),h.pending=y)}function Ob(u,h,y){if(y&4194240){var w=h.lanes;w&=u.pendingLanes,y|=w,h.lanes=y,ly(u,y)}}var Ip={readContext:Dr,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},YO={readContext:Dr,useCallback:function(u,h){return po().memoizedState=[u,h===void 0?null:h],u},useContext:Dr,useEffect:Iy,useImperativeHandle:function(u,h,y){return y=y!=null?y.concat([u]):null,Lp(4194308,4,Rb.bind(null,h,u),y)},useLayoutEffect:function(u,h){return Lp(4194308,4,u,h)},useInsertionEffect:function(u,h){return Lp(4,2,u,h)},useMemo:function(u,h){var y=po();return h=h===void 0?null:h,u=u(),y.memoizedState=[u,h],u},useReducer:function(u,h,y){var w=po();return h=y!==void 0?y(h):h,w.memoizedState=w.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},w.queue=u,u=u.dispatch=JO.bind(null,An,u),[w.memoizedState,u]},useRef:function(u){var h=po();return u={current:u},h.memoizedState=u},useState:By,useDebugValue:Dy,useDeferredValue:function(u){var h=By(u),y=h[0],w=h[1];return Iy(function(){var b=kr.transition;kr.transition={};try{w(u)}finally{kr.transition=b}},[u]),y},useTransition:function(){var u=By(!1),h=u[0];return u=XO.bind(null,u[1]),po().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,y){var w=An,b=po();if(on){if(y===void 0)throw Error(o(407));y=y()}else{if(y=h(),Nn===null)throw Error(o(349));Dc&30||Sb(w,h,y)}b.memoizedState=y;var R={value:y,getSnapshot:h};return b.queue=R,Iy(Mb.bind(null,w,R,u),[u]),w.flags|=2048,Bd(9,wb.bind(null,w,R,y,h),void 0,null),y},useId:function(){var u=po(),h=Nn.identifierPrefix;if(on){var y=fo,w=ho;y=(w&~(1<<32-cr(w)-1)).toString(32)+y,h=":"+h+"R"+y,y=Ld++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=WO++,h=":"+h+"r"+y.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},KO={readContext:Dr,useCallback:Lb,useContext:Dr,useEffect:Id,useImperativeHandle:Pb,useInsertionEffect:Cb,useLayoutEffect:Tb,useMemo:Bb,useReducer:Rp,useRef:Eb,useState:function(){return Rp(sl)},useDebugValue:Dy,useDeferredValue:function(u){var h=Rp(sl),y=h[0],w=h[1];return Id(function(){var b=kr.transition;kr.transition={};try{w(u)}finally{kr.transition=b}},[u]),y},useTransition:function(){var u=Rp(sl)[0],h=Us().memoizedState;return[u,h]},useMutableSource:_b,useSyncExternalStore:Ab,useId:Ib,unstable_isNewReconciler:!1},QO={readContext:Dr,useCallback:Lb,useContext:Dr,useEffect:Id,useImperativeHandle:Pb,useInsertionEffect:Cb,useLayoutEffect:Tb,useMemo:Bb,useReducer:Pp,useRef:Eb,useState:function(){return Pp(sl)},useDebugValue:Dy,useDeferredValue:function(u){var h=Pp(sl),y=h[0],w=h[1];return Id(function(){var b=kr.transition;kr.transition={};try{w(u)}finally{kr.transition=b}},[u]),y},useTransition:function(){var u=Pp(sl)[0],h=Us().memoizedState;return[u,h]},useMutableSource:_b,useSyncExternalStore:Ab,useId:Ib,unstable_isNewReconciler:!1};function Ny(u,h){try{var y="",w=h;do y+=jO(w),w=w.return;while(w);var b=y}catch(R){b=`
Error generating stack: `+R.message+`
`+R.stack}return{value:u,source:h,stack:b}}function Fy(u,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var ZO=typeof WeakMap=="function"?WeakMap:Map;function kb(u,h,y){y=uo(-1,y),y.tag=3,y.payload={element:null};var w=h.value;return y.callback=function(){Yp||(Yp=!0,ex=w),Fy(u,h)},y}function Ub(u,h,y){y=uo(-1,y),y.tag=3;var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var b=h.value;y.payload=function(){return w(b)},y.callback=function(){Fy(u,h)}}var R=u.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(y.callback=function(){Fy(u,h),typeof w!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var G=h.stack;this.componentDidCatch(h.value,{componentStack:G!==null?G:""})}),y}function zb(u,h,y){var w=u.pingCache;if(w===null){w=u.pingCache=new ZO;var b=new Set;w.set(h,b)}else b=w.get(h),b===void 0&&(b=new Set,w.set(h,b));b.has(y)||(b.add(y),u=hk.bind(null,u,h,y),h.then(u,u))}function Hb(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function Gb(u,h,y,w,b){return u.mode&1?(u.flags|=65536,u.lanes=b,u):(u===h?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=uo(-1,1),h.tag=2,Qo(y,h))),y.lanes|=1),u)}function zs(u){u.flags|=4}function Vb(u,h){if(u!==null&&u.child===h.child)return!0;if(h.flags&16)return!1;for(u=h.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var Dd,Nd,Dp,Np;if(We)Dd=function(u,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)ie(u,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Nd=function(){},Dp=function(u,h,y,w,b){if(u=u.memoizedProps,u!==w){var R=h.stateNode,G=ks(Or.current);y=fe(R,y,u,w,b,G),(h.updateQueue=y)&&zs(h)}},Np=function(u,h,y,w){y!==w&&zs(h)};else if(X){Dd=function(u,h,y,w){for(var b=h.child;b!==null;){if(b.tag===5){var R=b.stateNode;y&&w&&(R=qt(R,b.type,b.memoizedProps,b)),ie(u,R)}else if(b.tag===6)R=b.stateNode,y&&w&&(R=sn(R,b.memoizedProps,b)),ie(u,R);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)R=b.child,R!==null&&(R.return=b),Dd(u,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};var jb=function(u,h,y,w){for(var b=h.child;b!==null;){if(b.tag===5){var R=b.stateNode;y&&w&&(R=qt(R,b.type,b.memoizedProps,b)),Ke(u,R)}else if(b.tag===6)R=b.stateNode,y&&w&&(R=sn(R,b.memoizedProps,b)),Ke(u,R);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)R=b.child,R!==null&&(R.return=b),jb(u,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};Nd=function(u,h){var y=h.stateNode;if(!Vb(u,h)){u=y.containerInfo;var w=ct(u);jb(w,h,!1,!1),y.pendingChildren=w,zs(h),Lt(u,w)}},Dp=function(u,h,y,w,b){var R=u.stateNode,G=u.memoizedProps;if((u=Vb(u,h))&&G===w)h.stateNode=R;else{var $=h.stateNode,ve=ks(Or.current),Be=null;G!==w&&(Be=fe($,y,G,w,b,ve)),u&&Be===null?h.stateNode=R:(R=Ne(R,Be,y,G,w,h,u,$),re(R,y,w,b,ve)&&zs(h),h.stateNode=R,u?zs(h):Dd(R,h,!1,!1))}},Np=function(u,h,y,w){y!==w?(u=ks(Bc.current),y=ks(Or.current),h.stateNode=Ce(w,u,y,h),zs(h)):h.stateNode=u.stateNode}}else Nd=function(){},Dp=function(){},Np=function(){};function Fd(u,h){if(!on)switch(u.tailMode){case"hidden":h=u.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var w=null;y!==null;)y.alternate!==null&&(w=y),y=y.sibling;w===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function _i(u){var h=u.alternate!==null&&u.alternate.child===u.child,y=0,w=0;if(h)for(var b=u.child;b!==null;)y|=b.lanes|b.childLanes,w|=b.subtreeFlags&14680064,w|=b.flags&14680064,b.return=u,b=b.sibling;else for(b=u.child;b!==null;)y|=b.lanes|b.childLanes,w|=b.subtreeFlags,w|=b.flags,b.return=u,b=b.sibling;return u.subtreeFlags|=w,u.childLanes=y,h}function $O(u,h,y){var w=h.pendingProps;switch(Ay(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _i(h),null;case 1:return Qn(h.type)&&Cn(),_i(h),null;case 3:return w=h.stateNode,Ic(),pt(_n),pt(Tt),Ty(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(u===null||u.child===null)&&(Ed(h)?zs(h):u===null||u.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,is!==null&&(ix(is),is=null))),Nd(u,h),_i(h),null;case 5:Ey(h),y=ks(Bc.current);var b=h.type;if(u!==null&&h.stateNode!=null)Dp(u,h,b,w,y),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(o(166));return _i(h),null}if(u=ks(Or.current),Ed(h)){if(!be)throw Error(o(175));u=iy(h.stateNode,h.type,h.memoizedProps,y,u,h,!bd),h.updateQueue=u,u!==null&&zs(h)}else{var R=K(b,w,y,u,h);Dd(R,h,!1,!1),h.stateNode=R,re(R,b,w,y,u)&&zs(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return _i(h),null;case 6:if(u&&h.stateNode!=null)Np(u,h,u.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(o(166));if(u=ks(Bc.current),y=ks(Or.current),Ed(h)){if(!be)throw Error(o(176));if(u=h.stateNode,w=h.memoizedProps,(y=ry(u,w,h,!bd))&&(b=ur,b!==null))switch(R=(b.mode&1)!==0,b.tag){case 3:nt(b.stateNode.containerInfo,u,w,R);break;case 5:ht(b.type,b.memoizedProps,b.stateNode,u,w,R)}y&&zs(h)}else h.stateNode=Ce(w,u,y,h)}return _i(h),null;case 13:if(pt(dn),w=h.memoizedState,on&&dr!==null&&h.mode&1&&!(h.flags&128)){for(u=dr;u;)u=Yo(u);return Pc(),h.flags|=98560,h}if(w!==null&&w.dehydrated!==null){if(w=Ed(h),u===null){if(!w)throw Error(o(318));if(!be)throw Error(o(344));if(u=h.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));sy(u,h)}else Pc(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return _i(h),null}return is!==null&&(ix(is),is=null),h.flags&128?(h.lanes=y,h):(w=w!==null,y=!1,u===null?Ed(h):y=u.memoizedState!==null,w&&!y&&(h.child.flags|=8192,h.mode&1&&(u===null||dn.current&1?Vn===0&&(Vn=3):sx())),h.updateQueue!==null&&(h.flags|=4),_i(h),null);case 4:return Ic(),Nd(u,h),u===null&&Re(h.stateNode.containerInfo),_i(h),null;case 10:return my(h.type._context),_i(h),null;case 17:return Qn(h.type)&&Cn(),_i(h),null;case 19:if(pt(dn),b=h.memoizedState,b===null)return _i(h),null;if(w=(h.flags&128)!==0,R=b.rendering,R===null)if(w)Fd(b,!1);else{if(Vn!==0||u!==null&&u.flags&128)for(u=h.child;u!==null;){if(R=Ep(u),R!==null){for(h.flags|=128,Fd(b,!1),u=R.updateQueue,u!==null&&(h.updateQueue=u,h.flags|=4),h.subtreeFlags=0,u=y,w=h.child;w!==null;)y=w,b=u,y.flags&=14680066,R=y.alternate,R===null?(y.childLanes=0,y.lanes=b,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=R.childLanes,y.lanes=R.lanes,y.child=R.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=R.memoizedProps,y.memoizedState=R.memoizedState,y.updateQueue=R.updateQueue,y.type=R.type,b=R.dependencies,y.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),w=w.sibling;return qe(dn,dn.current&1|2),h.child}u=u.sibling}b.tail!==null&&Zn()>$y&&(h.flags|=128,w=!0,Fd(b,!1),h.lanes=4194304)}else{if(!w)if(u=Ep(R),u!==null){if(h.flags|=128,w=!0,u=u.updateQueue,u!==null&&(h.updateQueue=u,h.flags|=4),Fd(b,!0),b.tail===null&&b.tailMode==="hidden"&&!R.alternate&&!on)return _i(h),null}else 2*Zn()-b.renderingStartTime>$y&&y!==1073741824&&(h.flags|=128,w=!0,Fd(b,!1),h.lanes=4194304);b.isBackwards?(R.sibling=h.child,h.child=R):(u=b.last,u!==null?u.sibling=R:h.child=R,b.last=R)}return b.tail!==null?(h=b.tail,b.rendering=h,b.tail=h.sibling,b.renderingStartTime=Zn(),h.sibling=null,u=dn.current,qe(dn,w?u&1|2:u&1),h):(_i(h),null);case 22:case 23:return rx(),w=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==w&&(h.flags|=8192),w&&h.mode&1?fr&1073741824&&(_i(h),We&&h.subtreeFlags&6&&(h.flags|=8192)):_i(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var ek=a.ReactCurrentOwner,hr=!1;function Ni(u,h,y,w){h.child=u===null?yb(h,null,y,w):Lc(h,u.child,y,w)}function Wb(u,h,y,w,b){y=y.render;var R=h.ref;return Cc(h,b),w=Py(u,h,y,w,R,b),y=Ly(),u!==null&&!hr?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~b,mo(u,h,b)):(on&&y&&_y(h),h.flags|=1,Ni(u,h,w,b),h.child)}function Xb(u,h,y,w,b){if(u===null){var R=y.type;return typeof R=="function"&&!ox(R)&&R.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=R,Jb(u,h,R,w,b)):(u=nm(y.type,null,w,h,h.mode,b),u.ref=h.ref,u.return=h,h.child=u)}if(R=u.child,!(u.lanes&b)){var G=R.memoizedProps;if(y=y.compare,y=y!==null?y:vp,y(G,w)&&u.ref===h.ref)return mo(u,h,b)}return h.flags|=1,u=na(R,w),u.ref=h.ref,u.return=h,h.child=u}function Jb(u,h,y,w,b){if(u!==null&&vp(u.memoizedProps,w)&&u.ref===h.ref)if(hr=!1,(u.lanes&b)!==0)u.flags&131072&&(hr=!0);else return h.lanes=u.lanes,mo(u,h,b);return Oy(u,h,y,w,b)}function qb(u,h,y){var w=h.pendingProps,b=w.children,R=u!==null?u.memoizedState:null;if(w.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},qe(Nc,fr),fr|=y;else if(y&1073741824)h.memoizedState={baseLanes:0,cachePool:null},w=R!==null?R.baseLanes:y,qe(Nc,fr),fr|=w;else return u=R!==null?R.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null},h.updateQueue=null,qe(Nc,fr),fr|=u,null;else R!==null?(w=R.baseLanes|y,h.memoizedState=null):w=y,qe(Nc,fr),fr|=w;return Ni(u,h,b,y),h.child}function Yb(u,h){var y=h.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function Oy(u,h,y,w,b){var R=Qn(y)?Bs:Tt.current;return R=Ir(h,R),Cc(h,b),y=Py(u,h,y,w,R,b),w=Ly(),u!==null&&!hr?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~b,mo(u,h,b)):(on&&w&&_y(h),h.flags|=1,Ni(u,h,y,b),h.child)}function Kb(u,h,y,w,b){if(Qn(y)){var R=!0;ci(h)}else R=!1;if(Cc(h,b),h.stateNode===null)u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2),ub(h,y,w),xy(h,y,w,b),w=!0;else if(u===null){var G=h.stateNode,$=h.memoizedProps;G.props=$;var ve=G.context,Be=y.contextType;typeof Be=="object"&&Be!==null?Be=Dr(Be):(Be=Qn(y)?Bs:Tt.current,Be=Ir(h,Be));var Ye=y.getDerivedStateFromProps,At=typeof Ye=="function"||typeof G.getSnapshotBeforeUpdate=="function";At||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||($!==w||ve!==Be)&&db(h,G,w,Be),Ko=!1;var ut=h.memoizedState;G.state=ut,Ap(h,w,G,b),ve=h.memoizedState,$!==w||ut!==ve||_n.current||Ko?(typeof Ye=="function"&&(yy(h,y,Ye,w),ve=h.memoizedState),($=Ko||cb(h,y,$,w,ut,ve,Be))?(At||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(h.flags|=4194308)):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=ve),G.props=w,G.state=ve,G.context=Be,w=$):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{G=h.stateNode,sb(u,h),$=h.memoizedProps,Be=h.type===h.elementType?$:ns(h.type,$),G.props=Be,At=h.pendingProps,ut=G.context,ve=y.contextType,typeof ve=="object"&&ve!==null?ve=Dr(ve):(ve=Qn(y)?Bs:Tt.current,ve=Ir(h,ve));var Yt=y.getDerivedStateFromProps;(Ye=typeof Yt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||($!==At||ut!==ve)&&db(h,G,w,ve),Ko=!1,ut=h.memoizedState,G.state=ut,Ap(h,w,G,b);var it=h.memoizedState;$!==At||ut!==it||_n.current||Ko?(typeof Yt=="function"&&(yy(h,y,Yt,w),it=h.memoizedState),(Be=Ko||cb(h,y,Be,w,ut,it,ve)||!1)?(Ye||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(w,it,ve),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(w,it,ve)),typeof G.componentDidUpdate=="function"&&(h.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof G.componentDidUpdate!="function"||$===u.memoizedProps&&ut===u.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||$===u.memoizedProps&&ut===u.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=it),G.props=w,G.state=it,G.context=ve,w=Be):(typeof G.componentDidUpdate!="function"||$===u.memoizedProps&&ut===u.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||$===u.memoizedProps&&ut===u.memoizedState||(h.flags|=1024),w=!1)}return ky(u,h,y,w,R,b)}function ky(u,h,y,w,b,R){Yb(u,h);var G=(h.flags&128)!==0;if(!w&&!G)return b&&bc(h,y,!1),mo(u,h,R);w=h.stateNode,ek.current=h;var $=G&&typeof y.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,u!==null&&G?(h.child=Lc(h,u.child,null,R),h.child=Lc(h,null,$,R)):Ni(u,h,$,R),h.memoizedState=w.state,b&&bc(h,y,!0),h.child}function Qb(u){var h=u.stateNode;h.pendingContext?Is(u,h.pendingContext,h.pendingContext!==h.context):h.context&&Is(u,h.context,!1),by(u,h.containerInfo)}function Zb(u,h,y,w,b){return Pc(),My(b),h.flags|=256,Ni(u,h,y,w),h.child}var Fp={dehydrated:null,treeContext:null,retryLane:0};function Op(u){return{baseLanes:u,cachePool:null}}function $b(u,h,y){var w=h.pendingProps,b=dn.current,R=!1,G=(h.flags&128)!==0,$;if(($=G)||($=u!==null&&u.memoizedState===null?!1:(b&2)!==0),$?(R=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(b|=1),qe(dn,b&1),u===null)return wy(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(h.mode&1?Sd(u)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(b=w.children,u=w.fallback,R?(w=h.mode,R=h.child,b={mode:"hidden",children:b},!(w&1)&&R!==null?(R.childLanes=0,R.pendingProps=b):R=im(b,w,0,null),u=dl(u,w,y,null),R.return=h,u.return=h,R.sibling=u,h.child=R,h.child.memoizedState=Op(y),h.memoizedState=Fp,u):Uy(h,b));if(b=u.memoizedState,b!==null){if($=b.dehydrated,$!==null){if(G)return h.flags&256?(h.flags&=-257,kp(u,h,y,Error(o(422)))):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(R=w.fallback,b=h.mode,w=im({mode:"visible",children:w.children},b,0,null),R=dl(R,b,y,null),R.flags|=2,w.return=h,R.return=h,w.sibling=R,h.child=w,h.mode&1&&Lc(h,u.child,null,y),h.child.memoizedState=Op(y),h.memoizedState=Fp,R);if(!(h.mode&1))h=kp(u,h,y,null);else if(Sd($))h=kp(u,h,y,Error(o(419)));else if(w=(y&u.childLanes)!==0,hr||w){if(w=Nn,w!==null){switch(y&-y){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}w=R&(w.suspendedLanes|y)?0:R,w!==0&&w!==b.retryLane&&(b.retryLane=w,Ur(u,w,-1))}sx(),h=kp(u,h,y,Error(o(421)))}else Ad($)?(h.flags|=128,h.child=u.child,h=fk.bind(null,u),Sc($,h),h=null):(y=b.treeContext,be&&(dr=up($),ur=h,on=!0,is=null,bd=!1,y!==null&&(Nr[Fr++]=ho,Nr[Fr++]=fo,Nr[Fr++]=il,ho=y.id,fo=y.overflow,il=h)),h=Uy(h,h.pendingProps.children),h.flags|=4096);return h}return R?(w=tE(u,h,w.children,w.fallback,y),R=h.child,b=u.child.memoizedState,R.memoizedState=b===null?Op(y):{baseLanes:b.baseLanes|y,cachePool:null},R.childLanes=u.childLanes&~y,h.memoizedState=Fp,w):(y=eE(u,h,w.children,y),h.memoizedState=null,y)}return R?(w=tE(u,h,w.children,w.fallback,y),R=h.child,b=u.child.memoizedState,R.memoizedState=b===null?Op(y):{baseLanes:b.baseLanes|y,cachePool:null},R.childLanes=u.childLanes&~y,h.memoizedState=Fp,w):(y=eE(u,h,w.children,y),h.memoizedState=null,y)}function Uy(u,h){return h=im({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function eE(u,h,y,w){var b=u.child;return u=b.sibling,y=na(b,{mode:"visible",children:y}),!(h.mode&1)&&(y.lanes=w),y.return=h,y.sibling=null,u!==null&&(w=h.deletions,w===null?(h.deletions=[u],h.flags|=16):w.push(u)),h.child=y}function tE(u,h,y,w,b){var R=h.mode;u=u.child;var G=u.sibling,$={mode:"hidden",children:y};return!(R&1)&&h.child!==u?(y=h.child,y.childLanes=0,y.pendingProps=$,h.deletions=null):(y=na(u,$),y.subtreeFlags=u.subtreeFlags&14680064),G!==null?w=na(G,w):(w=dl(w,R,b,null),w.flags|=2),w.return=h,y.return=h,y.sibling=w,h.child=y,w}function kp(u,h,y,w){return w!==null&&My(w),Lc(h,u.child,null,y),u=Uy(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function nE(u,h,y){u.lanes|=h;var w=u.alternate;w!==null&&(w.lanes|=h),gy(u.return,h,y)}function zy(u,h,y,w,b){var R=u.memoizedState;R===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:y,tailMode:b}:(R.isBackwards=h,R.rendering=null,R.renderingStartTime=0,R.last=w,R.tail=y,R.tailMode=b)}function iE(u,h,y){var w=h.pendingProps,b=w.revealOrder,R=w.tail;if(Ni(u,h,w.children,y),w=dn.current,w&2)w=w&1|2,h.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&nE(u,y,h);else if(u.tag===19)nE(u,y,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}if(qe(dn,w),!(h.mode&1))h.memoizedState=null;else switch(b){case"forwards":for(y=h.child,b=null;y!==null;)u=y.alternate,u!==null&&Ep(u)===null&&(b=y),y=y.sibling;y=b,y===null?(b=h.child,h.child=null):(b=y.sibling,y.sibling=null),zy(h,!1,b,y,R);break;case"backwards":for(y=null,b=h.child,h.child=null;b!==null;){if(u=b.alternate,u!==null&&Ep(u)===null){h.child=b;break}u=b.sibling,b.sibling=y,y=b,b=u}zy(h,!0,y,null,R);break;case"together":zy(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function mo(u,h,y){if(u!==null&&(h.dependencies=u.dependencies),Fc|=h.lanes,!(y&h.childLanes))return null;if(u!==null&&h.child!==u.child)throw Error(o(153));if(h.child!==null){for(u=h.child,y=na(u,u.pendingProps),h.child=y,y.return=h;u.sibling!==null;)u=u.sibling,y=y.sibling=na(u,u.pendingProps),y.return=h;y.sibling=null}return h.child}function tk(u,h,y){switch(h.tag){case 3:Qb(h),Pc();break;case 5:xb(h);break;case 1:Qn(h.type)&&ci(h);break;case 4:by(h,h.stateNode.containerInfo);break;case 10:rb(h,h.type._context,h.memoizedProps.value);break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(qe(dn,dn.current&1),h.flags|=128,null):y&h.child.childLanes?$b(u,h,y):(qe(dn,dn.current&1),u=mo(u,h,y),u!==null?u.sibling:null);qe(dn,dn.current&1);break;case 19:if(w=(y&h.childLanes)!==0,u.flags&128){if(w)return iE(u,h,y);h.flags|=128}var b=h.memoizedState;if(b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),qe(dn,dn.current),w)break;return null;case 22:case 23:return h.lanes=0,qb(u,h,y)}return mo(u,h,y)}function nk(u,h){switch(Ay(h),h.tag){case 1:return Qn(h.type)&&Cn(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Ic(),pt(_n),pt(Tt),Ty(),u=h.flags,u&65536&&!(u&128)?(h.flags=u&-65537|128,h):null;case 5:return Ey(h),null;case 13:if(pt(dn),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Pc()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return pt(dn),null;case 4:return Ic(),null;case 10:return my(h.type._context),null;case 22:case 23:return rx(),null;case 24:return null;default:return null}}var Up=!1,ol=!1,ik=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function zp(u,h){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(w){Zi(u,h,w)}else y.current=null}function Hy(u,h,y){try{y()}catch(w){Zi(u,h,w)}}var rE=!1;function rk(u,h){for(V(u.containerInfo),Ue=h;Ue!==null;)if(u=Ue,h=u.child,(u.subtreeFlags&1028)!==0&&h!==null)h.return=u,Ue=h;else for(;Ue!==null;){u=Ue;try{var y=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,R=u.stateNode,G=R.getSnapshotBeforeUpdate(u.elementType===u.type?w:ns(u.type,w),b);R.__reactInternalSnapshotBeforeUpdate=G}break;case 3:We&&Ie(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch($){Zi(u,u.return,$)}if(h=u.sibling,h!==null){h.return=u.return,Ue=h;break}Ue=u.return}return y=rE,rE=!1,y}function al(u,h,y){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var b=w=w.next;do{if((b.tag&u)===u){var R=b.destroy;b.destroy=void 0,R!==void 0&&Hy(h,y,R)}b=b.next}while(b!==w)}}function Od(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&u)===u){var w=y.create;y.destroy=w()}y=y.next}while(y!==h)}}function Gy(u){var h=u.ref;if(h!==null){var y=u.stateNode;switch(u.tag){case 5:u=Z(y);break;default:u=y}typeof h=="function"?h(u):h.current=u}}function sE(u,h,y){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(mp,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(u=h.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var w=u=u.next;do{var b=w,R=b.destroy;b=b.tag,R!==void 0&&(b&2||b&4)&&Hy(h,y,R),w=w.next}while(w!==u)}break;case 1:if(zp(h,y),u=h.stateNode,typeof u.componentWillUnmount=="function")try{u.props=h.memoizedProps,u.state=h.memoizedState,u.componentWillUnmount()}catch(G){Zi(h,y,G)}break;case 5:zp(h,y);break;case 4:We?dE(u,h,y):X&&X&&(h=h.stateNode.containerInfo,y=ct(h),It(h,y))}}function oE(u,h,y){for(var w=h;;)if(sE(u,w,y),w.child===null||We&&w.tag===4){if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function aE(u){var h=u.alternate;h!==null&&(u.alternate=null,aE(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&$e(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function lE(u){return u.tag===5||u.tag===3||u.tag===4}function cE(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||lE(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function uE(u){if(We){e:{for(var h=u.return;h!==null;){if(lE(h))break e;h=h.return}throw Error(o(160))}var y=h;switch(y.tag){case 5:h=y.stateNode,y.flags&32&&(Ae(h),y.flags&=-33),y=cE(u),jy(u,y,h);break;case 3:case 4:h=y.stateNode.containerInfo,y=cE(u),Vy(u,y,h);break;default:throw Error(o(161))}}}function Vy(u,h,y){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?et(y,u,h):st(y,u);else if(w!==4&&(u=u.child,u!==null))for(Vy(u,h,y),u=u.sibling;u!==null;)Vy(u,h,y),u=u.sibling}function jy(u,h,y){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?lt(y,u,h):ke(y,u);else if(w!==4&&(u=u.child,u!==null))for(jy(u,h,y),u=u.sibling;u!==null;)jy(u,h,y),u=u.sibling}function dE(u,h,y){for(var w=h,b=!1,R,G;;){if(!b){b=w.return;e:for(;;){if(b===null)throw Error(o(160));switch(R=b.stateNode,b.tag){case 5:G=!1;break e;case 3:R=R.containerInfo,G=!0;break e;case 4:R=R.containerInfo,G=!0;break e}b=b.return}b=!0}if(w.tag===5||w.tag===6)oE(u,w,y),G?Y(R,w.stateNode):je(R,w.stateNode);else if(w.tag===18)G?de(R,w.stateNode):pe(R,w.stateNode);else if(w.tag===4){if(w.child!==null){R=w.stateNode.containerInfo,G=!0,w.child.return=w,w=w.child;continue}}else if(sE(u,w,y),w.child!==null){w.child.return=w,w=w.child;continue}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return,w.tag===4&&(b=!1)}w.sibling.return=w.return,w=w.sibling}}function Wy(u,h){if(We){switch(h.tag){case 0:case 11:case 14:case 15:al(3,h,h.return),Od(3,h),al(5,h,h.return);return;case 1:return;case 5:var y=h.stateNode;if(y!=null){var w=h.memoizedProps;u=u!==null?u.memoizedProps:w;var b=h.type,R=h.updateQueue;h.updateQueue=null,R!==null&&yt(y,R,b,u,w,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));y=h.memoizedProps,Me(h.stateNode,u!==null?u.memoizedProps:y,y);return;case 3:be&&u!==null&&u.memoizedState.isDehydrated&&oe(h.stateNode.containerInfo);return;case 12:return;case 13:Hp(h);return;case 19:Hp(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:al(3,h,h.return),Od(3,h),al(5,h,h.return);return;case 12:return;case 13:Hp(h);return;case 19:Hp(h);return;case 3:be&&u!==null&&u.memoizedState.isDehydrated&&oe(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(X){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,It(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function Hp(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new ik),h.forEach(function(w){var b=pk.bind(null,u,w);y.has(w)||(y.add(w),w.then(b,b))})}}function sk(u,h){for(Ue=h;Ue!==null;){h=Ue;var y=h.deletions;if(y!==null)for(var w=0;w<y.length;w++){var b=y[w];try{var R=u;We?dE(R,b,h):oE(R,b,h);var G=b.alternate;G!==null&&(G.return=null),b.return=null}catch(tt){Zi(b,h,tt)}}if(y=h.child,h.subtreeFlags&12854&&y!==null)y.return=h,Ue=y;else for(;Ue!==null;){h=Ue;try{var $=h.flags;if($&32&&We&&Ae(h.stateNode),$&512){var ve=h.alternate;if(ve!==null){var Be=ve.ref;Be!==null&&(typeof Be=="function"?Be(null):Be.current=null)}}if($&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var Ye=h.alternate;(Ye===null||Ye.memoizedState===null)&&(Zy=Zn())}break;case 22:var At=h.memoizedState!==null,ut=h.alternate,Yt=ut!==null&&ut.memoizedState!==null;if(y=h,We){e:if(w=y,b=At,R=null,We)for(var it=w;;){if(it.tag===5){if(R===null){R=it;var Ai=it.stateNode;b?Ve(Ai):Ee(it.stateNode,it.memoizedProps)}}else if(it.tag===6){if(R===null){var Hr=it.stateNode;b?He(Hr):q(Hr,it.memoizedProps)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===w)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===w)break;for(;it.sibling===null;){if(it.return===null||it.return===w)break e;R===it&&(R=null),it=it.return}R===it&&(R=null),it.sibling.return=it.return,it=it.sibling}}if(At&&!Yt&&y.mode&1){Ue=y;for(var le=y.child;le!==null;){for(y=Ue=le;Ue!==null;){w=Ue;var ne=w.child;switch(w.tag){case 0:case 11:case 14:case 15:al(4,w,w.return);break;case 1:zp(w,w.return);var me=w.stateNode;if(typeof me.componentWillUnmount=="function"){var Ge=w.return;try{me.props=w.memoizedProps,me.state=w.memoizedState,me.componentWillUnmount()}catch(tt){Zi(w,Ge,tt)}}break;case 5:zp(w,w.return);break;case 22:if(w.memoizedState!==null){pE(y);continue}}ne!==null?(ne.return=w,Ue=ne):pE(y)}le=le.sibling}}}switch($&4102){case 2:uE(h),h.flags&=-3;break;case 6:uE(h),h.flags&=-3,Wy(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,Wy(h.alternate,h);break;case 4:Wy(h.alternate,h)}}catch(tt){Zi(h,h.return,tt)}if(y=h.sibling,y!==null){y.return=h.return,Ue=y;break}Ue=h.return}}}function ok(u,h,y){Ue=u,hE(u)}function hE(u,h,y){for(var w=(u.mode&1)!==0;Ue!==null;){var b=Ue,R=b.child;if(b.tag===22&&w){var G=b.memoizedState!==null||Up;if(!G){var $=b.alternate,ve=$!==null&&$.memoizedState!==null||ol;$=Up;var Be=ol;if(Up=G,(ol=ve)&&!Be)for(Ue=b;Ue!==null;)G=Ue,ve=G.child,G.tag===22&&G.memoizedState!==null?mE(b):ve!==null?(ve.return=G,Ue=ve):mE(b);for(;R!==null;)Ue=R,hE(R),R=R.sibling;Ue=b,Up=$,ol=Be}fE(u)}else b.subtreeFlags&8772&&R!==null?(R.return=b,Ue=R):fE(u)}}function fE(u){for(;Ue!==null;){var h=Ue;if(h.flags&8772){var y=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:ol||Od(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!ol)if(y===null)w.componentDidMount();else{var b=h.elementType===h.type?y.memoizedProps:ns(h.type,y.memoizedProps);w.componentDidUpdate(b,y.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var R=h.updateQueue;R!==null&&ab(h,R,w);break;case 3:var G=h.updateQueue;if(G!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=Z(h.child.stateNode);break;case 1:y=h.child.stateNode}ab(h,G,y)}break;case 5:var $=h.stateNode;y===null&&h.flags&4&&Pt($,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(be&&h.memoizedState===null){var ve=h.alternate;if(ve!==null){var Be=ve.memoizedState;if(Be!==null){var Ye=Be.dehydrated;Ye!==null&&he(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ol||h.flags&512&&Gy(h)}catch(At){Zi(h,h.return,At)}}if(h===u){Ue=null;break}if(y=h.sibling,y!==null){y.return=h.return,Ue=y;break}Ue=h.return}}function pE(u){for(;Ue!==null;){var h=Ue;if(h===u){Ue=null;break}var y=h.sibling;if(y!==null){y.return=h.return,Ue=y;break}Ue=h.return}}function mE(u){for(;Ue!==null;){var h=Ue;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{Od(4,h)}catch(ve){Zi(h,y,ve)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var b=h.return;try{w.componentDidMount()}catch(ve){Zi(h,b,ve)}}var R=h.return;try{Gy(h)}catch(ve){Zi(h,R,ve)}break;case 5:var G=h.return;try{Gy(h)}catch(ve){Zi(h,G,ve)}}}catch(ve){Zi(h,h.return,ve)}if(h===u){Ue=null;break}var $=h.sibling;if($!==null){$.return=h.return,Ue=$;break}Ue=h.return}}var Gp=0,Vp=1,jp=2,Wp=3,Xp=4;if(typeof Symbol=="function"&&Symbol.for){var kd=Symbol.for;Gp=kd("selector.component"),Vp=kd("selector.has_pseudo_class"),jp=kd("selector.role"),Wp=kd("selector.test_id"),Xp=kd("selector.text")}function Xy(u){var h=_e(u);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(u=O(u),u===null)throw Error(o(362));return u.stateNode.current}function Jy(u,h){switch(h.$$typeof){case Gp:if(u.type===h.value)return!0;break;case Vp:e:{h=h.value,u=[u,0];for(var y=0;y<u.length;){var w=u[y++],b=u[y++],R=h[b];if(w.tag!==5||!te(w)){for(;R!=null&&Jy(w,R);)b++,R=h[b];if(b===h.length){h=!0;break e}else for(w=w.child;w!==null;)u.push(w,b),w=w.sibling}}h=!1}return h;case jp:if(u.tag===5&&ue(u.stateNode,h.value))return!0;break;case Xp:if((u.tag===5||u.tag===6)&&(u=se(u),u!==null&&0<=u.indexOf(h.value)))return!0;break;case Wp:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function qy(u){switch(u.$$typeof){case Gp:return"<"+(B(u.value)||"Unknown")+">";case Vp:return":has("+(qy(u)||"")+")";case jp:return'[role="'+u.value+'"]';case Xp:return'"'+u.value+'"';case Wp:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function gE(u,h){var y=[];u=[u,0];for(var w=0;w<u.length;){var b=u[w++],R=u[w++],G=h[R];if(b.tag!==5||!te(b)){for(;G!=null&&Jy(b,G);)R++,G=h[R];if(R===h.length)y.push(b);else for(b=b.child;b!==null;)u.push(b,R),b=b.sibling}}return y}function Yy(u,h){if(!E)throw Error(o(363));u=Xy(u),u=gE(u,h),h=[],u=Array.from(u);for(var y=0;y<u.length;){var w=u[y++];if(w.tag===5)te(w)||h.push(w.stateNode);else for(w=w.child;w!==null;)u.push(w),w=w.sibling}return h}var ak=Math.ceil,Jp=a.ReactCurrentDispatcher,Ky=a.ReactCurrentOwner,Tn=a.ReactCurrentBatchConfig,Rt=0,Nn=null,Fn=null,ui=0,fr=0,Nc=Kn(0),Vn=0,Ud=null,Fc=0,qp=0,Qy=0,zd=null,Ki=null,Zy=0,$y=1/0;function Oc(){$y=Zn()+500}var Yp=!1,ex=null,Zo=null,Kp=!1,$o=null,Qp=0,Hd=0,tx=null,Zp=-1,$p=0;function Fi(){return Rt&6?Zn():Zp!==-1?Zp:Zp=Zn()}function ea(u){return u.mode&1?Rt&2&&ui!==0?ui&-ui:VO.transition!==null?($p===0&&(u=hp,hp<<=1,!(hp&4194240)&&(hp=64),$p=u),$p):(u=Ht,u!==0?u:ye()):1}function Ur(u,h,y){if(50<Hd)throw Hd=0,tx=null,Error(o(185));var w=em(u,h);return w===null?null:(Md(w,h,y),(!(Rt&2)||w!==Nn)&&(w===Nn&&(!(Rt&2)&&(qp|=h),Vn===4&&ta(w,ui)),Qi(w,y),h===1&&Rt===0&&!(u.mode&1)&&(Oc(),gp&&Fs())),w)}function em(u,h){u.lanes|=h;var y=u.alternate;for(y!==null&&(y.lanes|=h),y=u,u=u.return;u!==null;)u.childLanes|=h,y=u.alternate,y!==null&&(y.childLanes|=h),y=u,u=u.return;return y.tag===3?y.stateNode:null}function Qi(u,h){var y=u.callbackNode;DO(u,h);var w=pp(u,u===Nn?ui:0);if(w===0)y!==null&&nb(y),u.callbackNode=null,u.callbackPriority=0;else if(h=w&-w,u.callbackPriority!==h){if(y!=null&&nb(y),h===1)u.tag===0?GO(yE.bind(null,u)):ib(yE.bind(null,u)),Oe?F(function(){Rt===0&&Fs()}):cy(uy,Fs),y=null;else{switch(tb(w)){case 1:y=uy;break;case 4:y=kO;break;case 16:y=dy;break;case 536870912:y=UO;break;default:y=dy}y=CE(y,vE.bind(null,u))}u.callbackPriority=h,u.callbackNode=y}}function vE(u,h){if(Zp=-1,$p=0,Rt&6)throw Error(o(327));var y=u.callbackNode;if(ul()&&u.callbackNode!==y)return null;var w=pp(u,u===Nn?ui:0);if(w===0)return null;if(w&30||w&u.expiredLanes||h)h=tm(u,w);else{h=w;var b=Rt;Rt|=2;var R=AE();(Nn!==u||ui!==h)&&(Oc(),ll(u,h));do try{uk();break}catch($){_E(u,$)}while(!0);py(),Jp.current=R,Rt=b,Fn!==null?h=0:(Nn=null,ui=0,h=Vn)}if(h!==0){if(h===2&&(b=oy(u),b!==0&&(w=b,h=nx(u,b))),h===1)throw y=Ud,ll(u,0),ta(u,w),Qi(u,Zn()),y;if(h===6)ta(u,w);else{if(b=u.current.alternate,!(w&30)&&!lk(b)&&(h=tm(u,w),h===2&&(R=oy(u),R!==0&&(w=R,h=nx(u,R))),h===1))throw y=Ud,ll(u,0),ta(u,w),Qi(u,Zn()),y;switch(u.finishedWork=b,u.finishedLanes=w,h){case 0:case 1:throw Error(o(345));case 2:cl(u,Ki);break;case 3:if(ta(u,w),(w&130023424)===w&&(h=Zy+500-Zn(),10<h)){if(pp(u,0)!==0)break;if(b=u.suspendedLanes,(b&w)!==w){Fi(),u.pingedLanes|=u.suspendedLanes&b;break}u.timeoutHandle=Le(cl.bind(null,u,Ki),h);break}cl(u,Ki);break;case 4:if(ta(u,w),(w&4194240)===w)break;for(h=u.eventTimes,b=-1;0<w;){var G=31-cr(w);R=1<<G,G=h[G],G>b&&(b=G),w&=~R}if(w=b,w=Zn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*ak(w/1960))-w,10<w){u.timeoutHandle=Le(cl.bind(null,u,Ki),w);break}cl(u,Ki);break;case 5:cl(u,Ki);break;default:throw Error(o(329))}}}return Qi(u,Zn()),u.callbackNode===y?vE.bind(null,u):null}function nx(u,h){var y=zd;return u.current.memoizedState.isDehydrated&&(ll(u,h).flags|=256),u=tm(u,h),u!==2&&(h=Ki,Ki=y,h!==null&&ix(h)),u}function ix(u){Ki===null?Ki=u:Ki.push.apply(Ki,u)}function lk(u){for(var h=u;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var w=0;w<y.length;w++){var b=y[w],R=b.getSnapshot;b=b.value;try{if(!Ns(R(),b))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ta(u,h){for(h&=~Qy,h&=~qp,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var y=31-cr(h),w=1<<y;u[y]=-1,h&=~w}}function yE(u){if(Rt&6)throw Error(o(327));ul();var h=pp(u,0);if(!(h&1))return Qi(u,Zn()),null;var y=tm(u,h);if(u.tag!==0&&y===2){var w=oy(u);w!==0&&(h=w,y=nx(u,w))}if(y===1)throw y=Ud,ll(u,0),ta(u,h),Qi(u,Zn()),y;if(y===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,cl(u,Ki),Qi(u,Zn()),null}function xE(u){$o!==null&&$o.tag===0&&!(Rt&6)&&ul();var h=Rt;Rt|=1;var y=Tn.transition,w=Ht;try{if(Tn.transition=null,Ht=1,u)return u()}finally{Ht=w,Tn.transition=y,Rt=h,!(Rt&6)&&Fs()}}function rx(){fr=Nc.current,pt(Nc)}function ll(u,h){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==ot&&(u.timeoutHandle=ot,rt(y)),Fn!==null)for(y=Fn.return;y!==null;){var w=y;switch(Ay(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Cn();break;case 3:Ic(),pt(_n),pt(Tt),Ty();break;case 5:Ey(w);break;case 4:Ic();break;case 13:pt(dn);break;case 19:pt(dn);break;case 10:my(w.type._context);break;case 22:case 23:rx()}y=y.return}if(Nn=u,Fn=u=na(u.current,null),ui=fr=h,Vn=0,Ud=null,Qy=qp=Fc=0,Ki=zd=null,Os!==null){for(h=0;h<Os.length;h++)if(y=Os[h],w=y.interleaved,w!==null){y.interleaved=null;var b=w.next,R=y.pending;if(R!==null){var G=R.next;R.next=b,w.next=G}y.pending=w}Os=null}return u}function _E(u,h){do{var y=Fn;try{if(py(),Cp.current=Ip,Tp){for(var w=An.memoizedState;w!==null;){var b=w.queue;b!==null&&(b.pending=null),w=w.next}Tp=!1}if(Dc=0,$n=yi=An=null,Pd=!1,Ld=0,Ky.current=null,y===null||y.return===null){Vn=1,Ud=h,Fn=null;break}e:{var R=u,G=y.return,$=y,ve=h;if(h=ui,$.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Be=ve,Ye=$,At=Ye.tag;if(!(Ye.mode&1)&&(At===0||At===11||At===15)){var ut=Ye.alternate;ut?(Ye.updateQueue=ut.updateQueue,Ye.memoizedState=ut.memoizedState,Ye.lanes=ut.lanes):(Ye.updateQueue=null,Ye.memoizedState=null)}var Yt=Hb(G);if(Yt!==null){Yt.flags&=-257,Gb(Yt,G,$,R,h),Yt.mode&1&&zb(R,Be,h),h=Yt,ve=Be;var it=h.updateQueue;if(it===null){var Ai=new Set;Ai.add(ve),h.updateQueue=Ai}else it.add(ve);break e}else{if(!(h&1)){zb(R,Be,h),sx();break e}ve=Error(o(426))}}else if(on&&$.mode&1){var Hr=Hb(G);if(Hr!==null){!(Hr.flags&65536)&&(Hr.flags|=256),Gb(Hr,G,$,R,h),My(ve);break e}}R=ve,Vn!==4&&(Vn=2),zd===null?zd=[R]:zd.push(R),ve=Ny(ve,$),$=G;do{switch($.tag){case 3:$.flags|=65536,h&=-h,$.lanes|=h;var le=kb($,ve,h);ob($,le);break e;case 1:R=ve;var ne=$.type,me=$.stateNode;if(!($.flags&128)&&(typeof ne.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(Zo===null||!Zo.has(me)))){$.flags|=65536,h&=-h,$.lanes|=h;var Ge=Ub($,R,h);ob($,Ge);break e}}$=$.return}while($!==null)}wE(y)}catch(tt){h=tt,Fn===y&&y!==null&&(Fn=y=y.return);continue}break}while(!0)}function AE(){var u=Jp.current;return Jp.current=Ip,u===null?Ip:u}function sx(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),Nn===null||!(Fc&268435455)&&!(qp&268435455)||ta(Nn,ui)}function tm(u,h){var y=Rt;Rt|=2;var w=AE();Nn===u&&ui===h||ll(u,h);do try{ck();break}catch(b){_E(u,b)}while(!0);if(py(),Rt=y,Jp.current=w,Fn!==null)throw Error(o(261));return Nn=null,ui=0,Vn}function ck(){for(;Fn!==null;)SE(Fn)}function uk(){for(;Fn!==null&&!FO();)SE(Fn)}function SE(u){var h=EE(u.alternate,u,fr);u.memoizedProps=u.pendingProps,h===null?wE(u):Fn=h,Ky.current=null}function wE(u){var h=u;do{var y=h.alternate;if(u=h.return,h.flags&32768){if(y=nk(y,h),y!==null){y.flags&=32767,Fn=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Vn=6,Fn=null;return}}else if(y=$O(y,h,fr),y!==null){Fn=y;return}if(h=h.sibling,h!==null){Fn=h;return}Fn=h=u}while(h!==null);Vn===0&&(Vn=5)}function cl(u,h){var y=Ht,w=Tn.transition;try{Tn.transition=null,Ht=1,dk(u,h,y)}finally{Tn.transition=w,Ht=y}return null}function dk(u,h,y){do ul();while($o!==null);if(Rt&6)throw Error(o(327));var w=u.finishedWork,b=u.finishedLanes;if(w===null)return null;if(u.finishedWork=null,u.finishedLanes=0,w===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var R=w.lanes|w.childLanes;if(NO(u,R),u===Nn&&(Fn=Nn=null,ui=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||Kp||(Kp=!0,CE(dy,function(){return ul(),null})),R=(w.flags&15990)!==0,w.subtreeFlags&15990||R){R=Tn.transition,Tn.transition=null;var G=Ht;Ht=1;var $=Rt;Rt|=4,Ky.current=null,rk(u,w),sk(u,w),j(u.containerInfo),u.current=w,ok(w),OO(),Rt=$,Ht=G,Tn.transition=R}else u.current=w;if(Kp&&(Kp=!1,$o=u,Qp=b),R=u.pendingLanes,R===0&&(Zo=null),zO(w.stateNode),Qi(u,Zn()),h!==null)for(y=u.onRecoverableError,w=0;w<h.length;w++)y(h[w]);if(Yp)throw Yp=!1,u=ex,ex=null,u;return Qp&1&&u.tag!==0&&ul(),R=u.pendingLanes,R&1?u===tx?Hd++:(Hd=0,tx=u):Hd=0,Fs(),null}function ul(){if($o!==null){var u=tb(Qp),h=Tn.transition,y=Ht;try{if(Tn.transition=null,Ht=16>u?16:u,$o===null)var w=!1;else{if(u=$o,$o=null,Qp=0,Rt&6)throw Error(o(331));var b=Rt;for(Rt|=4,Ue=u.current;Ue!==null;){var R=Ue,G=R.child;if(Ue.flags&16){var $=R.deletions;if($!==null){for(var ve=0;ve<$.length;ve++){var Be=$[ve];for(Ue=Be;Ue!==null;){var Ye=Ue;switch(Ye.tag){case 0:case 11:case 15:al(8,Ye,R)}var At=Ye.child;if(At!==null)At.return=Ye,Ue=At;else for(;Ue!==null;){Ye=Ue;var ut=Ye.sibling,Yt=Ye.return;if(aE(Ye),Ye===Be){Ue=null;break}if(ut!==null){ut.return=Yt,Ue=ut;break}Ue=Yt}}}var it=R.alternate;if(it!==null){var Ai=it.child;if(Ai!==null){it.child=null;do{var Hr=Ai.sibling;Ai.sibling=null,Ai=Hr}while(Ai!==null)}}Ue=R}}if(R.subtreeFlags&2064&&G!==null)G.return=R,Ue=G;else e:for(;Ue!==null;){if(R=Ue,R.flags&2048)switch(R.tag){case 0:case 11:case 15:al(9,R,R.return)}var le=R.sibling;if(le!==null){le.return=R.return,Ue=le;break e}Ue=R.return}}var ne=u.current;for(Ue=ne;Ue!==null;){G=Ue;var me=G.child;if(G.subtreeFlags&2064&&me!==null)me.return=G,Ue=me;else e:for(G=ne;Ue!==null;){if($=Ue,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:Od(9,$)}}catch(tt){Zi($,$.return,tt)}if($===G){Ue=null;break e}var Ge=$.sibling;if(Ge!==null){Ge.return=$.return,Ue=Ge;break e}Ue=$.return}}if(Rt=b,Fs(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(mp,u)}catch{}w=!0}return w}finally{Ht=y,Tn.transition=h}}return!1}function ME(u,h,y){h=Ny(y,h),h=kb(u,h,1),Qo(u,h),h=Fi(),u=em(u,1),u!==null&&(Md(u,1,h),Qi(u,h))}function Zi(u,h,y){if(u.tag===3)ME(u,u,y);else for(;h!==null;){if(h.tag===3){ME(h,u,y);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Zo===null||!Zo.has(w))){u=Ny(y,u),u=Ub(h,u,1),Qo(h,u),u=Fi(),h=em(h,1),h!==null&&(Md(h,1,u),Qi(h,u));break}}h=h.return}}function hk(u,h,y){var w=u.pingCache;w!==null&&w.delete(h),h=Fi(),u.pingedLanes|=u.suspendedLanes&y,Nn===u&&(ui&y)===y&&(Vn===4||Vn===3&&(ui&130023424)===ui&&500>Zn()-Zy?ll(u,0):Qy|=y),Qi(u,h)}function bE(u,h){h===0&&(u.mode&1?(h=fp,fp<<=1,!(fp&130023424)&&(fp=4194304)):h=1);var y=Fi();u=em(u,h),u!==null&&(Md(u,h,y),Qi(u,y))}function fk(u){var h=u.memoizedState,y=0;h!==null&&(y=h.retryLane),bE(u,y)}function pk(u,h){var y=0;switch(u.tag){case 13:var w=u.stateNode,b=u.memoizedState;b!==null&&(y=b.retryLane);break;case 19:w=u.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(h),bE(u,y)}var EE;EE=function(u,h,y){if(u!==null)if(u.memoizedProps!==h.pendingProps||_n.current)hr=!0;else{if(!(u.lanes&y)&&!(h.flags&128))return hr=!1,tk(u,h,y);hr=!!(u.flags&131072)}else hr=!1,on&&h.flags&1048576&&hb(h,Mp,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2),u=h.pendingProps;var b=Ir(h,Tt.current);Cc(h,y),b=Py(null,h,w,u,b,y);var R=Ly();return h.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Qn(w)?(R=!0,ci(h)):R=!1,h.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,vy(h),b.updater=Sp,h.stateNode=b,b._reactInternals=h,xy(h,w,u,y),h=ky(null,h,w,!0,R,y)):(h.tag=0,on&&R&&_y(h),Ni(null,h,b,y),h=h.child),h;case 16:w=h.elementType;e:{switch(u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2),u=h.pendingProps,b=w._init,w=b(w._payload),h.type=w,b=h.tag=gk(w),u=ns(w,u),b){case 0:h=Oy(null,h,w,u,y);break e;case 1:h=Kb(null,h,w,u,y);break e;case 11:h=Wb(null,h,w,u,y);break e;case 14:h=Xb(null,h,w,ns(w.type,u),y);break e}throw Error(o(306,w,""))}return h;case 0:return w=h.type,b=h.pendingProps,b=h.elementType===w?b:ns(w,b),Oy(u,h,w,b,y);case 1:return w=h.type,b=h.pendingProps,b=h.elementType===w?b:ns(w,b),Kb(u,h,w,b,y);case 3:e:{if(Qb(h),u===null)throw Error(o(387));w=h.pendingProps,R=h.memoizedState,b=R.element,sb(u,h),Ap(h,w,null,y);var G=h.memoizedState;if(w=G.element,be&&R.isDehydrated)if(R={element:w,isDehydrated:!1,cache:G.cache,transitions:G.transitions},h.updateQueue.baseState=R,h.memoizedState=R,h.flags&256){b=Error(o(423)),h=Zb(u,h,w,y,b);break e}else if(w!==b){b=Error(o(424)),h=Zb(u,h,w,y,b);break e}else for(be&&(dr=cp(h.stateNode.containerInfo),ur=h,on=!0,is=null,bd=!1),y=yb(h,null,w,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Pc(),w===b){h=mo(u,h,y);break e}Ni(u,h,w,y)}h=h.child}return h;case 5:return xb(h),u===null&&wy(h),w=h.type,b=h.pendingProps,R=u!==null?u.memoizedProps:null,G=b.children,we(w,b)?G=null:R!==null&&we(w,R)&&(h.flags|=32),Yb(u,h),Ni(u,h,G,y),h.child;case 6:return u===null&&wy(h),null;case 13:return $b(u,h,y);case 4:return by(h,h.stateNode.containerInfo),w=h.pendingProps,u===null?h.child=Lc(h,null,w,y):Ni(u,h,w,y),h.child;case 11:return w=h.type,b=h.pendingProps,b=h.elementType===w?b:ns(w,b),Wb(u,h,w,b,y);case 7:return Ni(u,h,h.pendingProps,y),h.child;case 8:return Ni(u,h,h.pendingProps.children,y),h.child;case 12:return Ni(u,h,h.pendingProps.children,y),h.child;case 10:e:{if(w=h.type._context,b=h.pendingProps,R=h.memoizedProps,G=b.value,rb(h,w,G),R!==null)if(Ns(R.value,G)){if(R.children===b.children&&!_n.current){h=mo(u,h,y);break e}}else for(R=h.child,R!==null&&(R.return=h);R!==null;){var $=R.dependencies;if($!==null){G=R.child;for(var ve=$.firstContext;ve!==null;){if(ve.context===w){if(R.tag===1){ve=uo(-1,y&-y),ve.tag=2;var Be=R.updateQueue;if(Be!==null){Be=Be.shared;var Ye=Be.pending;Ye===null?ve.next=ve:(ve.next=Ye.next,Ye.next=ve),Be.pending=ve}}R.lanes|=y,ve=R.alternate,ve!==null&&(ve.lanes|=y),gy(R.return,y,h),$.lanes|=y;break}ve=ve.next}}else if(R.tag===10)G=R.type===h.type?null:R.child;else if(R.tag===18){if(G=R.return,G===null)throw Error(o(341));G.lanes|=y,$=G.alternate,$!==null&&($.lanes|=y),gy(G,y,h),G=R.sibling}else G=R.child;if(G!==null)G.return=R;else for(G=R;G!==null;){if(G===h){G=null;break}if(R=G.sibling,R!==null){R.return=G.return,G=R;break}G=G.return}R=G}Ni(u,h,b.children,y),h=h.child}return h;case 9:return b=h.type,w=h.pendingProps.children,Cc(h,y),b=Dr(b),w=w(b),h.flags|=1,Ni(u,h,w,y),h.child;case 14:return w=h.type,b=ns(w,h.pendingProps),b=ns(w.type,b),Xb(u,h,w,b,y);case 15:return Jb(u,h,h.type,h.pendingProps,y);case 17:return w=h.type,b=h.pendingProps,b=h.elementType===w?b:ns(w,b),u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,Qn(w)?(u=!0,ci(h)):u=!1,Cc(h,y),ub(h,w,b),xy(h,w,b,y),ky(null,h,w,!0,u,y);case 19:return iE(u,h,y);case 22:return qb(u,h,y)}throw Error(o(156,h.tag))};function CE(u,h){return cy(u,h)}function mk(u,h,y,w){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(u,h,y,w){return new mk(u,h,y,w)}function ox(u){return u=u.prototype,!(!u||!u.isReactComponent)}function gk(u){if(typeof u=="function")return ox(u)?1:0;if(u!=null){if(u=u.$$typeof,u===x)return 11;if(u===_)return 14}return 2}function na(u,h){var y=u.alternate;return y===null?(y=zr(u.tag,h,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=h,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,h=u.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function nm(u,h,y,w,b,R){var G=2;if(w=u,typeof u=="function")ox(u)&&(G=1);else if(typeof u=="string")G=5;else e:switch(u){case d:return dl(y.children,b,R,h);case f:G=8,b|=8;break;case p:return u=zr(12,y,h,b|2),u.elementType=p,u.lanes=R,u;case A:return u=zr(13,y,h,b),u.elementType=A,u.lanes=R,u;case g:return u=zr(19,y,h,b),u.elementType=g,u.lanes=R,u;case M:return im(y,b,R,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:G=10;break e;case v:G=9;break e;case x:G=11;break e;case _:G=14;break e;case S:G=16,w=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return h=zr(G,y,h,b),h.elementType=u,h.type=w,h.lanes=R,h}function dl(u,h,y,w){return u=zr(7,u,w,h),u.lanes=y,u}function im(u,h,y,w){return u=zr(22,u,w,h),u.elementType=M,u.lanes=y,u.stateNode={},u}function ax(u,h,y){return u=zr(6,u,null,h),u.lanes=y,u}function lx(u,h,y){return h=zr(4,u.children!==null?u.children:[],u.key,h),h.lanes=y,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function vk(u,h,y,w,b){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ot,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ay(0),this.expirationTimes=ay(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ay(0),this.identifierPrefix=w,this.onRecoverableError=b,be&&(this.mutableSourceEagerHydrationData=null)}function TE(u,h,y,w,b,R,G,$,ve){return u=new vk(u,h,y,$,ve),h===1?(h=1,R===!0&&(h|=8)):h=0,R=zr(3,null,null,h),u.current=R,R.stateNode=u,R.memoizedState={element:w,isDehydrated:y,cache:null,transitions:null},vy(R),u}function RE(u){if(!u)return Br;u=u._reactInternals;e:{if(L(u)!==u||u.tag!==1)throw Error(o(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Qn(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(u.tag===1){var y=u.type;if(Qn(y))return Mc(u,y,h)}return h}function PE(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=W(h),u===null?null:u.stateNode}function LE(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<h?y:h}}function cx(u,h){LE(u,h),(u=u.alternate)&&LE(u,h)}function yk(u){return u=W(u),u===null?null:u.stateNode}function xk(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var h=Fi();Ur(u,134217728,h),cx(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var h=Fi(),y=ea(u);Ur(u,y,h),cx(u,y)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var y=wd(h.pendingLanes);y!==0&&(ly(h,y|1),Qi(h,Zn()),!(Rt&6)&&(Oc(),Fs()))}break;case 13:var w=Fi();xE(function(){return Ur(u,1,w)}),cx(u,1)}},t.batchedUpdates=function(u,h){var y=Rt;Rt|=1;try{return u(h)}finally{Rt=y,Rt===0&&(Oc(),gp&&Fs())}},t.createComponentSelector=function(u){return{$$typeof:Gp,value:u}},t.createContainer=function(u,h,y,w,b,R,G){return TE(u,h,!1,null,y,w,b,R,G)},t.createHasPseudoClassSelector=function(u){return{$$typeof:Vp,value:u}},t.createHydrationContainer=function(u,h,y,w,b,R,G,$,ve){return u=TE(y,w,!0,u,b,R,G,$,ve),u.context=RE(null),y=u.current,w=Fi(),b=ea(y),R=uo(w,b),R.callback=h??null,Qo(y,R),u.current.lanes=b,Md(u,b,w),Qi(u,w),u},t.createPortal=function(u,h,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:u,containerInfo:h,implementation:y}},t.createRoleSelector=function(u){return{$$typeof:jp,value:u}},t.createTestNameSelector=function(u){return{$$typeof:Wp,value:u}},t.createTextSelector=function(u){return{$$typeof:Xp,value:u}},t.deferredUpdates=function(u){var h=Ht,y=Tn.transition;try{return Tn.transition=null,Ht=16,u()}finally{Ht=h,Tn.transition=y}},t.discreteUpdates=function(u,h,y,w,b){var R=Ht,G=Tn.transition;try{return Tn.transition=null,Ht=1,u(h,y,w,b)}finally{Ht=R,Tn.transition=G,Rt===0&&Oc()}},t.findAllNodes=Yy,t.findBoundingRects=function(u,h){if(!E)throw Error(o(363));h=Yy(u,h),u=[];for(var y=0;y<h.length;y++)u.push(J(h[y]));for(h=u.length-1;0<h;h--){y=u[h];for(var w=y.x,b=w+y.width,R=y.y,G=R+y.height,$=h-1;0<=$;$--)if(h!==$){var ve=u[$],Be=ve.x,Ye=Be+ve.width,At=ve.y,ut=At+ve.height;if(w>=Be&&R>=At&&b<=Ye&&G<=ut){u.splice(h,1);break}else if(w!==Be||y.width!==ve.width||ut<R||At>G){if(!(R!==At||y.height!==ve.height||Ye<w||Be>b)){Be>w&&(ve.width+=Be-w,ve.x=w),Ye<b&&(ve.width=b-Be),u.splice(h,1);break}}else{At>R&&(ve.height+=At-R,ve.y=R),ut<G&&(ve.height=G-At),u.splice(h,1);break}}}return u},t.findHostInstance=PE,t.findHostInstanceWithNoPortals=function(u){return u=H(u),u=u!==null?z(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return PE(u)},t.flushControlled=function(u){var h=Rt;Rt|=1;var y=Tn.transition,w=Ht;try{Tn.transition=null,Ht=1,u()}finally{Ht=w,Tn.transition=y,Rt=h,Rt===0&&(Oc(),Fs())}},t.flushPassiveEffects=ul,t.flushSync=xE,t.focusWithin=function(u,h){if(!E)throw Error(o(363));for(u=Xy(u),h=gE(u,h),h=Array.from(h),u=0;u<h.length;){var y=h[u++];if(!te(y)){if(y.tag===5&&ge(y.stateNode))return!0;for(y=y.child;y!==null;)h.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ht},t.getFindAllNodesFailureDescription=function(u,h){if(!E)throw Error(o(363));var y=0,w=[];u=[Xy(u),0];for(var b=0;b<u.length;){var R=u[b++],G=u[b++],$=h[G];if((R.tag!==5||!te(R))&&(Jy(R,$)&&(w.push(qy($)),G++,G>y&&(y=G)),G<h.length))for(R=R.child;R!==null;)u.push(R,G),R=R.sibling}if(y<h.length){for(u=[];y<h.length;y++)u.push(qy(h[y]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return Z(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:yk,findFiberByHostInstance:u.findFiberByHostInstance||xk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)u=!0;else{try{mp=h.inject(u),Ds=h}catch{}u=!!h.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,h,y,w){if(!E)throw Error(o(363));u=Yy(u,h);var b=Te(u,y,w).disconnect;return{disconnect:function(){b()}}},t.registerMutableSourceForHydration=function(u,h){var y=h._getVersion;y=y(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,y]:u.mutableSourceEagerHydrationData.push(h,y)},t.runWithPriority=function(u,h){var y=Ht;try{return Ht=u,h()}finally{Ht=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,h,y,w){var b=h.current,R=Fi(),G=ea(b);return y=RE(y),h.context===null?h.context=y:h.pendingContext=y,h=uo(R,G),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),Qo(b,h),u=Ur(b,G,R),u!==null&&_p(u,b,G),G},t};sO.exports=See;var wee=sO.exports;const Mee=Q0(wee);var oO={exports:{}},aO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,V){var j=N.length;N.push(V);e:for(;0<j;){var K=j-1>>>1,ie=N[K];if(0<r(ie,V))N[K]=V,N[j]=ie,j=K;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var V=N[0],j=N.pop();if(j!==V){N[0]=j;e:for(var K=0,ie=N.length,re=ie>>>1;K<re;){var fe=2*(K+1)-1,we=N[fe],Ce=fe+1,Le=N[Ce];if(0>r(we,j))Ce<ie&&0>r(Le,we)?(N[K]=Le,N[Ce]=j,K=Ce):(N[K]=we,N[fe]=j,K=fe);else if(Ce<ie&&0>r(Le,j))N[K]=Le,N[Ce]=j,K=Ce;else break e}}return V}function r(N,V){var j=N.sortIndex-V.sortIndex;return j!==0?j:N.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,m=!1,v=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(N){for(var V=t(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=N)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(c)}}function M(N){if(x=!1,S(N),!v)if(t(l)!==null)v=!0,Z(T);else{var V=t(c);V!==null&&ce(M,V.startTime-N)}}function T(N,V){v=!1,x&&(x=!1,g(D),D=-1),m=!0;var j=p;try{for(S(V),f=t(l);f!==null&&(!(f.expirationTime>V)||N&&!H());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var ie=K(f.expirationTime<=V);V=n.unstable_now(),typeof ie=="function"?f.callback=ie:f===t(l)&&i(l),S(V)}else i(l);f=t(l)}if(f!==null)var re=!0;else{var fe=t(c);fe!==null&&ce(M,fe.startTime-V),re=!1}return re}finally{f=null,p=j,m=!1}}var P=!1,B=null,D=-1,L=5,I=-1;function H(){return!(n.unstable_now()-I<L)}function W(){if(B!==null){var N=n.unstable_now();I=N;var V=!0;try{V=B(!0,N)}finally{V?ee():(P=!1,B=null)}}else P=!1}var ee;if(typeof _=="function")ee=function(){_(W)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=W,ee=function(){Q.postMessage(null)}}else ee=function(){A(W,0)};function Z(N){B=N,P||(P=!0,ee())}function ce(N,V){D=A(function(){N(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,Z(T))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var j=p;p=V;try{return N()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=p;p=N;try{return V()}finally{p=j}},n.unstable_scheduleCallback=function(N,V,j){var K=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?K+j:K):j=K,N){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=j+ie,N={id:d++,callback:V,priorityLevel:N,startTime:j,expirationTime:ie,sortIndex:-1},j>K?(N.sortIndex=j,e(c,N),t(l)===null&&N===t(c)&&(x?(g(D),D=-1):x=!0,ce(M,j-K))):(N.sortIndex=ie,e(l,N),v||m||(v=!0,Z(T))),N},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(N){var V=p;return function(){var j=p;p=V;try{return N.apply(this,arguments)}finally{p=j}}}})(aO);oO.exports=aO;var AP=oO.exports;const bee=n=>typeof n=="object"&&typeof n.then=="function",Xl=[];function lO(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function cO(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of Xl)if(lO(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Xl.indexOf(r);s!==-1&&Xl.splice(s,1)},promise:(bee(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Xl.push(r),!t)throw r.promise}const Eee=(n,e,t)=>cO(n,e,!1,t),Cee=(n,e,t)=>void cO(n,e,!0,t),Tee=n=>{if(n===void 0||n.length===0)Xl.splice(0,Xl.length);else{const e=Xl.find(t=>lO(n,t.keys,t.equal));e&&e.remove()}},ZM={},Ree=n=>void Object.assign(ZM,n);function Pee(n,e){function t(d,{args:f=[],attach:p,...m},v){let x=`${d[0].toUpperCase()}${d.slice(1)}`,A;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;A=du(g,{type:d,root:v,attach:p,primitive:!0})}else{const g=ZM[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");A=du(new g(...f),{type:d,root:v,attach:p,memoizedProps:{args:f}})}return A.__r3f.attach===void 0&&(A instanceof wt?A.__r3f.attach="geometry":A instanceof Hn&&(A.__r3f.attach="material")),x!=="inject"&&e1(A,m),A}function i(d,f){let p=!1;if(f){var m,v;(m=f.__r3f)!=null&&m.attach?$_(d,f,f.__r3f.attach):f.isObject3D&&d.isObject3D&&(d.add(f),p=!0),p||(v=d.__r3f)==null||v.objects.push(f),f.__r3f||du(f,{}),f.__r3f.parent=d,xS(f),hu(f)}}function r(d,f,p){let m=!1;if(f){var v,x;if((v=f.__r3f)!=null&&v.attach)$_(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){f.parent=d,f.dispatchEvent({type:"added"});const A=d.children.filter(_=>_!==f),g=A.indexOf(p);d.children=[...A.slice(0,g),f,...A.slice(g)],m=!0}m||(x=d.__r3f)==null||x.objects.push(f),f.__r3f||du(f,{}),f.__r3f.parent=d,xS(f),hu(f)}}function s(d,f,p=!1){d&&[...d].forEach(m=>o(f,m,p))}function o(d,f,p){if(f){var m,v,x;if(f.__r3f&&(f.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(M=>M!==f)),(v=f.__r3f)!=null&&v.attach)EP(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){var A;d.remove(f),(A=f.__r3f)!=null&&A.root&&Uee(f.__r3f.root,f)}const _=(x=f.__r3f)==null?void 0:x.primitive,S=!_&&(p===void 0?f.dispose!==null:p);if(!_){var g;s((g=f.__r3f)==null?void 0:g.objects,f,S),s(f.children,f,S)}if(delete f.__r3f,S&&f.dispose&&f.type!=="Scene"){const M=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?AP.unstable_scheduleCallback(AP.unstable_IdlePriority,M):M()}hu(d)}}function a(d,f,p,m){var v;const x=(v=d.__r3f)==null?void 0:v.parent;if(!x)return;const A=t(f,p,d.__r3f.root);if(d.children){for(const g of d.children)g.__r3f&&i(A,g);d.children=d.children.filter(g=>!g.__r3f)}d.__r3f.objects.forEach(g=>i(A,g)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(x,d),A.parent&&(A.__r3f.autoRemovedBeforeAppend=!0),i(x,A),A.raycast&&A.__r3f.eventCount&&A.__r3f.root.getState().internal.interaction.push(A),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=A,g.ref&&(typeof g.ref=="function"?g.ref(A):g.ref.current=A))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Mee({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,f)=>{if(!f)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,f))},removeChildFromContainer:(d,f)=>{f&&o(d.getState().scene,f)},insertInContainerBefore:(d,f,p)=>{if(!f||!p)return;const m=d.getState().scene;m.__r3f&&r(m,f,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var f;return!!((f=d==null?void 0:d.__r3f)!=null?f:{}).handlers},prepareUpdate(d,f,p,m){var v;if(((v=d==null?void 0:d.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==d)return[!0];{const{args:A=[],children:g,..._}=m,{args:S=[],children:M,...T}=p;if(!Array.isArray(A))throw new Error("R3F: the args prop must be an array!");if(A.some((B,D)=>B!==S[D]))return[!0];const P=gO(d,_,T,!0);return P.changes.length?[!1,P]:null}},commitUpdate(d,[f,p],m,v,x,A){f?a(d,m,x,A):e1(d,p)},commitMount(d,f,p,m){var v;const x=(v=d.__r3f)!=null?v:{};d.raycast&&x.handlers&&x.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>du(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var f;const{attach:p,parent:m}=(f=d.__r3f)!=null?f:{};p&&m&&EP(m,d,p),d.isObject3D&&(d.visible=!1),hu(d)},unhideInstance(d,f){var p;const{attach:m,parent:v}=(p=d.__r3f)!=null?p:{};m&&v&&$_(v,d,m),(d.isObject3D&&f.visible==null||f.visible)&&(d.visible=!0),hu(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Nu.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&en.fun(performance.now)?performance.now:en.fun(Date.now)?Date.now:()=>0,scheduleTimeout:en.fun(setTimeout)?setTimeout:void 0,cancelTimeout:en.fun(clearTimeout)?clearTimeout:void 0}),applyProps:e1}}var SP,wP;const Z_=n=>"colorSpace"in n||"outputColorSpace"in n,uO=()=>{var n;return(n=ZM.ColorManagement)!=null?n:null},dO=n=>n&&n.isOrthographicCamera,Lee=n=>n&&n.hasOwnProperty("current"),op=typeof window<"u"&&((SP=window.document)!=null&&SP.createElement||((wP=window.navigator)==null?void 0:wP.product)==="ReactNative")?ae.useLayoutEffect:ae.useEffect;function hO(n){const e=ae.useRef(n);return op(()=>void(e.current=n),[n]),e}function Bee({set:n}){return op(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class fO extends ae.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}fO.getDerivedStateFromError=()=>({error:!0});const pO="__default",MP=new Map,Iee=n=>n&&!!n.memoized&&!!n.changes;function mO(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const hh=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},en={obj:n=>n===Object(n)&&!en.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(en.str(n)||en.num(n))return n===e;const s=en.obj(n);if(s&&i==="reference")return n===e;const o=en.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!en.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(en.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Dee(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Nee(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function du(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function yS(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const bP=/-\d+$/;function $_(n,e,t){if(en.str(t)){if(bP.test(t)){const s=t.replace(bP,""),{target:o,key:a}=yS(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=yS(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function EP(n,e,t){var i,r;if(en.str(t)){const{target:s,key:o}=yS(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function gO(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){var d;const f=(d=n==null?void 0:n.__r3f)!=null?d:{},p=Object.entries(r),m=[];if(c){const x=Object.keys(l);for(let A=0;A<x.length;A++)r.hasOwnProperty(x[A])||p.unshift([x[A],pO+"remove"])}p.forEach(([x,A])=>{var g;if((g=n.__r3f)!=null&&g.primitive&&x==="object"||en.equ(A,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return m.push([x,A,!0,[]]);let _=[];x.includes("-")&&(_=x.split("-")),m.push([x,A,!1,_]);for(const S in r){const M=r[S];S.startsWith(`${x}-`)&&m.push([S,M,!1,S.split("-")])}});const v={...r};return f.memoizedProps&&f.memoizedProps.args&&(v.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(v.attach=f.memoizedProps.attach),{memoized:v,changes:m}}const Fee=typeof process<"u"&&!1;function e1(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:c}=Iee(e)?e:gO(n,e),d=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,v,x,A]=c[p];if(Z_(n)){const M="srgb",T="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?M:T):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?M:T)}let g=n,_=g[m];if(A.length&&(_=A.reduce((S,M)=>S[M],n),!(_&&_.set))){const[S,...M]=A.reverse();g=M.reverse().reduce((T,P)=>T[P],n),m=S}if(v===pO+"remove")if(g.constructor){let S=MP.get(g.constructor);S||(S=new g.constructor,MP.set(g.constructor,S)),v=S[m]}else v=0;if(x)v?s.handlers[m]=v:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Zl)){if(Array.isArray(v))_.fromArray?_.fromArray(v):_.set(...v);else if(_.copy&&v&&v.constructor&&(Fee?_.constructor.name===v.constructor.name:_.constructor===v.constructor))_.copy(v);else if(v!==void 0){const S=_ instanceof Fe;!S&&_.setScalar?_.setScalar(v):_ instanceof Zl&&v instanceof Zl?_.mask=v.mask:_.set(v),!uO()&&!a.linear&&S&&_.convertSRGBToLinear()}}else if(g[m]=v,g[m]instanceof cn&&g[m].format===Vi&&g[m].type===Qs){const S=g[m];Z_(S)&&Z_(a.gl)?S.colorSpace=a.gl.outputColorSpace:S.encoding=a.gl.outputEncoding}hu(n)}if(s.parent&&a.internal&&n.raycast&&d!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(r=n.__r3f)!=null&&r.parent&&xS(n),n}function hu(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function xS(n){n.onUpdate==null||n.onUpdate(n)}function Oee(n,e){n.manual||(dO(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function wg(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function kee(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Nu.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Nu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Nu.ContinuousEventPriority;default:return Nu.DefaultEventPriority}}function vO(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Uee(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{vO(t.capturedMap,e,i,r)})}function zee(n){function e(l){const{internal:c}=n.getState(),d=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+d]}))}function i(l,c){const d=n.getState(),f=new Set,p=[],m=c?c(d.internal.interaction):d.internal.interaction;for(let g=0;g<m.length;g++){const _=hh(m[g]);_&&(_.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function v(g){const _=hh(g);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(l,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(v).sort((g,_)=>{const S=hh(g.object),M=hh(_.object);return!S||!M?g.distance-_.distance:M.events.priority-S.events.priority||g.distance-_.distance}).filter(g=>{const _=wg(g);return f.has(_)?!1:(f.add(_),!0)});d.events.filter&&(x=d.events.filter(x,d));for(const g of x){let _=g.object;for(;_;){var A;(A=_.__r3f)!=null&&A.eventCount&&p.push({...g,eventObject:_}),_=_.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let g of d.internal.capturedMap.get(l.pointerId).values())f.has(wg(g.intersection))||p.push(g.intersection);return p}function r(l,c,d,f){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const x=hh(v.object)||p,{raycaster:A,pointer:g,camera:_,internal:S}=x,M=new U(g.x,g.y,0).unproject(_),T=I=>{var H,W;return(H=(W=S.capturedMap.get(I))==null?void 0:W.has(v.eventObject))!=null?H:!1},P=I=>{const H={intersection:v,target:c.target};S.capturedMap.has(I)?S.capturedMap.get(I).set(v.eventObject,H):S.capturedMap.set(I,new Map([[v.eventObject,H]])),c.target.setPointerCapture(I)},B=I=>{const H=S.capturedMap.get(I);H&&vO(S.capturedMap,v.eventObject,H,I)};let D={};for(let I in c){let H=c[I];typeof H!="function"&&(D[I]=H)}let L={...v,...D,pointer:g,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:M,ray:A.ray,camera:_,stopPropagation(){const I="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!I||I.has(v.eventObject))&&(L.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(H=>H.eventObject===v.eventObject))){const H=l.slice(0,l.indexOf(v));s([...H,v])}},target:{hasPointerCapture:T,setPointerCapture:P,releasePointerCapture:B},currentTarget:{hasPointerCapture:T,setPointerCapture:P,releasePointerCapture:B},nativeEvent:c};if(f(L),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const d of c.hovered.values())if(!l.length||!l.find(f=>f.object===d.object&&f.index===d.index&&f.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(wg(d)),p!=null&&p.eventCount){const v={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let d=0;d<c.length;d++){const f=c[d].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=n.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))})}}return function(d){const{onPointerMissed:f,internal:p}=n.getState();p.lastEvent.current=d;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",A=i(d,m?t:void 0),g=v?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=A.map(S=>S.eventObject)),v&&!A.length&&g<=2&&(o(d,p.interaction),f&&f(d)),m&&s(A);function _(S){const M=S.eventObject,T=M.__r3f,P=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const B=wg(S),D=p.hovered.get(B);D?D.stopped&&S.stopPropagation():(p.hovered.set(B,S),P.onPointerOver==null||P.onPointerOver(S),P.onPointerEnter==null||P.onPointerEnter(S))}P.onPointerMove==null||P.onPointerMove(S)}else{const B=P[l];B?(!v||p.initialHits.includes(M))&&(o(d,p.interaction.filter(D=>!p.initialHits.includes(D))),B(S)):v&&p.initialHits.includes(M)&&o(d,p.interaction.filter(D=>!p.initialHits.includes(D)))}}r(A,d,g,_)}}return{handlePointer:a}}const yO=n=>!!(n!=null&&n.render),xO=ae.createContext(null),Hee=(n,e)=>{const t=xee((a,l)=>{const c=new U,d=new U,f=new U;function p(g=l().camera,_=d,S=l().size){const{width:M,height:T,top:P,left:B}=S,D=M/T;_ instanceof U?f.copy(_):f.set(..._);const L=g.getWorldPosition(c).distanceTo(f);if(dO(g))return{width:M/g.zoom,height:T/g.zoom,top:P,left:B,factor:1,distance:L,aspect:D};{const I=g.fov*Math.PI/180,H=2*Math.tan(I/2)*L,W=H*(M/T);return{width:W,height:H,top:P,left:B,factor:M/W,distance:L,aspect:D}}}let m;const v=g=>a(_=>({performance:{..._.performance,current:g}})),x=new xe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,_)=>e(g,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new qM,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(_=>({..._,events:{..._.events,...g}})),setSize:(g,_,S,M,T)=>{const P=l().camera,B={width:g,height:_,top:M||0,left:T||0,updateStyle:S};a(D=>({size:B,viewport:{...D.viewport,...p(P,d,B)}}))},setDpr:g=>a(_=>{const S=mO(g);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,g!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ae.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,_,S)=>{const M=l().internal;return M.priority=M.priority+(_>0?1:0),M.subscribers.push({ref:g,priority:_,store:S}),M.subscribers=M.subscribers.sort((T,P)=>T.priority-P.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(_>0?1:0),T.subscribers=T.subscribers.filter(P=>P.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:d,set:f}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var p;r=l,s=c.dpr,Oee(a,l),d.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Mg,Gee=new Set,Vee=new Set,jee=new Set;function t1(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function fh(n,e){switch(n){case"before":return t1(Gee,e);case"after":return t1(Vee,e);case"tail":return t1(jee,e)}}let n1,i1;function r1(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),n1=e.internal.subscribers,Mg=0;Mg<n1.length;Mg++)i1=n1[Mg],i1.ref.current(i1.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Wee(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,fh("before",l);for(const d of n.values()){var c;r=d.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((c=r.gl.xr)!=null&&c.isPresenting)&&(t+=r1(l,r))}if(fh("after",l),t===0)return fh("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,c=1){var d;if(!l)return n.forEach(f=>o(f.store.getState()),c);(d=l.gl.xr)!=null&&d.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,d,f){if(c&&fh("before",l),d)r1(l,d,f);else for(const p of n.values())r1(l,p.store.getState());c&&fh("after",l)}return{loop:s,invalidate:o,advance:a}}function _O(){const n=ae.useContext(xO);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function fa(n=t=>t,e){return _O()(n,e)}function Xee(n,e=0){const t=_O(),i=t.getState().internal.subscribe,r=hO(n);return op(()=>i(r,e,t),[e,i,t]),null}const CP=new WeakMap;function AO(n,e){return function(t,...i){let r=CP.get(t);return r||(r=new t,CP.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,Dee(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>r.dispose==null?void 0:r.dispose())}}function ap(n,e,t,i){const r=Array.isArray(e)?e:[e],s=Eee(AO(t,i),[n,...r],{equal:en.equ});return Array.isArray(e)?s:s[0]}ap.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return Cee(AO(t),[n,...i])};ap.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Tee([n,...t])};const hd=new Map,{invalidate:TP,advance:RP}=Wee(hd),{reconciler:K0,applyProps:cu}=Pee(hd,kee),uu={objects:"shallow",strict:!1},Jee=(n,e)=>{const t=typeof n=="function"?n(e):n;return yO(t)?t:new CM({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function qee(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function Yee(n){const e=hd.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||Hee(TP,RP),o=t||K0.createContainer(s,Nu.ConcurrentRoot,null,!1,null,"",r,null);e||hd.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(d={}){let{gl:f,size:p,scene:m,events:v,onCreated:x,shadows:A=!1,linear:g=!1,flat:_=!1,legacy:S=!1,orthographic:M=!1,frameloop:T="always",dpr:P=[1,2],performance:B,raycaster:D,camera:L,onPointerMissed:I}=d,H=s.getState(),W=H.gl;H.gl||H.set({gl:W=Jee(f,n)});let ee=H.raycaster;ee||H.set({raycaster:ee=new nO});const{params:z,...Q}=D||{};if(en.equ(Q,ee,uu)||cu(ee,{...Q}),en.equ(z,ee.params,uu)||cu(ee,{params:{...ee.params,...z}}),!H.camera||H.camera===c&&!en.equ(c,L,uu)){c=L;const ie=L instanceof Kf,re=ie?L:M?new Xs(0,0,0,0,.1,1e3):new mn(75,0,.1,1e3);ie||(re.position.z=5,L&&cu(re,L),!H.camera&&!(L!=null&&L.rotation)&&re.lookAt(0,0,0)),H.set({camera:re}),ee.camera=re}if(!H.scene){let ie;m instanceof q0?ie=m:(ie=new q0,m&&cu(ie,m)),H.set({scene:du(ie)})}if(!H.xr){var Z;const ie=(we,Ce)=>{const Le=s.getState();Le.frameloop!=="never"&&RP(we,!0,Le,Ce)},re=()=>{const we=s.getState();we.gl.xr.enabled=we.gl.xr.isPresenting,we.gl.xr.setAnimationLoop(we.gl.xr.isPresenting?ie:null),we.gl.xr.isPresenting||TP(we)},fe={connect(){const we=s.getState().gl;we.xr.addEventListener("sessionstart",re),we.xr.addEventListener("sessionend",re)},disconnect(){const we=s.getState().gl;we.xr.removeEventListener("sessionstart",re),we.xr.removeEventListener("sessionend",re)}};typeof((Z=W.xr)==null?void 0:Z.addEventListener)=="function"&&fe.connect(),H.set({xr:fe})}if(W.shadowMap){const ie=W.shadowMap.enabled,re=W.shadowMap.type;if(W.shadowMap.enabled=!!A,en.boo(A))W.shadowMap.type=Uh;else if(en.str(A)){var ce;const fe={basic:ZD,percentage:Rv,soft:Uh,variance:ds};W.shadowMap.type=(ce=fe[A])!=null?ce:Uh}else en.obj(A)&&Object.assign(W.shadowMap,A);(ie!==W.shadowMap.enabled||re!==W.shadowMap.type)&&(W.shadowMap.needsUpdate=!0)}const N=uO();N&&("enabled"in N?N.enabled=!S:"legacyMode"in N&&(N.legacyMode=S)),cu(W,{outputEncoding:g?3e3:3001,toneMapping:_?Ks:oM}),H.legacy!==S&&H.set(()=>({legacy:S})),H.linear!==g&&H.set(()=>({linear:g})),H.flat!==_&&H.set(()=>({flat:_})),f&&!en.fun(f)&&!yO(f)&&!en.equ(f,W,uu)&&cu(W,f),v&&!H.events.handlers&&H.set({events:v(s)});const K=qee(n,p);return en.equ(K,H.size,uu)||H.setSize(K.width,K.height,K.updateStyle,K.top,K.left),P&&H.viewport.dpr!==mO(P)&&H.setDpr(P),H.frameloop!==T&&H.setFrameloop(T),H.onPointerMissed||H.set({onPointerMissed:I}),B&&!en.equ(B,H.performance,uu)&&H.set(ie=>({performance:{...ie.performance,...B}})),a=x,l=!0,this},render(d){return l||this.configure(),K0.updateContainer(ae.createElement(Kee,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){SO(n)}}}function Kee({store:n,children:e,onCreated:t,rootElement:i}){return op(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),ae.createElement(xO.Provider,{value:n},e)}function SO(n,e){const t=hd.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),K0.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Nee(r),hd.delete(n),e&&e(n)}catch{}},500)})}}K0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ae.version});function Lf(){return Lf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Lf.apply(this,arguments)}function _S(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?i=setTimeout(l,e-d):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var d=t&&!i;return i||(i=setTimeout(l,e)),d&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}_S.debounce=_S;var Qee=_S;const PP=Q0(Qee);function Zee(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=ae.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=ae.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,f=ae.useRef(!1);ae.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[p,m,v]=ae.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:S,top:M,width:T,height:P,bottom:B,right:D,x:L,y:I}=l.current.element.getBoundingClientRect(),H={left:S,top:M,width:T,height:P,bottom:B,right:D,x:L,y:I};l.current.element instanceof HTMLElement&&r&&(H.height=l.current.element.offsetHeight,H.width=l.current.element.offsetWidth),Object.freeze(H),f.current&&!nte(l.current.lastBounds,H)&&a(l.current.lastBounds=H)};return[_,d?PP(_,d):_,c?PP(_,c):_]},[a,r,c,d]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function A(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=_=>{!_||_===l.current.element||(x(),l.current.element=_,l.current.scrollContainers=wO(_),A())};return ete(v,!!t),$ee(m),ae.useEffect(()=>{x(),A()},[t,v,m]),ae.useEffect(()=>x,[]),[g,o,p]}function $ee(n){ae.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function ete(n,e){ae.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function wO(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...wO(n.parentElement)]}const tte=["x","y","top","bottom","left","right","width","height"],nte=(n,e)=>tte.every(t=>n[t]===e[t]);var ite=Object.defineProperty,rte=Object.defineProperties,ste=Object.getOwnPropertyDescriptors,LP=Object.getOwnPropertySymbols,ote=Object.prototype.hasOwnProperty,ate=Object.prototype.propertyIsEnumerable,BP=(n,e,t)=>e in n?ite(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,IP=(n,e)=>{for(var t in e||(e={}))ote.call(e,t)&&BP(n,t,e[t]);if(LP)for(var t of LP(e))ate.call(e,t)&&BP(n,t,e[t]);return n},lte=(n,e)=>rte(n,ste(e));function MO(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=MO(i,e,t);if(r)return r;i=e?null:i.sibling}}function bO(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const $M=bO(ae.createContext(null));class EO extends ae.Component{render(){return ae.createElement($M.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:DP,ReactCurrentDispatcher:NP}=ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function cte(){const n=ae.useContext($M);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ae.useId();return ae.useMemo(()=>{for(const i of[DP==null?void 0:DP.current,n,n==null?void 0:n.alternate]){if(!i)continue;const r=MO(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function ute(){var n,e;const t=cte(),[i]=ae.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==$M&&!i.has(s)&&i.set(s,(e=NP==null?void 0:NP.current)==null?void 0:e.readContext(bO(s))),r=r.return}return i}function dte(){const n=ute();return ae.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>ae.createElement(e,null,ae.createElement(t.Provider,lte(IP({},i),{value:n.get(t)}))),e=>ae.createElement(EO,IP({},e))),[n])}const s1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function hte(n){const{handlePointer:e}=zee(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(s1).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=s1[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=s1[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const fte=ae.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=hte,eventSource:a,eventPrefix:l,shadows:c,linear:d,flat:f,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:A,raycaster:g,camera:_,scene:S,onPointerMissed:M,onCreated:T,...P},B){ae.useMemo(()=>Ree(gee),[]);const D=dte(),[L,I]=Zee({scroll:!0,debounce:{scroll:50,resize:0},...i}),H=ae.useRef(null),W=ae.useRef(null);ae.useImperativeHandle(B,()=>H.current);const ee=hO(M),[z,Q]=ae.useState(!1),[Z,ce]=ae.useState(!1);if(z)throw z;if(Z)throw Z;const N=ae.useRef(null);op(()=>{const j=H.current;I.width>0&&I.height>0&&j&&(N.current||(N.current=Yee(j)),N.current.configure({gl:s,events:o,shadows:c,linear:d,flat:f,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:A,raycaster:g,camera:_,scene:S,size:I,onPointerMissed:(...K)=>ee.current==null?void 0:ee.current(...K),onCreated:K=>{K.events.connect==null||K.events.connect(a?Lee(a)?a.current:a:W.current),l&&K.setEvents({compute:(ie,re)=>{const fe=ie[l+"X"],we=ie[l+"Y"];re.pointer.set(fe/re.size.width*2-1,-(we/re.size.height)*2+1),re.raycaster.setFromCamera(re.pointer,re.camera)}}),T==null||T(K)}}),N.current.render(ae.createElement(D,null,ae.createElement(fO,{set:ce},ae.createElement(ae.Suspense,{fallback:ae.createElement(Bee,{set:Q})},e)))))}),ae.useEffect(()=>{const j=H.current;if(j)return()=>SO(j)},[]);const V=a?"none":"auto";return ae.createElement("div",Lf({ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...r}},P),ae.createElement("div",{ref:L,style:{width:"100%",height:"100%"}},ae.createElement("canvas",{ref:H,style:{display:"block"}},t)))}),pte=ae.forwardRef(function(e,t){return ae.createElement(EO,null,ae.createElement(fte,Lf({},e,{ref:t})))});function FP(n,e){if(e===HN)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===W0||e===mM){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===W0)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const mte=parseInt(Xf.replace(/\D+/g,""));var gte=Object.defineProperty,vte=(n,e,t)=>e in n?gte(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gt=(n,e,t)=>(vte(n,typeof e!="symbol"?e+"":e,t),t);const bg=new vc,OP=new Co,yte=Math.cos(70*(Math.PI/180)),kP=(n,e)=>(n%e+e)%e;let xte=class extends ao{constructor(e,t){super(),gt(this,"object"),gt(this,"domElement"),gt(this,"enabled",!0),gt(this,"target",new U),gt(this,"minDistance",0),gt(this,"maxDistance",1/0),gt(this,"minZoom",0),gt(this,"maxZoom",1/0),gt(this,"minPolarAngle",0),gt(this,"maxPolarAngle",Math.PI),gt(this,"minAzimuthAngle",-1/0),gt(this,"maxAzimuthAngle",1/0),gt(this,"enableDamping",!1),gt(this,"dampingFactor",.05),gt(this,"enableZoom",!0),gt(this,"zoomSpeed",1),gt(this,"enableRotate",!0),gt(this,"rotateSpeed",1),gt(this,"enablePan",!0),gt(this,"panSpeed",1),gt(this,"screenSpacePanning",!0),gt(this,"keyPanSpeed",7),gt(this,"zoomToCursor",!1),gt(this,"autoRotate",!1),gt(this,"autoRotateSpeed",2),gt(this,"reverseOrbit",!1),gt(this,"reverseHorizontalOrbit",!1),gt(this,"reverseVerticalOrbit",!1),gt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),gt(this,"mouseButtons",{LEFT:Pl.ROTATE,MIDDLE:Pl.DOLLY,RIGHT:Pl.PAN}),gt(this,"touches",{ONE:Ll.ROTATE,TWO:Ll.DOLLY_PAN}),gt(this,"target0"),gt(this,"position0"),gt(this,"zoom0"),gt(this,"_domElementKeyEvents",null),gt(this,"getPolarAngle"),gt(this,"getAzimuthalAngle"),gt(this,"setPolarAngle"),gt(this,"setAzimuthalAngle"),gt(this,"getDistance"),gt(this,"listenToKeyEvents"),gt(this,"stopListenToKeyEvents"),gt(this,"saveState"),gt(this,"reset"),gt(this,"update"),gt(this,"connect"),gt(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=Y=>{let Ae=kP(Y,2*Math.PI),Ve=d.phi;Ve<0&&(Ve+=2*Math.PI),Ae<0&&(Ae+=2*Math.PI);let He=Math.abs(Ae-Ve);2*Math.PI-He<He&&(Ae<Ve?Ae+=2*Math.PI:Ve+=2*Math.PI),f.phi=Ae-Ve,i.update()},this.setAzimuthalAngle=Y=>{let Ae=kP(Y,2*Math.PI),Ve=d.theta;Ve<0&&(Ve+=2*Math.PI),Ae<0&&(Ae+=2*Math.PI);let He=Math.abs(Ae-Ve);2*Math.PI-He<He&&(Ae<Ve?Ae+=2*Math.PI:Ve+=2*Math.PI),f.theta=Ae-Ve,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Y=>{Y.addEventListener("keydown",ke),this._domElementKeyEvents=Y},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ke),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const Y=new U,Ae=new U(0,1,0),Ve=new oi().setFromUnitVectors(e.up,Ae),He=Ve.clone().invert(),Ee=new U,q=new oi,Ie=2*Math.PI;return function(){const ct=i.object.position;Ve.setFromUnitVectors(e.up,Ae),He.copy(Ve).invert(),Y.copy(ct).sub(i.target),Y.applyQuaternion(Ve),d.setFromVector3(Y),i.autoRotate&&l===a.NONE&&z(W()),i.enableDamping?(d.theta+=f.theta*i.dampingFactor,d.phi+=f.phi*i.dampingFactor):(d.theta+=f.theta,d.phi+=f.phi);let Ke=i.minAzimuthAngle,Lt=i.maxAzimuthAngle;isFinite(Ke)&&isFinite(Lt)&&(Ke<-Math.PI?Ke+=Ie:Ke>Math.PI&&(Ke-=Ie),Lt<-Math.PI?Lt+=Ie:Lt>Math.PI&&(Lt-=Ie),Ke<=Lt?d.theta=Math.max(Ke,Math.min(Lt,d.theta)):d.theta=d.theta>(Ke+Lt)/2?Math.max(Ke,d.theta):Math.min(Lt,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&L||i.object.isOrthographicCamera?d.radius=ie(d.radius):d.radius=ie(d.radius*p),Y.setFromSpherical(d),Y.applyQuaternion(He),ct.copy(i.target).add(Y),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(f.theta*=1-i.dampingFactor,f.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(f.set(0,0,0),m.set(0,0,0));let It=!1;if(i.zoomToCursor&&L){let qt=null;if(i.object instanceof mn&&i.object.isPerspectiveCamera){const sn=Y.length();qt=ie(sn*p);const Ut=sn-qt;i.object.position.addScaledVector(B,Ut),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const sn=new U(D.x,D.y,0);sn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),It=!0;const Ut=new U(D.x,D.y,0);Ut.unproject(i.object),i.object.position.sub(Ut).add(sn),i.object.updateMatrixWorld(),qt=Y.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;qt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(qt).add(i.object.position):(bg.origin.copy(i.object.position),bg.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(bg.direction))<yte?e.lookAt(i.target):(OP.setFromNormalAndCoplanarPoint(i.object.up,i.target),bg.intersectPlane(OP,i.target))))}else i.object instanceof Xs&&i.object.isOrthographicCamera&&(It=p!==1,It&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,L=!1,It||Ee.distanceToSquared(i.object.position)>c||8*(1-q.dot(i.object.quaternion))>c?(i.dispatchEvent(r),Ee.copy(i.object.position),q.copy(i.object.quaternion),It=!1,!0):!1}})(),this.connect=Y=>{Y===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=Y,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Pt),i.domElement.addEventListener("pointerdown",O),i.domElement.addEventListener("pointercancel",te),i.domElement.addEventListener("wheel",Te)},this.dispose=()=>{var Y,Ae,Ve,He,Ee,q;(Y=i.domElement)==null||Y.removeEventListener("contextmenu",Pt),(Ae=i.domElement)==null||Ae.removeEventListener("pointerdown",O),(Ve=i.domElement)==null||Ve.removeEventListener("pointercancel",te),(He=i.domElement)==null||He.removeEventListener("wheel",Te),(Ee=i.domElement)==null||Ee.ownerDocument.removeEventListener("pointermove",J),(q=i.domElement)==null||q.ownerDocument.removeEventListener("pointerup",se),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",ke)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,d=new vS,f=new vS;let p=1;const m=new U,v=new xe,x=new xe,A=new xe,g=new xe,_=new xe,S=new xe,M=new xe,T=new xe,P=new xe,B=new U,D=new xe;let L=!1;const I=[],H={};function W(){return 2*Math.PI/60/60*i.autoRotateSpeed}function ee(){return Math.pow(.95,i.zoomSpeed)}function z(Y){i.reverseOrbit||i.reverseHorizontalOrbit?f.theta+=Y:f.theta-=Y}function Q(Y){i.reverseOrbit||i.reverseVerticalOrbit?f.phi+=Y:f.phi-=Y}const Z=(()=>{const Y=new U;return function(Ve,He){Y.setFromMatrixColumn(He,0),Y.multiplyScalar(-Ve),m.add(Y)}})(),ce=(()=>{const Y=new U;return function(Ve,He){i.screenSpacePanning===!0?Y.setFromMatrixColumn(He,1):(Y.setFromMatrixColumn(He,0),Y.crossVectors(i.object.up,Y)),Y.multiplyScalar(Ve),m.add(Y)}})(),N=(()=>{const Y=new U;return function(Ve,He){const Ee=i.domElement;if(Ee&&i.object instanceof mn&&i.object.isPerspectiveCamera){const q=i.object.position;Y.copy(q).sub(i.target);let Ie=Y.length();Ie*=Math.tan(i.object.fov/2*Math.PI/180),Z(2*Ve*Ie/Ee.clientHeight,i.object.matrix),ce(2*He*Ie/Ee.clientHeight,i.object.matrix)}else Ee&&i.object instanceof Xs&&i.object.isOrthographicCamera?(Z(Ve*(i.object.right-i.object.left)/i.object.zoom/Ee.clientWidth,i.object.matrix),ce(He*(i.object.top-i.object.bottom)/i.object.zoom/Ee.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function V(Y){i.object instanceof mn&&i.object.isPerspectiveCamera||i.object instanceof Xs&&i.object.isOrthographicCamera?p/=Y:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function j(Y){i.object instanceof mn&&i.object.isPerspectiveCamera||i.object instanceof Xs&&i.object.isOrthographicCamera?p*=Y:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function K(Y){if(!i.zoomToCursor||!i.domElement)return;L=!0;const Ae=i.domElement.getBoundingClientRect(),Ve=Y.clientX-Ae.left,He=Y.clientY-Ae.top,Ee=Ae.width,q=Ae.height;D.x=Ve/Ee*2-1,D.y=-(He/q)*2+1,B.set(D.x,D.y,1).unproject(i.object).sub(i.object.position).normalize()}function ie(Y){return Math.max(i.minDistance,Math.min(i.maxDistance,Y))}function re(Y){v.set(Y.clientX,Y.clientY)}function fe(Y){K(Y),M.set(Y.clientX,Y.clientY)}function we(Y){g.set(Y.clientX,Y.clientY)}function Ce(Y){x.set(Y.clientX,Y.clientY),A.subVectors(x,v).multiplyScalar(i.rotateSpeed);const Ae=i.domElement;Ae&&(z(2*Math.PI*A.x/Ae.clientHeight),Q(2*Math.PI*A.y/Ae.clientHeight)),v.copy(x),i.update()}function Le(Y){T.set(Y.clientX,Y.clientY),P.subVectors(T,M),P.y>0?V(ee()):P.y<0&&j(ee()),M.copy(T),i.update()}function rt(Y){_.set(Y.clientX,Y.clientY),S.subVectors(_,g).multiplyScalar(i.panSpeed),N(S.x,S.y),g.copy(_),i.update()}function ot(Y){K(Y),Y.deltaY<0?j(ee()):Y.deltaY>0&&V(ee()),i.update()}function ze(Y){let Ae=!1;switch(Y.code){case i.keys.UP:N(0,i.keyPanSpeed),Ae=!0;break;case i.keys.BOTTOM:N(0,-i.keyPanSpeed),Ae=!0;break;case i.keys.LEFT:N(i.keyPanSpeed,0),Ae=!0;break;case i.keys.RIGHT:N(-i.keyPanSpeed,0),Ae=!0;break}Ae&&(Y.preventDefault(),i.update())}function We(){if(I.length==1)v.set(I[0].pageX,I[0].pageY);else{const Y=.5*(I[0].pageX+I[1].pageX),Ae=.5*(I[0].pageY+I[1].pageY);v.set(Y,Ae)}}function X(){if(I.length==1)g.set(I[0].pageX,I[0].pageY);else{const Y=.5*(I[0].pageX+I[1].pageX),Ae=.5*(I[0].pageY+I[1].pageY);g.set(Y,Ae)}}function be(){const Y=I[0].pageX-I[1].pageX,Ae=I[0].pageY-I[1].pageY,Ve=Math.sqrt(Y*Y+Ae*Ae);M.set(0,Ve)}function _e(){i.enableZoom&&be(),i.enablePan&&X()}function Re(){i.enableZoom&&be(),i.enableRotate&&We()}function ye(Y){if(I.length==1)x.set(Y.pageX,Y.pageY);else{const Ve=je(Y),He=.5*(Y.pageX+Ve.x),Ee=.5*(Y.pageY+Ve.y);x.set(He,Ee)}A.subVectors(x,v).multiplyScalar(i.rotateSpeed);const Ae=i.domElement;Ae&&(z(2*Math.PI*A.x/Ae.clientHeight),Q(2*Math.PI*A.y/Ae.clientHeight)),v.copy(x)}function $e(Y){if(I.length==1)_.set(Y.pageX,Y.pageY);else{const Ae=je(Y),Ve=.5*(Y.pageX+Ae.x),He=.5*(Y.pageY+Ae.y);_.set(Ve,He)}S.subVectors(_,g).multiplyScalar(i.panSpeed),N(S.x,S.y),g.copy(_)}function Oe(Y){const Ae=je(Y),Ve=Y.pageX-Ae.x,He=Y.pageY-Ae.y,Ee=Math.sqrt(Ve*Ve+He*He);T.set(0,Ee),P.set(0,Math.pow(T.y/M.y,i.zoomSpeed)),V(P.y),M.copy(T)}function F(Y){i.enableZoom&&Oe(Y),i.enablePan&&$e(Y)}function E(Y){i.enableZoom&&Oe(Y),i.enableRotate&&ye(Y)}function O(Y){var Ae,Ve;i.enabled!==!1&&(I.length===0&&((Ae=i.domElement)==null||Ae.ownerDocument.addEventListener("pointermove",J),(Ve=i.domElement)==null||Ve.ownerDocument.addEventListener("pointerup",se)),yt(Y),Y.pointerType==="touch"?st(Y):ue(Y))}function J(Y){i.enabled!==!1&&(Y.pointerType==="touch"?Me(Y):ge(Y))}function se(Y){var Ae,Ve,He;lt(Y),I.length===0&&((Ae=i.domElement)==null||Ae.releasePointerCapture(Y.pointerId),(Ve=i.domElement)==null||Ve.ownerDocument.removeEventListener("pointermove",J),(He=i.domElement)==null||He.ownerDocument.removeEventListener("pointerup",se)),i.dispatchEvent(o),l=a.NONE}function te(Y){lt(Y)}function ue(Y){let Ae;switch(Y.button){case 0:Ae=i.mouseButtons.LEFT;break;case 1:Ae=i.mouseButtons.MIDDLE;break;case 2:Ae=i.mouseButtons.RIGHT;break;default:Ae=-1}switch(Ae){case Pl.DOLLY:if(i.enableZoom===!1)return;fe(Y),l=a.DOLLY;break;case Pl.ROTATE:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enablePan===!1)return;we(Y),l=a.PAN}else{if(i.enableRotate===!1)return;re(Y),l=a.ROTATE}break;case Pl.PAN:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enableRotate===!1)return;re(Y),l=a.ROTATE}else{if(i.enablePan===!1)return;we(Y),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function ge(Y){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;Ce(Y);break;case a.DOLLY:if(i.enableZoom===!1)return;Le(Y);break;case a.PAN:if(i.enablePan===!1)return;rt(Y);break}}function Te(Y){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Y.preventDefault(),i.dispatchEvent(s),ot(Y),i.dispatchEvent(o))}function ke(Y){i.enabled===!1||i.enablePan===!1||ze(Y)}function st(Y){switch(et(Y),I.length){case 1:switch(i.touches.ONE){case Ll.ROTATE:if(i.enableRotate===!1)return;We(),l=a.TOUCH_ROTATE;break;case Ll.PAN:if(i.enablePan===!1)return;X(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Ll.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;_e(),l=a.TOUCH_DOLLY_PAN;break;case Ll.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Re(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Me(Y){switch(et(Y),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;ye(Y),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;$e(Y),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;F(Y),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;E(Y),i.update();break;default:l=a.NONE}}function Pt(Y){i.enabled!==!1&&Y.preventDefault()}function yt(Y){I.push(Y)}function lt(Y){delete H[Y.pointerId];for(let Ae=0;Ae<I.length;Ae++)if(I[Ae].pointerId==Y.pointerId){I.splice(Ae,1);return}}function et(Y){let Ae=H[Y.pointerId];Ae===void 0&&(Ae=new xe,H[Y.pointerId]=Ae),Ae.set(Y.pageX,Y.pageY)}function je(Y){const Ae=Y.pointerId===I[0].pointerId?I[1]:I[0];return H[Ae.pointerId]}t!==void 0&&this.connect(t),this.update()}};class eb extends Di{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Mte(t)}),this.register(function(t){return new Bte(t)}),this.register(function(t){return new Ite(t)}),this.register(function(t){return new Dte(t)}),this.register(function(t){return new Ete(t)}),this.register(function(t){return new Cte(t)}),this.register(function(t){return new Tte(t)}),this.register(function(t){return new Rte(t)}),this.register(function(t){return new wte(t)}),this.register(function(t){return new Pte(t)}),this.register(function(t){return new bte(t)}),this.register(function(t){return new Lte(t)}),this.register(function(t){return new Ate(t)}),this.register(function(t){return new Nte(t)}),this.register(function(t){return new Fte(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=$s.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Tr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if($s.decodeText(new Uint8Array(e.slice(0,4)))===CO){try{o[Dt.KHR_BINARY_GLTF]=new Ote(e)}catch(d){r&&r(d);return}s=JSON.parse(o[Dt.KHR_BINARY_GLTF].content)}else s=JSON.parse($s.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new Kte(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const d=this.pluginCallbacks[c](l);a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const d=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(d){case Dt.KHR_MATERIALS_UNLIT:o[d]=new Ste;break;case Dt.KHR_DRACO_MESH_COMPRESSION:o[d]=new kte(s,this.dracoLoader);break;case Dt.KHR_TEXTURE_TRANSFORM:o[d]=new Ute;break;case Dt.KHR_MESH_QUANTIZATION:o[d]=new zte;break;default:f.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function _te(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Dt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Ate{constructor(e){this.parser=e,this.name=Dt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const d=new Fe(16777215);l.color!==void 0&&d.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new XM(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new WM(d),c.distance=f;break;case"spot":c=new jM(d),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,xa(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class Ste{constructor(){this.name=Dt.KHR_MATERIALS_UNLIT}getMaterialType(){return Ar}extendParams(e,t,i){const r=[];e.color=new Fe(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(r)}}class wte{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Mte{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new xe(a,a)}return Promise.all(s)}}class bte{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Ete{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Fe(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Cte{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Tte{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Fe(a[0],a[1],a[2]),Promise.all(s)}}class Rte{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Pte{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Fe(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class Lte{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Bte{constructor(e){this.parser=e,this.name=Dt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Ite{constructor(e){this.parser=e,this.name=Dt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Dte{constructor(e){this.parser=e,this.name=Dt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Nte{constructor(e){this.name=Dt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,d=r.count,f=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,f,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(d*f);return o.decodeGltfBuffer(new Uint8Array(m),d,f,p,r.mode,r.filter),m})})}else return null}}class Fte{constructor(e){this.name=Dt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==Xr.TRIANGLES&&c.mode!==Xr.TRIANGLE_STRIP&&c.mode!==Xr.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(d=>(l[c]=d,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const d=c.pop(),f=d.isGroup?d.children:[d],p=c[0].count,m=[];for(const v of f){const x=new dt,A=new U,g=new oi,_=new U(1,1,1),S=new PM(v.geometry,v.material,p);for(let M=0;M<p;M++)l.TRANSLATION&&A.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,M),l.SCALE&&_.fromBufferAttribute(l.SCALE,M),S.setMatrixAt(M,x.compose(A,g,_));for(const M in l)M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&v.geometry.setAttribute(M,l[M]);Ot.prototype.copy.call(S,v),this.parser.assignFinalMaterial(S),m.push(S)}return d.isGroup?(d.clear(),d.add(...m),d):m[0]}))}}const CO="glTF",ph=12,UP={JSON:1313821514,BIN:5130562};class Ote{constructor(e){this.name=Dt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,ph);if(this.header={magic:$s.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==CO)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-ph,r=new DataView(e,ph);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===UP.JSON){const l=new Uint8Array(e,ph+s,o);this.content=$s.decodeText(l)}else if(a===UP.BIN){const l=ph+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class kte{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Dt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const d in o){const f=AS[d]||d.toLowerCase();a[f]=o[d]}for(const d in e.attributes){const f=AS[d]||d.toLowerCase();if(o[d]!==void 0){const p=i.accessors[e.attributes[d]],m=ju[p.componentType];c[f]=m.name,l[f]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(f){r.decodeDracoFile(d,function(p){for(const m in p.attributes){const v=p.attributes[m],x=l[m];x!==void 0&&(v.normalized=x)}f(p)},a,c)})})}}class Ute{constructor(){this.name=Dt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class zte{constructor(){this.name=Dt.KHR_MESH_QUANTIZATION}}class TO extends _d{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,d=r-t,f=(i-t)/d,p=f*f,m=p*f,v=e*c,x=v-c,A=-2*m+3*p,g=m-p,_=1-A,S=g-p+f;for(let M=0;M!==a;M++){const T=o[x+M+a],P=o[x+M+l]*d,B=o[v+M+a],D=o[v+M]*d;s[M]=_*T+S*P+A*B+g*D}return s}}const Hte=new oi;class Gte extends TO{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return Hte.fromArray(s).normalize().toArray(s),s}}const Xr={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},ju={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},zP={9728:bn,9729:pn,9984:xf,9985:Lv,9986:Gu,9987:to},HP={33071:fi,33648:nd,10497:Ja},o1={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},AS={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...mte>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},pa={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Vte={CUBICSPLINE:void 0,LINEAR:uc,STEP:rd},a1={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function jte(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new sp({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:eo})),n.DefaultMaterial}function bl(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function xa(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Wte(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,d=e.length;c<d;c++){const f=e[c];if(f.POSITION!==void 0&&(i=!0),f.NORMAL!==void 0&&(r=!0),f.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,d=e.length;c<d;c++){const f=e[c];if(i){const p=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(p)}if(r){const p=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],f=c[1],p=c[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function Xte(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Jte(n){let e;const t=n.extensions&&n.extensions[Dt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+l1(t.attributes):e=n.indices+":"+l1(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+l1(n.targets[i]);return e}function l1(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function SS(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function qte(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Yte=new dt;class Kte{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new _te,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new jF(this.options.manager):this.textureLoader=new ZF(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Tr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};bl(s,a,r),xa(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,d]of o.children.entries())s(d,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Dt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load($s.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=o1[r.type],a=ju[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new kt(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=o1[r.type],c=ju[r.componentType],d=c.BYTES_PER_ELEMENT,f=d*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let x,A;if(m&&m!==f){const g=Math.floor(p/m),_="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let S=t.cache.get(_);S||(x=new c(a,g*m,r.count*m/d),S=new ep(x,m/d),t.cache.add(_,S)),A=new qa(S,l,p%m/d,v)}else a===null?x=new c(r.count*l):x=new c(a,p,r.count*l),A=new kt(x,l,v);if(r.sparse!==void 0){const g=o1.SCALAR,_=ju[r.sparse.indices.componentType],S=r.sparse.indices.byteOffset||0,M=r.sparse.values.byteOffset||0,T=new _(o[1],S,r.sparse.count*g),P=new c(o[2],M,r.sparse.count*l);a!==null&&(A=new kt(A.array.slice(),A.itemSize,A.normalized));for(let B=0,D=T.length;B<D;B++){const L=T[B];if(A.setX(L,P[B*l]),l>=2&&A.setY(L,P[B*l+1]),l>=3&&A.setZ(L,P[B*l+2]),l>=4&&A.setW(L,P[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return d.magFilter=zP[p.magFilter]||pn,d.minFilter=zP[p.minFilter]||to,d.wrapS=HP[p.wrapS]||Ja,d.wrapT=HP[p.wrapT]||Ja,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const p=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(f){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(x){const A=new cn(x);A.needsUpdate=!0,p(A)}),t.load($s.resolveURL(f,s.path),v,void 0,m)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||qte(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Dt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Dt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Dt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&("colorSpace"in o?o.colorSpace=r===3001?"srgb":"srgb-linear":o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new zv,Hn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Ii,Hn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return sp}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Dt.KHR_MATERIALS_UNLIT]){const f=r[Dt.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new Fe(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const p=f.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=vs);const d=s.alphaMode||a1.OPAQUE;if(d===a1.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===a1.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ar&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new xe(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==Ar&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ar&&(a.emissive=new Fe().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Ar&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),xa(f,s),t.associations.set(f,{materials:e}),s.extensions&&bl(r,f,s),f})}createUniqueName(e){const t=Nt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Dt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return GP(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],d=Jte(c),f=r[d];if(f)o.push(f.promise);else{let p;c.extensions&&c.extensions[Dt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=GP(new wt,c,t),r[d]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const d=o[l].material===void 0?jte(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),d=l[l.length-1],f=[];for(let m=0,v=d.length;m<v;m++){const x=d[m],A=o[m];let g;const _=c[m];if(A.mode===Xr.TRIANGLES||A.mode===Xr.TRIANGLE_STRIP||A.mode===Xr.TRIANGLE_FAN||A.mode===void 0)g=s.isSkinnedMesh===!0?new RM(x,_):new zn(x,_),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),A.mode===Xr.TRIANGLE_STRIP?g.geometry=FP(g.geometry,mM):A.mode===Xr.TRIANGLE_FAN&&(g.geometry=FP(g.geometry,W0));else if(A.mode===Xr.LINES)g=new Rs(x,_);else if(A.mode===Xr.LINE_STRIP)g=new Jo(x,_);else if(A.mode===Xr.LINE_LOOP)g=new LM(x,_);else if(A.mode===Xr.POINTS)g=new BM(x,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(g.geometry.morphAttributes).length>0&&Xte(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),xa(g,s),A.extensions&&bl(r,g,A),t.assignFinalMaterial(g),f.push(g)}for(let m=0,v=f.length;m<v;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return s.extensions&&bl(r,f[0],s),f[0];const p=new Io;s.extensions&&bl(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=f.length;m<v;m++)p.add(f[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new mn(ZN.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Xs(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),xa(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,d=o.length;c<d;c++){const f=o[c];if(f){a.push(f);const p=new dt;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new tp(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let d=0,f=i.channels.length;d<f;d++){const p=i.channels[d],m=i.samplers[p.sampler],v=p.target,x=v.node,A=i.parameters!==void 0?i.parameters[m.input]:m.input,g=i.parameters!==void 0?i.parameters[m.output]:m.output;v.node!==void 0&&(s.push(this.getDependency("node",x)),o.push(this.getDependency("accessor",A)),a.push(this.getDependency("accessor",g)),l.push(m),c.push(v))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(d){const f=d[0],p=d[1],m=d[2],v=d[3],x=d[4],A=[];for(let g=0,_=f.length;g<_;g++){const S=f[g],M=p[g],T=m[g],P=v[g],B=x[g];if(S===void 0)continue;S.updateMatrix();let D;switch(pa[B.path]){case pa.weights:D=cd;break;case pa.rotation:D=Ya;break;case pa.position:case pa.scale:default:D=ud;break}const L=S.name?S.name:S.uuid,I=P.interpolation!==void 0?Vte[P.interpolation]:uc,H=[];pa[B.path]===pa.weights?S.traverse(function(ee){ee.morphTargetInfluences&&H.push(ee.name?ee.name:ee.uuid)}):H.push(L);let W=T.array;if(T.normalized){const ee=SS(W.constructor),z=new Float32Array(W.length);for(let Q=0,Z=W.length;Q<Z;Q++)z[Q]=W[Q]*ee;W=z}for(let ee=0,z=H.length;ee<z;ee++){const Q=new D(H[ee]+"."+pa[B.path],M.array,W,I);P.interpolation==="CUBICSPLINE"&&(Q.createInterpolant=function(ce){const N=this instanceof Ya?Gte:TO;return new N(this.times,this.values,this.getValueSize()/3,ce)},Q.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),A.push(Q)}}return new dd(r,void 0,A)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,d=a.length;c<d;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const d=c[0],f=c[1],p=c[2];p!==null&&d.traverse(function(m){m.isSkinnedMesh&&m.bind(p,Yte)});for(let m=0,v=f.length;m<v;m++)d.add(f[m]);return d})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let d;if(s.isBone===!0?d=new Uv:c.length>1?d=new Io:c.length===1?d=c[0]:d=new Ot,d!==c[0])for(let f=0,p=c.length;f<p;f++)d.add(c[f]);if(s.name&&(d.userData.name=s.name,d.name=o),xa(d,s),s.extensions&&bl(i,d,s),s.matrix!==void 0){const f=new dt;f.fromArray(s.matrix),d.applyMatrix4(f)}else s.translation!==void 0&&d.position.fromArray(s.translation),s.rotation!==void 0&&d.quaternion.fromArray(s.rotation),s.scale!==void 0&&d.scale.fromArray(s.scale);return r.associations.has(d)||r.associations.set(d,{}),r.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Io;i.name&&(s.name=r.createUniqueName(i.name)),xa(s,i),i.extensions&&bl(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let d=0,f=l.length;d<f;d++)s.add(l[d]);const c=d=>{const f=new Map;for(const[p,m]of r.associations)(p instanceof Hn||p instanceof cn)&&f.set(p,m);return d.traverse(p=>{const m=r.associations.get(p);m!=null&&f.set(p,m)}),f};return r.associations=c(s),s})}}function Qte(n,e,t){const i=e.attributes,r=new Pi;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new U(l[0],l[1],l[2]),new U(c[0],c[1],c[2])),a.normalized){const d=SS(ju[a.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new U,l=new U;for(let c=0,d=s.length;c<d;c++){const f=s[c];if(f.POSITION!==void 0){const p=t.json.accessors[f.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const x=SS(ju[p.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new mi;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function GP(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=AS[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return xa(n,e),Qte(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?Wte(n,e.targets,t):n})}const c1=new WeakMap;class Zte extends Di{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Tr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(c1.has(e)){const l=c1.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,d)=>{r._callbacks[s]={resolve:c,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),c1.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new wt;e.index&&t.setIndex(new kt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new kt(o,a))}return t}_loadLibrary(e,t){const i=new Tr(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=$te.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function $te(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(f){d({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(d=>{const f=d.draco,p=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(f,p,m,c),x=v.attributes.map(A=>A.array.buffer);v.index&&x.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},x)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{f.destroy(m),f.destroy(p)}});break}};function t(o,a,l,c){const d=c.attributeIDs,f=c.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const x={index:null,attributes:[]};for(const A in d){const g=self[f[A]];let _,S;if(c.useUniqueIDs)S=d[A],_=a.GetAttributeByUniqueId(p,S);else{if(S=a.GetAttributeId(p,o[d[A]]),S===-1)continue;_=a.GetAttribute(p,S)}x.attributes.push(r(o,a,p,A,g,_))}return v===o.TRIANGULAR_MESH&&(x.index=i(o,a,p)),o.destroy(p),x}function i(o,a,l){const d=l.num_faces()*3,f=d*4,p=o._malloc(f);a.GetTrianglesUInt32Array(l,f,p);const m=new Uint32Array(o.HEAPF32.buffer,p,d).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,d,f){const p=f.num_components(),v=l.num_points()*p,x=v*d.BYTES_PER_ELEMENT,A=s(o,d),g=o._malloc(x);a.GetAttributeDataArrayForAllPoints(l,f,A,x,g);const _=new d(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:c,array:_,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Eg;const u1=()=>{if(Eg)return Eg;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const p=new Uint8Array(f.length);for(let v=0;v<f.length;++v){const x=f.charCodeAt(v);p[v]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let m=0;for(let v=0;v<f.length;++v)p[m++]=p[v]<60?i[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(f,p,m,v,x,A){const g=s.exports.sbrk,_=m+3&-4,S=g(_*v),M=g(x.length),T=new Uint8Array(s.exports.memory.buffer);T.set(x,M);const P=f(S,m,v,M,x.length);if(P===0&&A&&A(S,_,v),p.set(T.subarray(S,S+m*v)),g(S-g(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Eg={ready:o,supported:!0,decodeVertexBuffer(f,p,m,v,x){l(s.exports.meshopt_decodeVertexBuffer,f,p,m,v,s.exports[c[x]])},decodeIndexBuffer(f,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,f,p,m,v)},decodeIndexSequence(f,p,m,v){l(s.exports.meshopt_decodeIndexSequence,f,p,m,v)},decodeGltfBuffer(f,p,m,v,x,A){l(s.exports[d[x]],f,p,m,v,s.exports[c[A]])}},Eg};let Cg=null,RO="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function PO(n,e,t){return i=>{t&&t(i),n&&(Cg||(Cg=new Zte),Cg.setDecoderPath(typeof n=="string"?n:RO),i.setDRACOLoader(Cg)),e&&i.setMeshoptDecoder(typeof u1=="function"?u1():u1)}}function lp(n,e=!0,t=!0,i){return ap(eb,n,PO(e,t,i))}lp.preload=(n,e=!0,t=!0,i)=>ap.preload(eb,n,PO(e,t,i));lp.clear=n=>ap.clear(eb,n);lp.setDecoderPath=n=>{RO=n};const ene=ae.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},d)=>{const f=fa(P=>P.invalidate),p=fa(P=>P.camera),m=fa(P=>P.gl),v=fa(P=>P.events),x=fa(P=>P.setEvents),A=fa(P=>P.set),g=fa(P=>P.get),_=fa(P=>P.performance),S=e||p,M=i||v.connected||m.domElement,T=ae.useMemo(()=>new xte(S),[S]);return Xee(()=>{T.enabled&&T.update()},-1),ae.useEffect(()=>(s&&T.connect(s===!0?M:s),T.connect(M),()=>void T.dispose()),[s,M,t,T,f]),ae.useEffect(()=>{const P=L=>{f(),t&&_.regress(),o&&o(L)},B=L=>{a&&a(L)},D=L=>{l&&l(L)};return T.addEventListener("change",P),T.addEventListener("start",B),T.addEventListener("end",D),()=>{T.removeEventListener("start",B),T.removeEventListener("end",D),T.removeEventListener("change",P)}},[o,a,l,T,f,x]),ae.useEffect(()=>{if(n){const P=g().controls;return A({controls:T}),()=>A({controls:P})}},[n,T]),ae.createElement("primitive",Lf({ref:d,object:T,enableDamping:r},c))});function tne(n){const{nodes:e,materials:t}=lp("/portfolio/canon_800d.glb");return C.jsx("group",{...n,dispose:null,children:C.jsx("mesh",{material:t.material_0,geometry:e.Object_4.geometry,rotation:[Math.PI/6,-Math.PI/2-Math.PI/6,0]})})}lp.preload("/portfolio/canon_800d.glb");function nne(){const o=window.innerWidth<1020?20:10,[a,l]=ae.useState(scrollY<750?scrollY*.006:0),[c,d]=ae.useState(240),[f,p]=ae.useState(1);return ae.useEffect(()=>{const m=()=>{const v=window.scrollY;v<=1e3?l(v*.006):l(6),v>750&&d(40-(v-750)*.4),v<400&&d(240-v*.5),v>750?p(1-(v-750)/200):p(1)};return window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),C.jsxs(pte,{camera:{position:[0,0,2],fov:o},style:{position:"fixed",top:c,width:"40%",right:"0.5%",opacity:f},children:[C.jsx("ambientLight",{intensity:1.25}),C.jsx("ambientLight",{intensity:.1}),C.jsx("directionalLight",{intensity:.4}),C.jsx(ae.Suspense,{fallback:null,children:C.jsx(tne,{position:[.025,0,0],rotation:[0,a,0]})}),C.jsx(ene,{enabled:!1})]})}function VP(){return C.jsx(C.Fragment,{children:C.jsx("section",{className:"scroll-mt-8 lg:scroll-mt-0 mb-5",children:C.jsx("div",{className:"px-0 lg:px-4 overflow-hidden",children:C.jsx("div",{className:"lg:rounded-2xl py-12 lg:py-24 relative z-0 bg-gh-marketingDark",children:C.jsx("div",{className:"project-container",children:C.jsx("div",{className:"grid grid-cols-12",children:C.jsxs("div",{className:"col-span-12 lg:col-span-10 lg:col-start-2 mb-8",children:[C.jsx("div",{className:"relative",children:C.jsx("h2",{className:"text-5xl font-extrabold text-white mb-8 z-10 relative",id:"realisations",children:"Mon matériel"})}),C.jsxs("div",{className:"flex flex-wrap flex-col",children:[C.jsxs("div",{className:"setup-item mb-4",children:[C.jsx("div",{className:"flex flex-wrap",children:C.jsxs("h4",{className:"text-2xl font-bold text-white z-10 relative",children:["Appareil photo principal:"," ",C.jsx("span",{className:"text-2xl font-light text-white z-10 relative",children:"Canon EOS 800D"})]})}),C.jsx("p",{className:"text-sm font-light text-white z-10 relative",children:"532g, 24.2MP, APS-C, 45 collimateurs AF, 6 im./s, 1080p"})]}),C.jsxs("div",{className:"setup-item mb-4",children:[C.jsx("div",{className:"flex flex-wrap",children:C.jsxs("h4",{className:"text-lg font-bold text-white z-10 relative",children:["Objectif principal:"," ",C.jsx("span",{className:"text-lg font-light text-white z-10 relative",children:"Canon EF-S 18-55mm f/3.5-5.6 IS STM"})]})}),C.jsx("p",{className:"text-sm font-light text-white z-10 relative",children:"205g, 18-55mm, f/3.5-5.6, STM, stabilisé"})]}),C.jsxs("div",{className:"setup-item mb-4",children:[C.jsx("div",{className:"flex flex-wrap",children:C.jsxs("h4",{className:"text-lg font-bold text-white z-10 relative",children:["Objectif Grand Angle:"," ",C.jsx("span",{className:"text-lg font-light text-white z-10 relative",children:"Canon EF-S 10-18mm f/4.5-5.6 IS STM"})]})}),C.jsx("p",{className:"text-sm font-light text-white z-10 relative",children:"240g, 10-18mm, f/4.5-5.6, STM, stabilisé"})]}),C.jsx(wn,{color1:"#10c283"}),C.jsxs("div",{className:"setup-item mb-4",children:[C.jsx("div",{className:"flex flex-wrap",children:C.jsxs("h4",{className:"text-2xl font-bold text-white z-10 relative",children:["Appareil photo Secondaire:"," ",C.jsx("span",{className:"text-2xl font-light text-white z-10 relative",children:"Sony Alpha 380"})]})}),C.jsx("p",{className:"text-sm font-light text-white z-10 relative",children:"490g, 14.2MP, APS-C, 9 collimateurs AF, 2.5 im./s, 720p"})]}),C.jsxs("div",{className:"setup-item mb-4",children:[C.jsx("div",{className:"flex flex-wrap",children:C.jsxs("h4",{className:"text-lg font-bold text-white z-10 relative",children:["Objectif principal:"," ",C.jsx("span",{className:"text-lg font-light text-white z-10 relative",children:"Sony DT 18-55mm f/3.5-5.6 SAM"})]})}),C.jsx("p",{className:"text-sm font-light text-white z-10 relative",children:"210g, 18-55mm, f/3.5-5.6, SAM"})]}),C.jsxs("div",{className:"setup-item mb-8",children:[C.jsx("div",{className:"flex flex-wrap",children:C.jsxs("h4",{className:"text-lg font-bold text-white z-10 relative",children:["Objectif Macro:"," ",C.jsx("span",{className:"text-lg font-light text-white z-10 relative",children:"Tamron SP AF 70-300mm f/4-5.6 Di VC USD"})]})}),C.jsx("p",{className:"text-sm font-light text-white z-10 relative",children:"240g, 10-18mm, f/4.5-5.6, STM, stabilisé"})]}),C.jsx(wn,{color1:"#10b3c2"}),C.jsxs("div",{className:"setup-item mb-4",children:[C.jsx("div",{className:"flex flex-wrap",children:C.jsxs("h4",{className:"text-2xl font-bold text-white z-10 relative",children:["PhotoPhone:"," ",C.jsx("span",{className:"text-2xl font-light text-white z-10 relative",children:"Samsung Galaxy ZFold 4"})]})}),C.jsx("p",{className:"text-sm font-light text-white z-10 relative",children:"271g, 12MP, 2x12MP, 2.9x, 4K"})]}),C.jsxs("div",{className:"setup-item mb-4",children:[C.jsx("div",{className:"flex flex-wrap",children:C.jsxs("h4",{className:"text-lg font-bold text-white z-10 relative",children:["Caméra d'action:"," ",C.jsx("span",{className:"text-lg font-light text-white z-10 relative",children:"G-Eye 2 Discover"})]})}),C.jsx("p",{className:"text-sm font-light text-white z-10 relative",children:"60g, 5MP, 1080p, 30m"})]}),C.jsxs("div",{className:"setup-item",children:[C.jsx("div",{className:"flex flex-wrap",children:C.jsxs("h4",{className:"text-lg font-bold text-white z-10 relative",children:["Trépied:"," ",C.jsx("span",{className:"text-lg font-light text-white z-10 relative",children:"Joby GorillaPod 3K Stand"})]})}),C.jsx("p",{className:"text-sm font-light text-white z-10 relative",children:"Max: 3kg, 24cm, 0.247kg"})]})]})]})})})})})})})}function ine(){const n=window.innerWidth<1024,[e,t]=ae.useState(!1),{ref:i,inView:r}=Yw({triggerOnce:!1});return ae.useEffect(()=>{document.body.style.backgroundColor=r?"#040404":"white"},[r]),C.jsxs(C.Fragment,{children:[C.jsx("h2",{id:"contact"}),C.jsxs("section",{ref:i,className:"flex flex-col md:flex-row items-center justify-center p-10",children:[C.jsx("div",{className:`flex flex-col items-center justify-center mb-3 ${n?"":"w-1/2 ml-32"}`,children:C.jsxs("div",{className:"w-full flex flex-col items-start",children:[C.jsx("a",{href:"#realisations",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:C.jsx("h1",{className:`${n?"text-3xl":"text-5xl"} font-bold mb-5 bg-clip-text text-transparent hover:bg-[#e0a4ff] transition-colors duration-200 bg-[#3f3f46] text-left hover:text-[#e0a4ff]`,style:{fontFamily:"Sohne,sans-serif"},children:C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("div",{children:"MON MATÉRIEL"}),C.jsx(pB,{size:50,className:"transition-colors duration-200",style:{color:e?"#e0a4ff":"#3f3f46"}})]})})}),C.jsx("a",{href:"#competences",children:C.jsx("h1",{className:`${n?"text-3xl":"text-5xl"} font-bold mb-5 bg-clip-text text-transparent hover:bg-[#feea9e] transition-colors duration-200 bg-[#3f3f46] text-left hover:text-[#feea9e]`,style:{fontFamily:"Sohne,sans-serif"},children:"MES ALBUMS"})}),C.jsx("a",{href:"#about",children:C.jsx("h1",{className:`${n?"text-3xl":"text-5xl"} font-bold mb-5 bg-clip-text text-transparent hover:bg-[#98edff] transition-colors duration-200 bg-[#3f3f46] text-left hover:text-[#98edff]`,style:{fontFamily:"Sohne,sans-serif"},children:"CONTACT"})})]})}),C.jsx(TD,{})]}),C.jsx(vD,{})]})}const rne=[{previewImgTwo:"https://live.staticflickr.com/65535/53465345737_d97e83e06f_o.png",previewImgThree:"https://live.staticflickr.com/65535/53466252736_939c6df14c_o.png",content:"<p>Hi !</p>",camera:"Canon EOS 800D",previewImgOne:"https://live.staticflickr.com/65535/53465282817_5185289c8d_o.png",lenses:[["Canon EF-S 18-55mm f/4-5.6 IS STM"]],title:"Bordeaux December Lights",date:"Décembre 2023",shortDesc:"Week-end photo à Bordeaux, principalement de nuit."},{previewImgTwo:"https://live.staticflickr.com/65535/53465282817_5185289c8d_o.png",previewImgThree:"https://live.staticflickr.com/65535/53466252736_939c6df14c_o.png",content:'<p>Hi !</p><img src="https://live.staticflickr.com/65535/53466252736_939c6df14c_o.png" alt="Image quatrième">',camera:"Canon EOS 800D",previewImgOne:"https://live.staticflickr.com/65535/53465345737_d97e83e06f_o.png",lenses:[["Canon EF-S 18-55mm f/4-5.6 IS STM"]],title:"Bordeaux December Lights",date:"Décembre 2022",shortDesc:"Week-end photo à Bordeaux, principalement de nuit."}],sne=rne;class one{constructor(e){ti(this,"title","");ti(this,"shortDesc","");ti(this,"date","");ti(this,"camera","");ti(this,"lenses",[]);ti(this,"previewImgOne","");ti(this,"previewImgTwo","");ti(this,"previewImgThree","");ti(this,"content","");this.title=e.title,this.shortDesc=e.shortDesc,this.date=e.date,this.camera=e.camera,this.lenses=e.lenses.flat(),this.previewImgOne=e.previewImgOne,this.previewImgTwo=e.previewImgTwo,this.previewImgThree=e.previewImgThree,this.content=e.content}getPhotoCount(){return(this.content.match(/<img/g)||[]).length+3}getYear(){const e=/\d{4}/,t=this.date.match(e);return t?t[0]:""}}const jP=sne.map(n=>new one(n));function ane({album:n,setFocus:e,index:t}){const i=window.innerWidth<1024,r=window.innerWidth/1920*1600,[s,o]=ae.useState(!1),[a,l]=Yw({triggerOnce:!1});return C.jsx("div",{className:"overflow-hidden col-span-full lg:col-span-1","data-projection-id":"18",style:{opacity:1,transform:"none"},children:C.jsxs("div",{className:"group relative focus:outline-none block py-4 lg:py-10 px-6 lg:px-14 overflow-hidden transform transition h-full will-change-transform cursor-pointer image-filter",style:{backgroundImage:`url(${n.previewImgOne})`,backgroundSize:"cover",backgroundPosition:"center",height:"300px"},onClick:()=>{e(t)},children:[C.jsx("h3",{className:"absolute top-0 left-0 p-4 text-white text-lg font-bold",style:{fontFamily:"Expose, Arial, sans-serif",letterSpacing:"0.1em",fontWeight:400,fontSize:i?"1.20rem":"1.50rem"},children:n.title}),C.jsxs(yr.div,{ref:a,className:"absolute top-0 right-8 p-4 text-white text-base font-bold flex items-center",style:{fontFamily:"Expose, Arial, sans-serif",letterSpacing:"0.1em",fontWeight:400},initial:{scale:0},animate:{rotate:l?360:0,scale:l?1:0},transition:{type:"spring",stiffness:260,damping:20},children:[n.getPhotoCount(),C.jsx("span",{className:"ml-1",children:"/"}),C.jsx("span",{className:"ml-1",children:C.jsx(Bz,{})})]}),C.jsxs("div",{style:{position:"absolute",bottom:"12px",width:"100%",display:"flex",alignItems:"center",zIndex:999},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[C.jsx(yr.div,{style:{height:"3px",backgroundColor:"white"},animate:{width:s?i?"50px":r:"50px"},transition:{type:"spring",stiffness:s?100:80,damping:s?20:40,duration:5}}),C.jsx(yr.div,{style:{color:"white",fontSize:i?"15px":"20px",fontFamily:"Expose, Arial, sans-serif",margin:"0 10px",zIndex:999,whiteSpace:"nowrap"},animate:{marginLeft:"10px"},transition:{type:"spring",stiffness:100,duration:3},children:"Full Story"}),C.jsx(yr.div,{style:{height:"3px",backgroundColor:"white"},animate:{width:i?"calc(100% - 300px)":"calc(100% - 350px)"},transition:{type:"spring",stiffness:100,duration:3}}),C.jsx(yr.div,{style:{color:"white",fontSize:i?"15px":"20px",fontFamily:"Expose, Arial, sans-serif",margin:"0 10px",marginRight:"7%",whiteSpace:"nowrap"},children:n.date})]})]})})}function lne({setFocus:n}){const e=jP.map(l=>l.getYear()),[t,i]=ae.useState(!1),[r,s]=ae.useState("all"),o=()=>{i(!t),a("all")},a=l=>{s(l)};return C.jsx(C.Fragment,{children:C.jsx("section",{className:"scroll-mt-8 lg:scroll-mt-0 mb-5",children:C.jsx("div",{className:"overflow-hidden",children:C.jsx("div",{className:" py-12 relative z-0 bg-gh-marketingDark",children:C.jsx("div",{className:"grid grid-cols-12",children:C.jsxs("div",{className:"col-span-12",children:[C.jsxs("div",{className:"flex flex-col mx-20 mb-10",children:[C.jsx("div",{className:"relative",children:C.jsx("h2",{className:"text-5xl font-extrabold text-white mb-8 z-10 relative",id:"realisations",children:"Mes Albums"})}),C.jsxs("div",{className:"flex flex-wrap",children:[C.jsxs("button",{className:"mb-4 mr-8 px-4 py-2 text-md items-center font-medium opacity-80 m-1 text-white whitespace-nowrap rounded-full focus:ring-0 focus:outline-none hover:bg-white hover:bg-opacity-10 focus:bg-white focus:bg-opacity-10 my-1 transition-all",onClick:o,children:[C.jsx(Rz,{className:"inline-block mr-2 -mt-[0.4em] opacity-40 text-xl"}),"Toutes les années"]}),C.jsx("div",{className:`flex flex-wrap transition-all duration-1000 transform origin-left ${t?"scale-x-100":"scale-x-0"}`,children:t?e.map(l=>C.jsx(C.Fragment,{children:C.jsxs("button",{style:{borderWidth:"1px"},className:"-ml-4 mb-4 px-4 py-2 text-md flex items-center font-medium opacity-80 m-1 text-white whitespace-nowrap rounded-full focus:ring-0 focus:outline-none hover:bg-white hover:bg-opacity-10 focus:bg-white focus:bg-opacity-10 mx-8 my-1 transition-all ease-in-out duration-500",onClick:()=>a(l),children:[C.jsx("div",{className:"absolute -inset-20 pointer-events-none"}),C.jsx("span",{children:l})]},l)})):C.jsx(C.Fragment,{})})]})]}),C.jsx("div",{className:"col-span-full",children:jP.filter(l=>r==="all"?!0:l.getYear()===r).map((l,c)=>C.jsx(ane,{album:l,setFocus:n,index:c},`${l.getYear()}-${c}`))})]})})})})})})}function cne({setIsDev:n}){const[e,t]=ae.useState(null),i=window.innerWidth<1024;return e===null?C.jsxs(C.Fragment,{children:[C.jsx(PX,{setIsDev:n}),!i&&C.jsxs("div",{className:"project-container mb-6",style:{display:"grid",gridTemplateColumns:"2fr 1fr",overflow:"auto"},children:[C.jsx("div",{style:{overflowY:"hidden"},children:C.jsx(VP,{})}),C.jsx("div",{children:C.jsx(nne,{})})]})||C.jsxs(C.Fragment,{children:[C.jsx("img",{className:"rounded-full object-cover w-32 h-32 mx-auto mb-6",src:"canon_800d.gif",width:"100%"}),C.jsx(VP,{})]}),C.jsx(lne,{setFocus:t}),C.jsx(ine,{})]}):C.jsx("h1",{children:"Consult Albums"})}const une=()=>{const n=localStorage.getItem("lastOpenedPage");return n?JSON.parse(n):(localStorage.setItem("lastOpenedPage",JSON.stringify(!0)),!0)};function dne(){const[n,e]=ae.useState(une()),t=i=>{e(i),localStorage.setItem("lastOpenedPage",JSON.stringify(i))};return n?C.jsx(RX,{setIsDev:t}):C.jsx(cne,{setIsDev:t})}d1.createRoot(document.getElementById("root")).render(C.jsx(hn.StrictMode,{children:C.jsx(dne,{})}));
